<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<title>BYZ </title>
<meta name="description" content="BYZ in the Hood creates unforgettable experiences through exclusive parties, legendary events, and vibrant community gatherings in Dar es Salaam." />

  <style>
/* ===================== APPLE-LIKE DESIGN TOKENS (DARK MODE ONLY) ===================== */
:root{
  --bg:#000000;
  --bg-alt:#1c1c1e;
  --bg-elev:#0b0b0c;
  --text:#f5f5f7;
  --sub:#a1a1a6;
  --border:#2c2c2e;
  --accent:#ffffff;
  --shadow: 0 18px 60px rgba(0,0,0,.35);
  --shadow-soft: 0 10px 30px rgba(0,0,0,.35);
  --ease: cubic-bezier(.2,.8,.2,1);
  --max: 1100px;
  --radius: 22px;
  --radius-lg: 28px;

  --header-h: 64px;
}

/* ===================== BASE ===================== */
*{box-sizing:border-box;margin:0;padding:0}
html{scroll-behavior:smooth}
body{
  font-family:-apple-system,BlinkMacSystemFont,"SF Pro Text","Helvetica Neue",Helvetica,Arial,sans-serif;
  background:var(--bg);
  color:var(--text);
  line-height:1.55;
  transition: background .35s var(--ease), color .35s var(--ease);
  overflow-x:hidden;
}

/* ===================== iOS KEYBOARD: LOCK PAGE SCROLLING WHEN CHAT OPEN (Mobile Only) ===================== */
@media (max-width: 767px) {
  html.chat-open,
  html.chat-open body {
    height: 100%;
    overflow: hidden;
    position: fixed;
    width: 100%;
  }
  
  body.chat-open {
    height: 100%;
    overflow: hidden;
    position: fixed;
    width: 100%;
  }
}
a{color:inherit;text-decoration:none}
.container{max-width:var(--max);margin:0 auto;padding:0 24px}

/* ===================== HEADER ===================== */
header{
  position:fixed;top:0;left:0;right:0;
  height:var(--header-h);
  background: color-mix(in srgb, var(--bg) 86%, transparent);
  backdrop-filter: blur(18px);
  border-bottom:1px solid var(--border);
  z-index:999;
}
.header-inner{
  height:var(--header-h);
  display:flex;align-items:center;justify-content:space-between;
  gap:16px;
}
.brand{
  display:flex;align-items:center;gap:10px;
  font-weight:700;letter-spacing:-.4px;
}
.brand-logo-wrap{
  width:52px;
  height:52px;
  border-radius:14px;
  overflow:hidden;
  display:grid;
  place-items:center;
}
  
.brand-logo{
  width:100%;
  height:100%;
  object-fit:contain;
  display:block;
}

.logo-light{display:none;}
.logo-dark{display:block;}

nav ul{display:flex;gap:26px;list-style:none;align-items:center}
nav a{font-size:15px;color:var(--sub);transition:color .2s var(--ease)}
nav a:hover{color:var(--text)}
.header-actions{display:flex;align-items:center;gap:12px}

/* Mobile menu */
.mobile-btn{
  display:none;
  width:40px;height:40px;border-radius:14px;
  border:1px solid var(--border);
  background:var(--bg-elev);
  align-items:center;justify-content:center;
  cursor:pointer;
  transition: transform .2s var(--ease), background .2s var(--ease);
}
.mobile-btn:hover{transform: translateY(-1px)}
.mobile-panel{
  display:none;
  position:fixed;
  top:var(--header-h);
  right:16px;
  width:min(360px, calc(100vw - 32px));
  background: color-mix(in srgb, var(--bg) 92%, transparent);
  border:1px solid var(--border);
  border-radius:20px;
  box-shadow: var(--shadow);
  padding:14px;
  z-index:998;
}
.mobile-panel a{
  display:flex;
  padding:12px 12px;
  border-radius:14px;
  color:var(--sub);
  transition: background .2s var(--ease), color .2s var(--ease);
}
.mobile-panel a:hover{
  background: color-mix(in srgb, var(--border) 22%, transparent);
  color:var(--text);
}

/* Apple-like buttons */
.btn{
  display:inline-flex;align-items:center;justify-content:center;
  gap:10px;
  padding:12px 18px;border-radius:999px;
  font-size:14px;font-weight:600;
  border:1px solid var(--border);
  background:var(--bg-elev);
  color:var(--text);
  transition: transform .25s var(--ease), box-shadow .25s var(--ease), background .25s var(--ease);
  cursor:pointer;
}
.btn:hover{transform: translateY(-2px); box-shadow: var(--shadow-soft)}
.btn.primary{
  background:var(--accent);
  border-color:transparent;
  color:var(--bg);
}
.btn.primary:hover{box-shadow: 0 18px 60px rgba(0,0,0,.18)}
.btn.ghost{
  background: transparent;
}
    /* WhatsApp icon styling in buttons */
.btn i.fa-whatsapp,
.btn i.fa-brands.fa-whatsapp {
  color: #25D366;
}
.cta{
  padding:10px 14px;
  border-radius:999px;
  background:var(--accent);
  color:var(--bg);
  font-size:14px;font-weight:600;
  border:none;
  transition: transform .25s var(--ease), box-shadow .25s var(--ease);
}
.cta:hover{transform: translateY(-2px); box-shadow: var(--shadow-soft)}

  
/* ===================== HERO (APPLE STORYTELLING) ===================== */
main{padding-top:var(--header-h)}
.hero{
  padding: 78px 0 62px;
  background:
    radial-gradient(900px 380px at 50% -10%, color-mix(in srgb, var(--border) 35%, transparent), transparent 70%),
    linear-gradient(180deg, color-mix(in srgb, var(--bg-alt) 70%, transparent), transparent 52%);
}
.hero-grid{
  display:grid;
  grid-template-columns: 1.1fr .9fr;
  gap:34px;
  align-items:center;
}
.kicker{
  display:inline-flex;
  align-items:center;
  gap:10px;
  padding:9px 14px;
  border:1px solid var(--border);
  background: color-mix(in srgb, var(--bg-elev) 90%, transparent);
  border-radius:999px;
  color:var(--sub);
  font-size:13px;
}
.hero h1{
  margin-top:16px;
  font-size: clamp(2.35rem, 5.3vw, 4rem);
  letter-spacing:-1.2px;
  line-height:1.08;
}
.hero p{
  margin-top:14px;
  max-width: 44ch;
  color:var(--sub);
  font-size: 17px;
}
.hero-actions{
  margin-top:22px;
  display:flex;
  gap:12px;
  flex-wrap:wrap;
}
.hero-metrics{
  margin-top:26px;
  display:flex;
  gap:22px;
  flex-wrap:wrap;
}
.metric{
  padding:14px 16px;
  border-radius:18px;
  border:1px solid var(--border);
  background: color-mix(in srgb, var(--bg-elev) 90%, transparent);
}
.metric strong{
  display:block;
  font-size:22px;
  letter-spacing:-.6px;
}
.metric span{
  display:block;
  margin-top:2px;
  font-size:12px;
  color:var(--sub);
  letter-spacing:.12em;
  text-transform:uppercase;
}
  
.hero-card{
  border: 1px solid var(--border);
  border-radius: var(--radius-lg);
  background: var(--bg-elev);
  box-shadow: var(--shadow);
  padding: 14px;
}


.hero-card-media{
  position: relative;
  height: 240px;
  overflow: hidden;
  background: #000;
  border: 1px solid var(--border);
  border-radius: 18px;
  box-shadow: var(--shadow-soft);
}

.hero-card-media::after{
  content:"";
  position:absolute;
  inset:0;
  background: linear-gradient(180deg, rgba(0,0,0,.08), rgba(0,0,0,.28));
  z-index:1;
}
.hero-card-media video{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  object-fit:cover;
  display:block;
  z-index:0;
}


.hero-card-body{
  padding: 18px 18px 20px;
}
.hero-card-body h3{
  font-size:16px;
  letter-spacing:-.2px;
}
.hero-card-body p{
  margin-top:6px;
  font-size:14px;
  color:var(--sub);
}

/* Countdown (next event) */
.countdown{
  margin-top:14px;
  display:grid;
  grid-template-columns: repeat(4, 1fr);
  gap:10px;
  padding:10px;
  border:1px solid var(--border);
  border-radius:18px;
  background: color-mix(in srgb, var(--bg-elev) 92%, transparent);
  box-shadow: var(--shadow-soft);
}

.timebox{
  padding:12px 10px;
  border:1px solid var(--border);
  border-radius: 16px;
  text-align:center;
  background: color-mix(in srgb, var(--bg-alt) 70%, transparent);
}
.timebox .num{
  font-size:20px;
  font-weight:700;
  letter-spacing:-.4px;
}
.timebox .lab{
  margin-top:3px;
  font-size:11px;
  color:var(--sub);
  letter-spacing:.12em;
  text-transform:uppercase;
}

/* ===================== SECTIONS ===================== */
section{padding: 92px 0}
.section-title{
  text-align:center;
  margin-bottom: 40px;
}
.section-title h2{
  font-size: 34px;
  letter-spacing:-.9px;
}
.section-title p{
  margin-top:10px;
  color:var(--sub);
}

/* ===================== WE HOST (EVENTS) ===================== */
.cards{
  display:grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 18px;
  padding: 0 16px; /* more space from screen edges */
}
@media (max-width: 980px){
  .cards{ padding: 0 14px; }
  .cards{grid-template-columns:1fr}
}
@media (max-width: 560px){
  .cards{ padding: 0 12px; }
}

.card{
  border-radius: 22px !important;
  border: 1px solid var(--border);
  background: var(--bg-elev);
  box-shadow: var(--shadow-soft);
  overflow:hidden;
  transition: transform .25s var(--ease), box-shadow .25s var(--ease);
  position:relative;
}
.card:hover{transform: translateY(-4px); box-shadow: var(--shadow)}
.card-top{
  height: 140px;
  background: #ddd;
}
.card-top.groove{
  background:
    linear-gradient(180deg, rgba(0,0,0,.08), rgba(0,0,0,.32)),
    url("assets/assets/events/groove.jpg")
    center/cover no-repeat;
}
.card-top.apt{
  background:
    linear-gradient(180deg, rgba(0,0,0,.08), rgba(0,0,0,.32)),
    url("assets/assets/events/apt.jpg")
    center/cover no-repeat;
}
.card-top.tempo{
  background:
    linear-gradient(180deg, rgba(0,0,0,.08), rgba(0,0,0,.32)),
    url("assets/assets/events/tempo.JPG")
    center/cover no-repeat;
}
.card-body{
  padding: 18px 18px 20px;
}
.card-body h3{font-size:16px;letter-spacing:-.3px}
.card-body p{margin-top:8px;color:var(--sub);font-size:14px}
.card-actions{margin-top:14px;display:flex;gap:10px;flex-wrap:wrap}

 /* ===================== ARTIST CARDS ===================== */
.artist-card {
  /* Inherits from .card */
}

.card-top.artist-photo {
  height: 140px;
  border-radius: 18px 18px 0 0;
  background-size: cover;
  background-position: center 30%;
  position: relative;
  background-color: #000;
}

.card-top.artist-photo::after {
  content: "";
  position: absolute;
  inset: 0;
  background: linear-gradient(180deg, rgba(0,0,0,.08), rgba(0,0,0,.28));
  border-radius: 18px 18px 0 0;
  pointer-events: none;
}

/* Artist Header: Name + Social Links */
.artist-header {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 12px;
  margin-bottom: 10px;
}

.artist-header h3 {
  font-size: 18px;
  letter-spacing: -0.3px;
  margin: 0;
  line-height: 1.2;
}

.artist-genres {
  margin-top: 4px;
  font-size: 12px;
  color: var(--sub);
  font-weight: 600;
  letter-spacing: -0.01em;
  line-height: 1.4;
}

/* Inline Social Icons (Compact) */
.artist-social-inline {
  display: flex;
  gap: 6px;
  flex-shrink: 0;
  align-items: flex-start;
}

.artist-social-icon {
  width: 36px;
  height: 36px;
  border-radius: 10px;
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--bg-alt) 70%, transparent);
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text);
  transition: transform 0.2s var(--ease), box-shadow 0.2s var(--ease), background 0.2s var(--ease);
  font-size: 16px;
  flex-shrink: 0;
}

.artist-social-icon:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-soft);
  background: color-mix(in srgb, var(--bg-elev) 90%, transparent);
}

.artist-social-icon:active {
  transform: translateY(0);
}

.artist-bio {
  margin-top: 8px;
  font-size: 14px;
  color: var(--sub);
  line-height: 1.5;
}

/* Portfolio Section (Compact, Mobile-Friendly) */
.artist-portfolio {
  margin-top: 14px;
  padding-top: 14px;
  border-top: 1px solid var(--border);
}

.portfolio-label {
  font-size: 11px;
  font-weight: 700;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: var(--sub);
  margin-bottom: 8px;
}

.portfolio-links {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: none;
  padding-bottom: 2px;
}

.portfolio-links::-webkit-scrollbar {
  display: none;
}

.portfolio-link {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 8px 12px;
  border-radius: 12px;
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--bg-alt) 70%, transparent);
  font-size: 12px;
  font-weight: 600;
  color: var(--text);
  text-decoration: none;
  white-space: nowrap;
  transition: transform 0.2s var(--ease), box-shadow 0.2s var(--ease), background 0.2s var(--ease);
  min-height: 36px;
  flex-shrink: 0;
}

.portfolio-link i {
  font-size: 14px;
}

.portfolio-link:hover {
  transform: translateY(-1px);
  box-shadow: var(--shadow-soft);
  background: color-mix(in srgb, var(--bg-elev) 90%, transparent);
}

.portfolio-link:active {
  transform: translateY(0);
}

/* Artist Actions (Contact Buttons) */
.artist-actions {
  margin-top: 16px;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.artist-actions .btn {
  min-height: 44px;
  justify-content: center;
  font-size: 14px;
  font-weight: 600;
}

/* Mobile Optimizations */
@media (max-width: 560px) {
  .artist-header {
    flex-direction: column;
    gap: 10px;
  }

  .artist-social-inline {
    align-self: flex-start;
  }

  .portfolio-links {
    flex-wrap: nowrap;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    padding-right: 4px;
  }

  .portfolio-link {
    flex-shrink: 0;
  }

  .card-top.artist-photo {
    height: 180px;
  }
}

@media (max-width: 980px) {
  .cards {
    grid-template-columns: 1fr;
  }
}
    
  .events-strip{
  margin-top:18px;
  margin-left:16px;
  margin-right:16px;
  border:1px solid var(--border);
  border-radius:22px;
  background:color-mix(in srgb, var(--bg-alt) 70%, transparent);
  padding:16px 18px;
  display:flex;
  gap:12px;
  align-items:center;
  justify-content:space-between;
  flex-wrap:wrap;
}
@media (max-width: 980px){
  .events-strip{ margin-left:14px; margin-right:14px; }
}
@media (max-width: 560px){
  .events-strip{ margin-left:12px; margin-right:12px; padding:16px; }
}


/* ===================== FLOATING PARTY ICONS (GROOVE / TEMPO / APT) ===================== */
.party-float{
  position:fixed;
  left:16px;
  bottom:16px;
  display:flex;
  flex-direction:column;
  gap:10px;
  z-index: 900;
}
.party-float{ display:none !important; }
.party-chip{
  width:52px;height:52px;border-radius:18px;
  border:1px solid var(--border);
  background: color-mix(in srgb, var(--bg) 88%, transparent);
  backdrop-filter: blur(12px);
  display:flex;align-items:center;justify-content:center;
  box-shadow: var(--shadow-soft);
  cursor:pointer;
  position:relative;
  transition: transform .2s var(--ease);
}
.party-chip:hover{transform: translateY(-2px)}
.party-chip svg{width:22px;height:22px;fill:var(--text)}
.party-chip img.party-icon-img{
  width:22px;
  height:22px;
  object-fit:contain;
  display:block;
}
.party-pop{
  position:absolute;
  left: 62px;
  bottom: 0;
  width: 280px;
  border-radius: 18px;
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--bg) 92%, transparent);
  box-shadow: var(--shadow);
  padding: 14px;
  opacity:0;
  transform: translateY(8px);
  pointer-events:none;
  transition: opacity .2s var(--ease), transform .2s var(--ease);
}
.party-chip:hover .party-pop{
  opacity:1;
  transform: translateY(0);
  pointer-events:auto;
}
.party-pop h4{
  font-size:14px;
  letter-spacing:-.2px;
}
.party-pop p{
  margin-top:6px;
  font-size:13px;
  color:var(--sub);
}
.party-pop .pop-actions{
  margin-top:12px;
  display:flex;
  gap:10px;
  flex-wrap:wrap;
}
.mini{
  padding:9px 12px;
  border-radius:999px;
  border:1px solid var(--border);
  background: var(--bg-elev);
  font-size:12px;
  font-weight:600;
  transition: transform .2s var(--ease), box-shadow .2s var(--ease);
}
.mini:hover{transform: translateY(-2px); box-shadow: var(--shadow-soft)}
.mini.primary{
  background: var(--accent);
  color: var(--bg);
  border-color: transparent;
}

/* ===================== QUICK BOOK FAB (MOBILE) ===================== */
.quick-book-fab {
  position: fixed;
  right: 16px;
  bottom: 90px;
  width: 56px;
  height: 56px;
  border-radius: 28px;
  background: var(--accent);
  color: var(--bg);
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 8px 24px rgba(0,0,0,.3);
  z-index: 901;
  transition: all 0.3s var(--ease);
  animation: pulse 2s ease-in-out infinite;
}

.quick-book-fab:hover {
  transform: scale(1.1);
  box-shadow: 0 12px 32px rgba(0,0,0,.4);
}

.quick-book-fab i {
  font-size: 24px;
}

@media (max-width: 640px) {
  .quick-book-fab {
    display: flex;
  }
}

@media (min-width: 641px) {
  .quick-book-fab {
    display: none;
  }
}

/* ===================== SOCIAL FLOATING DOCK (IG / TIKTOK / WHATSAPP / ADMIN) - COLLAPSIBLE ===================== */
.social-dock{
  position: fixed !important;
  bottom: 120px !important; /* FORCED POSITION - NO OVERLAP */
  right: 16px !important;
  z-index: 1001 !important;
  display: flex !important;
  flex-direction: column !important;
  gap: 12px !important;
  align-items: flex-end !important;
  pointer-events: none;
  transition: opacity 0.3s var(--ease), transform 0.3s var(--ease);
}

/* On mobile, ensure social dock is always above chat widget */
@media (max-width: 767px) {
  .social-dock {
    z-index: 1003 !important;
  }
}

/* Hide social dock when chat window is open */
.chat-window:not(.byz-hidden) ~ * .social-dock,
body:has(.chat-window:not(.byz-hidden)) .social-dock,
.social-dock.chat-open {
  opacity: 0 !important;
  visibility: hidden !important;
  pointer-events: none !important;
  transform: translateY(20px) !important;
}

/* Social dock icons - ALWAYS VISIBLE */
.social-dock .soc {
  opacity: 1 !important;
  transform: translateY(0) scale(1) rotate(0deg) !important;
  pointer-events: auto !important;
  margin: 0 !important;
  max-height: none !important;
  overflow: visible !important;
}

@keyframes popOut {
  0% {
    opacity: 0;
    transform: translateY(20px) scale(0) rotate(180deg);
  }
  60% {
    transform: translateY(-8px) scale(1.1) rotate(-5deg);
  }
  80% {
    transform: translateY(2px) scale(0.95) rotate(2deg);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1) rotate(0deg);
  }
}

/* Social dock toggle - HIDDEN (permanently open) */
.social-dock-toggle {
  display: none !important;
}

.soc{
  width:52px;height:52px;border-radius:18px;
  border:1px solid var(--border);
  background: color-mix(in srgb, var(--bg) 88%, transparent);
  backdrop-filter: blur(12px);
  display:flex;align-items:center;justify-content:center;
  box-shadow: var(--shadow-soft);
  transition: transform .2s var(--ease), background .2s var(--ease);
  position: relative;
  z-index: 1001;
}

/* On mobile, ensure social icons are above chat widget */
@media (max-width: 767px) {
  .soc {
    z-index: 1003 !important;
  }
}

.soc:hover{transform: translateY(-2px)}

/* Font Awesome icons */
.soc i{
  font-size:22px;
  color:var(--text);
}

/* ✅ Facebook blue */
.soc.facebook i{ color:#1877F2; }
.soc.facebook:hover{
  background: color-mix(in srgb, #1877F2 14%, var(--bg) 86%);
  border-color: color-mix(in srgb, #1877F2 45%, var(--border) 55%);
}

/* Optional: subtle platform hover cues */
.soc.instagram:hover{
  background: color-mix(in srgb, #E1306C 14%, var(--bg) 86%);
}
.soc.tiktok:hover{
  background: color-mix(in srgb, #00f2ea 10%, var(--bg) 90%);
}

/* Admin lock hover */
.soc.admin-lock:hover{
  background: color-mix(in srgb, var(--accent) 16%, var(--bg) 84%);
}


/* ===================== YOUTUBE SECTION (FEATURE + 3 THUMBNAILS) ===================== */
.youtube-wrap{
  display:grid;
  grid-template-columns: 1.35fr .65fr;
  gap:16px;
  align-items:start;
}
.video-main{
  border-radius: 28px !important;
  overflow:hidden;
  border:1px solid var(--border);
  background: var(--bg-elev);
  box-shadow: var(--shadow);
}
.video-frame{
  width:100%;
  aspect-ratio: 16/9;
  background:#000;
}
    .video-frame {
  width:100%;
  aspect-ratio: 16/9;
  background:#000;
  transition: opacity 0.3s var(--ease);
}

.video-frame iframe {
  width:100%;
  height:100%;
  border:0;
  transition: opacity 0.3s var(--ease);
}
.video-frame iframe{
  width:100%;height:100%;
  border:0;
}
.video-main-meta{
  padding:16px 16px 18px;
}
.video-main-meta h3{
  font-size:16px;
  letter-spacing:-.3px;
}
.video-main-meta p{
  margin-top:6px;
  font-size:14px;
  color:var(--sub);
}
.youtube-actions{
  margin-top:12px;
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  align-items:center;
}
.subscribe{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:10px;

  height:36px;
  padding:0 16px;
  border-radius:999px;

  background:#ff0000;
  color:#fff;
  font-weight:800;
  font-size:14px;
  letter-spacing:.2px;
  text-decoration:none;
  border:0;

  transition: transform .2s var(--ease), box-shadow .2s var(--ease), filter .2s var(--ease);
}

.subscribe i{
  font-size:18px;
  line-height:1;
  color:#fff;
}

.subscribe span{
  line-height:1;
}

.subscribe:hover{
  transform: translateY(-2px);
  box-shadow: var(--shadow-soft);
  filter: brightness(.96);
}

.subscribe:active{
  transform: translateY(0);
  filter: brightness(.9);
}
  
.channel-link{
  font-size:13px;
  color:var(--sub);
  border-bottom:1px solid transparent;
}
.channel-link:hover{border-bottom-color:var(--sub)}
    
.video-list{
  display:flex;
  flex-direction:row;
  overflow-x:auto;
  overflow-y:hidden;
  gap:16px;
  padding:12px 0;
  scroll-snap-type:x mandatory;
  -webkit-overflow-scrolling:touch;
  scrollbar-width:thin;
  scrollbar-color:var(--border) transparent;
}

.video-list::-webkit-scrollbar{
  height:4px;
}

.video-list::-webkit-scrollbar-track{
  background:transparent;
}

.video-list::-webkit-scrollbar-thumb{
  background:var(--border);
  border-radius:2px;
}
    /* Hide video thumbnail previews for now */
.video-list {
  display: none;
}
/* ===================== VIDEO THUMBNAIL CARDS (Vertical Card Style) ===================== */
.thumb{
  display:flex;
  flex-direction:column;
  flex-shrink:0;
  scroll-snap-align:start;
  min-width:220px;
  max-width:220px;
  border-radius: 22px !important;
  border:1px solid var(--border);
  background:var(--bg-elev);
  box-shadow:var(--shadow-soft);
  overflow:hidden;
  cursor:pointer;
  transition:transform .25s var(--ease), box-shadow .25s var(--ease);
  position:relative;
}

.thumb:hover{
  transform:translateY(-4px);
  box-shadow:var(--shadow);
}

/* Active video indicator */
.thumb.active{
  border-color:color-mix(in srgb, var(--accent) 40%, var(--border));
  box-shadow:0 4px 16px color-mix(in srgb, var(--accent) 15%, transparent),
             var(--shadow-soft);
}

.thumb-img{
  width:100%;
  height:124px;
  aspect-ratio:16/9;
  background:#000;
  position:relative;
  overflow:hidden;
}

.thumb-img::after{
  content:"";
  position:absolute;
  inset:0;
  background:linear-gradient(180deg, rgba(0,0,0,.08), rgba(0,0,0,.28));
  pointer-events:none;
  z-index:1;
}

.thumb-img img{
  width:100%;
  height:100%;
  object-fit:cover;
  display:block;
  transition:transform .3s var(--ease);
}

.thumb:hover .thumb-img img{
  transform:scale(1.05);
}

.play-badge{
  position:absolute;
  inset:auto auto 10px 10px;
  background:rgba(0,0,0,.65);
  color:#fff;
  font-size:11px;
  padding:6px 8px;
  border-radius:999px;
  display:flex;
  align-items:center;
  gap:6px;
  backdrop-filter:blur(10px);
  z-index:2;
  transition:opacity .2s var(--ease), transform .2s var(--ease);
}

.thumb:hover .play-badge{
  opacity:0.9;
  transform:scale(1.05);
}

.play-badge svg{
  width:14px;
  height:14px;
  fill:#fff;
}

.thumb-meta{
  padding:14px 14px 16px;
  display:flex;
  flex-direction:column;
  gap:6px;
  flex:1;
}

.thumb-meta strong{
  font-size:14px;
  letter-spacing:-.2px;
  font-weight:700;
  line-height:1.3;
  color:var(--text);
  display:-webkit-box;
  -webkit-line-clamp:2;
  -webkit-box-orient:vertical;
  overflow:hidden;
}

.thumb-meta span{
  font-size:12px;
  color:var(--sub);
  line-height:1.4;
}
    
@media (max-width: 560px) {
  .video-list {
    gap: 12px;
    padding: 12px 0;
  }

  .thumb {
    min-width: 200px;
    max-width: 200px;
  }

  .thumb-img {
    height: 112px;
  }

  .thumb-meta {
    padding: 12px 12px 14px;
    gap: 4px;
  }

  .thumb-meta strong {
    font-size: 13px;
    -webkit-line-clamp: 2;
  }

  .thumb-meta span {
    font-size: 11px;
  }

  .play-badge {
    font-size: 10px;
    padding: 4px 6px;
    inset: auto auto 8px 8px;
  }

  .play-badge svg {
    width: 12px;
    height: 12px;
  }
}

/* ===================== DJ / ARTIST ANNOUNCEMENTS SECTION ===================== */
.dj-grid{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:16px;
}
.dj-card{
  border-radius: 22px !important;
  border:1px solid var(--border);
  background: var(--bg-elev);
  box-shadow: var(--shadow-soft);
  padding:18px;
}
.dj-card h3{
  font-size:16px;
  letter-spacing:-.3px;
}
.dj-card p{
  margin-top:8px;
  color:var(--sub);
  font-size:14px;
}
.timeline{
  margin-top:14px;
  display:flex;
  flex-direction:column;
  gap:10px;
}
.slot{
  display:flex;
  justify-content:space-between;
  gap:12px;
  padding:12px 12px;
  border-radius: 16px;
  background: color-mix(in srgb, var(--bg-alt) 70%, transparent);
  border:1px solid var(--border);
}
.slot .left{
  display:flex;
  flex-direction:column;
  gap:4px;
}
.slot .time{
  font-weight:800;
  letter-spacing:-.2px;
}
.slot .who{
  font-size:13px;
  color:var(--sub);
}
.badge{
  align-self:flex-start;
  padding:6px 10px;
  border-radius: 999px;
  border:1px solid var(--border);
  font-size:12px;
  color:var(--sub);
  background: var(--bg-elev);
}

/* ===================== DJ ACCORDION STYLES ===================== */
.dj-card-collapsible {
  padding: 20px;
  border-radius: var(--radius);
  position: relative;
  overflow: hidden;
  background: var(--bg-elev);
  border: 1px solid var(--border);
  box-shadow: var(--shadow-soft);
  backdrop-filter: blur(20px);
  background: color-mix(in srgb, var(--bg-elev) 95%, transparent);
}

/* High-tech animated border glow */
.dj-card-collapsible::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: var(--radius);
  padding: 1px;
  background: linear-gradient(135deg, 
    color-mix(in srgb, var(--accent) 0%, transparent),
    color-mix(in srgb, var(--accent) 15%, transparent),
    color-mix(in srgb, var(--accent) 0%, transparent));
  -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  opacity: 0;
  transition: opacity 0.4s var(--ease);
  pointer-events: none;
}

.dj-card-collapsible:hover::before {
  opacity: 0.6;
}

/* Subtle inner glow */
.dj-card-collapsible::after {
  content: "";
  position: absolute;
  inset: -2px;
  border-radius: var(--radius);
  background: radial-gradient(circle at 30% 20%, 
    color-mix(in srgb, var(--accent) 8%, transparent) 0%,
    transparent 50%);
  opacity: 0;
  transition: opacity 0.4s var(--ease);
  pointer-events: none;
  z-index: 0;
}

.dj-card-collapsible:hover::after {
  opacity: 1;
}
/*Premium Header Button*/
.dj-card-header {
  width: 100%;
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 12px;
  padding: 0;
  margin: 0;
  border: none;
  background: transparent;
  cursor: pointer;
  transition: all 0.3s var(--ease);
  text-align: left;
  position: relative;
  z-index: 1;
}

.dj-card-header:hover {
  transform: translateX(2px);
}

.dj-card-header:active {
  opacity: 0.7;
}

.dj-card-header-text {
  flex: 1;
  min-width: 0;
}

.dj-card-header-text h3 {
  margin: 0;
  font-size: 16px;
  letter-spacing: -0.3px;
  font-weight: 700;
  color: var(--text);
  line-height: 1.3;
}

.dj-card-header-text p {
  margin: 8px 0 0 0;
  color: var(--sub);
  font-size: 14px;
  line-height: 1.4;
}

.dj-card-icon {
  flex-shrink: 0;
  font-size: 13px;
  color: var(--sub);
  margin-top: 2px;
  transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

.dj-card-header[aria-expanded="true"] .dj-card-icon {
  transform: rotate(180deg);
}
/*Collapse button (appears when expanded)*/
.dj-card-collapse-btn {
  display: none;
  width: 32px;
  height: 32px;
  border-radius: 50%;
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--bg-alt) 80%, transparent);
  color: var(--sub);
  font-size: 12px;
  cursor: pointer;
  transition: transform 0.2s var(--ease), background 0.2s var(--ease);
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.dj-card-header[aria-expanded="true"] .dj-card-collapse-btn {
  display: flex;
}

.dj-card-collapse-btn:hover {
  background: color-mix(in srgb, var(--bg-elev) 90%, transparent);
  transform: scale(1.1);
}

.dj-card-collapse-btn:active {
  transform: scale(0.95);
}

/*Collapsible Content - Smooth slide-out animation*/
.dj-card-content {
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94), 
              opacity 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94),
              margin-top 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  opacity: 0;
  margin-top: 0;
  transform: translateY(-8px);
}

.dj-card-header[aria-expanded="true"] ~ .dj-card-content {
  max-height: 3000px;
  opacity: 1;
  margin-top: 16px;
  transform: translateY(0);
}

/* ===================== CLEAN APPLE-STYLE DJ CARDS ===================== */
.timeline-wrapper {
  display: flex;
  flex-direction: column;
  gap: 12px;
  padding: 0;
}

.timeline {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

/* Remove timeline dots completely */
.timeline-dot {
  display: none;
}

/* Clean slot cards - Apple style */
.slot {
  position: relative;
  min-height: auto;
  margin: 0;
  padding: 0;
}

.slot-content {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 16px;
  padding: 16px 20px;
  border-radius: 18px;
  border: 1px solid var(--border);
  background: var(--bg-elev);
  box-shadow: var(--shadow-soft);
  transition: transform 0.25s var(--ease), box-shadow 0.25s var(--ease), border-color 0.25s var(--ease), background 0.25s var(--ease);
  position: relative;
  overflow: hidden;
  backdrop-filter: blur(10px);
  background: color-mix(in srgb, var(--bg-elev) 98%, transparent);
}

/* High-tech hover effect */
.slot-content::before {
  content: "";
  position: absolute;
  inset: 0;
  background: linear-gradient(135deg, 
    color-mix(in srgb, var(--accent) 0%, transparent) 0%,
    color-mix(in srgb, var(--accent) 3%, transparent) 50%,
    color-mix(in srgb, var(--accent) 0%, transparent) 100%);
  opacity: 0;
  transition: opacity 0.3s var(--ease);
  pointer-events: none;
}

.slot-content:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 32px color-mix(in srgb, var(--accent) 8%, transparent),
              var(--shadow);
  border-color: color-mix(in srgb, var(--accent) 30%, var(--border));
}

.slot-content:hover::before {
  opacity: 1;
}

/* Tech-style border glow on hover */
.slot-content::after {
  content: "";
  position: absolute;
  inset: -1px;
  border-radius: 18px;
  background: linear-gradient(135deg, 
    color-mix(in srgb, var(--accent) 0%, transparent),
    color-mix(in srgb, var(--accent) 20%, transparent),
    color-mix(in srgb, var(--accent) 0%, transparent));
  opacity: 0;
  transition: opacity 0.3s var(--ease);
  z-index: -1;
  filter: blur(8px);
}

.slot-content:hover::after {
  opacity: 0.4;
}

.slot .left {
  flex: 1;
  min-width: 0;
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.slot .time {
  font-size: 15px;
  font-weight: 700;
  letter-spacing: -0.2px;
  color: var(--text);
  line-height: 1.2;
}

.slot .who {
  font-size: 14px;
  color: var(--sub);
  font-weight: 500;
  line-height: 1.3;
}

.slot .badge {
  padding: 6px 14px;
  border-radius: 10px;
  font-size: 11px;
  font-weight: 700;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  background: color-mix(in srgb, var(--bg-alt) 80%, transparent);
  border: 1px solid var(--border);
  color: var(--sub);
  flex-shrink: 0;
  white-space: nowrap;
}

/* Premium LIVE NOW indicator */
.slot.live-now .slot-content {
  background: color-mix(in srgb, var(--accent) 8%, var(--bg-elev));
  border-color: color-mix(in srgb, var(--accent) 35%, var(--border));
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
  position: relative;
  overflow: visible;
}

.slot.live-now .slot-content::after {
  content: "LIVE NOW";
  position: absolute;
  top: 12px;
  right: 16px;
  padding: 5px 12px;
  border-radius: 8px;
  background: var(--accent);
  color: var(--bg);
  font-size: 10px;
  font-weight: 800;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  box-shadow: 0 2px 12px color-mix(in srgb, var(--accent) 50%, transparent),
              0 0 0 2px var(--bg-elev);
  animation: livePulse 2s ease-in-out infinite;
  z-index: 2;
}

@keyframes livePulse {
  0%, 100% {
    transform: scale(1);
    box-shadow: 0 2px 12px color-mix(in srgb, var(--accent) 50%, transparent),
                0 0 0 2px var(--bg-elev);
  }
  50% {
    transform: scale(1.05);
    box-shadow: 0 4px 20px color-mix(in srgb, var(--accent) 70%, transparent),
                0 0 0 2px var(--bg-elev);
  }
}

.slot.live-now .time {
  color: var(--accent);
  font-weight: 800;
}

.slot.live-now .badge {
  background: color-mix(in srgb, var(--accent) 25%, var(--bg-elev));
  border-color: color-mix(in srgb, var(--accent) 50%, var(--border));
  color: var(--accent);
  font-weight: 800;
}
/* Premium LIVE NOW - High-tech version */
.slot.live-now .slot-content {
  background: color-mix(in srgb, var(--accent) 10%, var(--bg-elev));
  border-color: color-mix(in srgb, var(--accent) 40%, var(--border));
  box-shadow: 0 6px 24px color-mix(in srgb, var(--accent) 20%, transparent),
              0 0 40px color-mix(in srgb, var(--accent) 15%, transparent),
              var(--shadow);
  position: relative;
  animation: techPulse 3s ease-in-out infinite;
}

@keyframes techPulse {
  0%, 100% {
    box-shadow: 0 6px 24px color-mix(in srgb, var(--accent) 20%, transparent),
                0 0 40px color-mix(in srgb, var(--accent) 15%, transparent),
                var(--shadow);
  }
  50% {
    box-shadow: 0 8px 32px color-mix(in srgb, var(--accent) 30%, transparent),
                0 0 60px color-mix(in srgb, var(--accent) 25%, transparent),
                var(--shadow);
  }
}

.slot.live-now .slot-content::before {
  content: "";
  position: absolute;
  inset: -2px;
  border-radius: 18px;
  padding: 2px;
  background: conic-gradient(
    from 0deg,
    transparent 0deg,
    transparent 240deg,
    var(--accent) 270deg,
    var(--accent) 300deg,
    transparent 330deg,
    transparent 360deg
  );
  -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  animation: borderShimmer 2s linear infinite;
  z-index: -1;
  filter: blur(1px);
}

@keyframes borderShimmer {
  0% {
    background: conic-gradient(
      from 0deg,
      transparent 0deg,
      transparent 240deg,
      var(--accent) 270deg,
      var(--accent) 300deg,
      transparent 330deg,
      transparent 360deg
    );
  }
  100% {
    background: conic-gradient(
      from 360deg,
      transparent 0deg,
      transparent 240deg,
      var(--accent) 270deg,
      var(--accent) 300deg,
      transparent 330deg,
      transparent 360deg
    );
  }
}

.slot.live-now .slot-content::after {
  content: "LIVE NOW";
  position: absolute;
  top: 12px;
  right: 16px;
  padding: 6px 14px;
  border-radius: 10px;
  background: linear-gradient(135deg, var(--accent), color-mix(in srgb, var(--accent) 80%, transparent));
  color: var(--bg);
  font-size: 10px;
  font-weight: 800;
  letter-spacing: 0.15em;
  text-transform: uppercase;
  box-shadow: 0 2px 12px color-mix(in srgb, var(--accent) 50%, transparent),
              0 0 0 2px var(--bg-elev),
              0 0 20px color-mix(in srgb, var(--accent) 40%, transparent);
  animation: liveTechPulse 2s ease-in-out infinite;
  z-index: 2;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
}

@keyframes liveTechPulse {
  0%, 100% {
    transform: scale(1);
    box-shadow: 0 2px 12px color-mix(in srgb, var(--accent) 50%, transparent),
                0 0 0 2px var(--bg-elev),
                0 0 20px color-mix(in srgb, var(--accent) 40%, transparent);
  }
  50% {
    transform: scale(1.05);
    box-shadow: 0 4px 20px color-mix(in srgb, var(--accent) 70%, transparent),
                0 0 0 2px var(--bg-elev),
                0 0 30px color-mix(in srgb, var(--accent) 60%, transparent);
  }
}
/* Next up - subtle highlight */
.slot.next-up .slot-content {
  background: color-mix(in srgb, var(--accent) 5%, var(--bg-elev));
  border-color: color-mix(in srgb, var(--accent) 25%, var(--border));
}

.slot.next-up .badge {
  background: color-mix(in srgb, var(--accent) 15%, var(--bg-elev));
  border-color: color-mix(in srgb, var(--accent) 30%, var(--border));
  color: var(--accent);
}

/* Past slots - muted */
.slot.past .slot-content {
  opacity: 0.55;
  background: color-mix(in srgb, var(--bg-alt) 40%, transparent);
}

.slot.past .time,
.slot.past .who {
  color: var(--sub);
}
/*Slot content styling*/
.slot {
  position: relative;
  min-height: 44px;
}

.slot-content {
  flex: 1;
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 12px;
  padding: 12px 14px;
  border-radius: 16px;
  background: color-mix(in srgb, var(--bg-alt) 70%, transparent);
  border: 1px solid var(--border);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
  transition: all 0.3s var(--ease);
  min-height: 44px;
}

@keyframes fadePulse {
  0%, 100% { opacity: 0.9; }
  50% { opacity: 0.6; }
}

/*Past slots - muted*/
.slot.past .slot-content {
  opacity: 0.5;
}

.slot.past .time,
.slot.past .who {
  color: var(--sub);
}

/*Next up slot - subtle highlight*/
.slot.next-up .slot-content {
  border-color: color-mix(in srgb, var(--accent) 20%, var(--border));
}
.slot .time {
  font-size: 15px;
  font-weight: 700;
  letter-spacing: -0.2px;
  color: var(--text);
  line-height: 1.2;
  font-variant-numeric: tabular-nums;
  font-feature-settings: "tnum";
}

.slot.live-now .time {
  color: var(--accent);
  font-weight: 800;
  text-shadow: 0 0 20px color-mix(in srgb, var(--accent) 30%, transparent);
  animation: textGlow 2s ease-in-out infinite;
}

@keyframes textGlow {
  0%, 100% {
    text-shadow: 0 0 20px color-mix(in srgb, var(--accent) 30%, transparent);
  }
  50% {
    text-shadow: 0 0 30px color-mix(in srgb, var(--accent) 50%, transparent),
                 0 0 40px color-mix(in srgb, var(--accent) 30%, transparent);
  }
}
    /* Reduce glow when parent card is expanded */
.dj-card-header[aria-expanded="true"] ~ .dj-card-content .slot.live-now .slot-content {
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
  background: color-mix(in srgb, var(--accent) 6%, var(--bg-elev));
}

.dj-card-header[aria-expanded="true"] ~ .dj-card-content .slot.live-now .slot-content::before {
  opacity: 0.5;
  filter: blur(2px);
}

.dj-card-header[aria-expanded="true"] ~ .dj-card-content .slot.live-now .slot-content::after {
  box-shadow: 0 2px 8px color-mix(in srgb, var(--accent) 30%, transparent),
              0 0 0 2px var(--bg-elev);
}
/* Single Preview Card */
.dj-card-preview {
  margin-top: 12px;
  padding: 0;
  transition: opacity 0.3s var(--ease);
}

.dj-card-header[aria-expanded="true"] ~ .dj-card-preview {
  display: none;
}

.dj-card-preview .slot {
  margin: 0;
}

.dj-card-preview .slot-content {
  background: color-mix(in srgb, var(--bg-elev) 98%, transparent);
  border-color: color-mix(in srgb, var(--border) 90%, transparent);
}
    
/*Premium Expand Hint with Text*/
.dj-card-expand-hint {
  margin-top: 12px;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 10px;
  padding: 8px 0;
  opacity: 0.8;
  transition: opacity 0.3s var(--ease);
  cursor: pointer;
}

.dj-card-expand-hint:hover {
  opacity: 1;
}

.expand-hint-text {
  font-size: 13px;
  font-weight: 600;
  color: var(--sub);
  letter-spacing: -0.01em;
}

.expand-hint-icon {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  background: color-mix(in srgb, var(--bg-alt) 80%, transparent);
  border: 1px solid var(--border);
  display: flex;
  align-items: center;
  justify-content: center;
  animation: bounceHint 2s ease-in-out infinite;
  cursor: pointer;
  transition: transform 0.2s var(--ease), background 0.2s var(--ease);
}

.expand-hint-icon:hover {
  background: color-mix(in srgb, var(--bg-elev) 90%, transparent);
  transform: scale(1.1);
}

.expand-hint-icon:active {
  transform: scale(0.95);
}
    /* Change expand hint text based on state */
.dj-card-header[aria-expanded="false"] ~ .dj-card-expand-hint .expand-hint-text::after {
  content: "";
}

.dj-card-header[aria-expanded="true"] ~ .dj-card-expand-hint .expand-hint-text {
  content: "Tap to collapse";
}

@keyframes bounceHint {
  0%, 100% {
    transform: translateY(0);
    opacity: 0.7;
  }
  50% {
    transform: translateY(4px);
    opacity: 0.9;
  }
}

.expand-hint-icon i {
  font-size: 11px;
  color: var(--sub);
}
      
/*What to Expect - No Buttons*/
.timeline-expect .slot-content {
  padding: 12px 14px;
}

/* ===== TEAM SPLIT (GROUP PHOTO + ROTATING DETAILS) ===== */
.team-split{
  display:grid;
  grid-template-columns: 1.2fr .8fr;
  gap:24px;
  padding: 0;
  align-items:center;
}

/* =========================================================
   MEMORY GALLERY V2 (Pinterest boards + lazy album load + hide/show)
========================================================= */

.gallery-toggle{
  margin-top:14px;
  display:inline-flex;
  align-items:center;
  gap:10px;
  padding:12px 16px;
  border-radius:999px;
  border:1px solid var(--border);
  background: var(--bg-elev);
  font-weight:900;
  cursor:pointer;
  box-shadow: var(--shadow-soft);
  transition: transform .2s var(--ease), box-shadow .2s var(--ease);
}
.gallery-toggle:hover{ transform: translateY(-2px); box-shadow: var(--shadow); }
.gallery-toggle i{ font-size:18px; }
.gallery-hint{
  margin-top:10px;
  color:var(--sub);
  font-size:13px;
}

.gallery-shell{
  margin-top: 14px;
}

/* Tabs */
.gallery-tabs{
  display:flex;
  gap:10px;
  align-items:center;
  flex-wrap:wrap;
  margin-bottom: 14px;

  border:1px solid var(--border);
  border-radius: 22px;
  background: color-mix(in srgb, var(--bg-elev) 92%, transparent);
  padding: 12px;
  box-shadow: var(--shadow-soft);
}

.tab{
  padding:10px 14px;
  border-radius: 999px;
  border:1px solid var(--border);
  background: color-mix(in srgb, var(--bg-elev) 92%, transparent);
  font-weight: 900;
  font-size: 13px;
  letter-spacing: -.2px;
  cursor:pointer;
  transition: transform .2s var(--ease), box-shadow .2s var(--ease), background .2s var(--ease);
  color: var(--text);
}
.tab:hover{ transform: translateY(-1px); box-shadow: var(--shadow-soft); }
.tab.active{
  background: var(--accent);
  color: var(--bg);
  border-color: transparent;
}

.gallery-meta{
  margin-left:auto;
  color: var(--sub);
  font-size: 13px;
}

/* ===== Pinterest-style boards grid ===== */
.board-grid{
  display:grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 16px;
}

@media (max-width: 980px){
  .board-grid{ grid-template-columns: repeat(2, 1fr); }
}
@media (max-width: 560px){
  .board-grid{ grid-template-columns: 1fr; }
}

.board{
  border-radius: var(--radius-lg);
  border:1px solid var(--border);
  background: var(--bg-elev);
  box-shadow: var(--shadow-soft);
  overflow:hidden;
  cursor:pointer;
  text-align:left;
  padding:0;
  transition: transform .25s var(--ease), box-shadow .25s var(--ease);
}
.board:hover{ transform: translateY(-4px); box-shadow: var(--shadow); }

.board-collage{
  display:grid;
  grid-template-columns: 1.2fr .8fr;
  grid-template-rows: 1fr 1fr;
  gap: 8px;
  padding: 12px;
  background: color-mix(in srgb, var(--bg-alt) 70%, transparent);
}
.board-collage .big{
  grid-row: span 2;
  border-radius: 18px;
  overflow:hidden;
  border:1px solid var(--border);
  background:#111;
  aspect-ratio: 4/5;
}
.board-collage .small{
  border-radius: 18px;
  overflow:hidden;
  border:1px solid var(--border);
  background:#111;
  aspect-ratio: 4/3;
}
.board-collage img{
  width:100%;
  height:100%;
  object-fit:cover;
  display:block;
}

.board-meta{
  padding: 12px 14px 14px;
}
.board-title{
  font-weight: 950;
  letter-spacing: -.3px;
  font-size: 15px;
}
.board-sub{
  margin-top:10px;
  display:flex;
  gap:8px;
  flex-wrap:wrap;
}
.pill{
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding:8px 10px;
  border-radius:999px;
  border:1px solid var(--border);
  background: color-mix(in srgb, var(--bg-alt) 70%, transparent);
  font-size:12px;
  font-weight:900;
  color: var(--sub);
}
.pill strong{ color: var(--text); }

/* ===== Album view ===== */
.album-view{ margin-top: 14px; }

.album-top{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  flex-wrap:wrap;

  border:1px solid var(--border);
  border-radius: 22px;
  background: color-mix(in srgb, var(--bg-elev) 92%, transparent);
  padding: 12px;
  box-shadow: var(--shadow-soft);
}

.album-title-wrap{
  display:flex;
  flex-direction:column;
  gap:4px;
  min-width: 220px;
}
.album-title{
  font-weight: 950;
  letter-spacing:-.5px;
  font-size: 16px;
}
.album-sub{
  color: var(--sub);
  font-size: 13px;
  font-weight: 800;
}

.album-actions{
  display:flex;
  gap:10px;
  align-items:center;
}

/* Masonry */
.masonry{ column-count: 4; column-gap: 16px; margin-top: 14px; }
@media (max-width: 1100px){ .masonry{ column-count: 3; } }
@media (max-width: 820px){  .masonry{ column-count: 2; } }
@media (max-width: 520px){  .masonry{ column-count: 1; } }

.pin{
  break-inside: avoid;
  margin: 0 0 16px;
  border-radius: var(--radius-lg);
  overflow:hidden;
  border:1px solid var(--border);
  background: var(--bg-elev);
  box-shadow: var(--shadow-soft);
  cursor:pointer;
  position:relative;
  transition: transform .25s var(--ease), box-shadow .25s var(--ease);
}
.pin:hover{ transform: translateY(-3px); box-shadow: var(--shadow); }
.pin img{ 
  width:100%; 
  height:auto; 
  display:block; 
  background: transparent;
  min-height: 100px;
}

/* hover overlay */
.pin .pin-overlay{
  position:absolute;
  inset:0;
  display:flex;
  align-items:flex-end;
  justify-content:space-between;
  padding:12px;
  background: linear-gradient(180deg, rgba(0,0,0,0) 55%, rgba(0,0,0,.72));
  opacity:0;
  transition: opacity .2s var(--ease);
}
.pin:hover .pin-overlay{ opacity:1; }

/* ✅ No tacky filenames — just album label */
.pin .pin-label{
  color:#fff;
  font-weight: 950;
  font-size: 12px;
  letter-spacing: -.2px;
  text-transform: uppercase;
}

.pin .pin-download{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  padding:8px 10px;
  border-radius: 999px;
  border:1px solid rgba(255,255,255,.25);
  background: rgba(255,255,255,.12);
  color:#fff;
  font-size: 12px;
  font-weight: 950;
  text-decoration:none;
}

.pin .pin-check{
  position:absolute;
  top:10px;
  left:10px;
  width:40px;height:40px;
  border-radius: 16px;
  border:1px solid rgba(255,255,255,.22);
  background: rgba(0,0,0,.30);
  backdrop-filter: blur(10px);
  display:grid;
  place-items:center;
  opacity:0;
  transform: translateY(-6px);
  transition: opacity .2s var(--ease), transform .2s var(--ease);
}
.pin.selectable .pin-check{ opacity:1; transform: translateY(0); }
.pin.selected{
  outline: 3px solid color-mix(in srgb, #25D366 55%, transparent);
  box-shadow: 0 18px 60px rgba(0,0,0,.12);
}
.pin.selected .pin-check{
  background: rgba(37,211,102,.22);
  border-color: rgba(37,211,102,.45);
}

.gallery-note{ margin-top: 10px; color: var(--sub); font-size: 13px; }

/* Bulk bar */
.bulkbar{
  position: sticky;
  bottom: 14px;
  margin-top: 14px;
  border-radius: 22px;
  border:1px solid var(--border);
  background: color-mix(in srgb, var(--bg) 86%, transparent);
  backdrop-filter: blur(16px);
  box-shadow: var(--shadow);
  padding: 12px 14px;

  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
}
.bulk-left{ display:flex; flex-direction:column; gap:2px; }
.bulk-count{ font-weight: 950; letter-spacing:-.3px; }
.bulk-sub{ color: var(--sub); font-size: 13px; }
#bulkbar[aria-hidden="true"]{ display:none; }

/* Lightbox */
.lightbox{ position: fixed; inset: 0; z-index: 2000; display:none; }
.lightbox.show{ display:block; }
.lb-backdrop{ position:absolute; inset:0; background: rgba(0,0,0,.72); backdrop-filter: blur(6px); }

.lb-panel{
  position: relative;
  width: min(980px, calc(100% - 26px));
  margin: 40px auto;
  border-radius: 22px;
  border: 1px solid rgba(255,255,255,.14);
  background: color-mix(in srgb, #0b0b0c 80%, transparent);
  box-shadow: 0 22px 80px rgba(0,0,0,.45);
  overflow:hidden;
}

.lb-close{
  position:absolute;
  top:10px;
  right:10px;
  width: 44px;
  height: 44px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,.16);
  background: rgba(255,255,255,.08);
  color: #fff;
  font-weight: 950;
  cursor:pointer;
  z-index: 5;
}

.lb-nav{
  position:absolute;
  top: 50%;
  transform: translateY(-50%);
  width: 52px;
  height: 52px;
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,.16);
  background: rgba(255,255,255,.08);
  color:#fff;
  font-weight: 950;
  font-size: 28px;
  cursor:pointer;
  z-index: 5;
}
.lb-nav.prev{ left: 12px; }
.lb-nav.next{ right: 12px; }

.lb-media{ background:#000; }
.lb-media img{
  width:100%;
  height:auto;
  max-height: 72vh;
  object-fit: contain;
  display:block;
}

.lb-footer{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  padding: 14px;
  background: rgba(255,255,255,.04);
  flex-wrap:wrap;
}

.lb-filename{
  color: rgba(255,255,255,.88);
  font-weight: 950;
  font-size: 13px;
  letter-spacing:-.2px;
  opacity:.95;
}

.lb-actions{ display:flex; gap:10px; justify-content:flex-end; flex-wrap:wrap; }

.lb-download, .lb-copy{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:10px;
  padding: 10px 14px;
  border-radius: 999px;
  border:1px solid rgba(255,255,255,.16);
  background: rgba(255,255,255,.10);
  color:#fff;
  font-weight: 950;
  font-size: 13px;
  text-decoration:none;
  cursor:pointer;
}

/* Toast */
.toast{
  position: fixed;
  left: 50%;
  bottom: 22px;
  transform: translateX(-50%);
  z-index: 5000;
  padding: 12px 14px;
  border-radius: 999px;
  border:1px solid rgba(255,255,255,.18);
  background: rgba(0,0,0,.70);
  backdrop-filter: blur(14px);
  color:#fff;
  font-weight: 950;
  font-size: 13px;
  opacity:0;
  pointer-events:none;
  transition: opacity .2s var(--ease), transform .2s var(--ease);
}
.toast.show{
  opacity:1;
  transform: translateX(-50%) translateY(-2px);
}

/* Masonry */
.masonry{ column-count: 4; column-gap: 16px; }
@media (max-width: 1100px){ .masonry{ column-count: 3; } }
@media (max-width: 820px){  .masonry{ column-count: 2; } }
@media (max-width: 520px){  .masonry{ column-count: 1; } }

.pin{
  break-inside: avoid;
  margin: 0 0 16px;
  border-radius: var(--radius-lg);
  overflow:hidden;
  border:1px solid var(--border);
  background: var(--bg-elev);
  box-shadow: var(--shadow-soft);
  cursor:pointer;
  position:relative;
  transition: transform .25s var(--ease), box-shadow .25s var(--ease);
}
.pin:hover{ transform: translateY(-3px); box-shadow: var(--shadow); }

.pin img{ 
  width:100%; 
  height:auto; 
  display:block; 
  background: transparent;
  min-height: 100px;
}

.pin .pin-overlay{
  position:absolute;
  inset:0;
  display:flex;
  align-items:flex-end;
  justify-content:space-between;
  padding:12px;
  background: linear-gradient(180deg, rgba(0,0,0,0) 55%, rgba(0,0,0,.72));
  opacity:0;
  transition: opacity .2s var(--ease);
}
.pin:hover .pin-overlay{ opacity:1; }

.pin .pin-label{
  color:#fff;
  font-weight: 900;
  font-size: 12px;
  letter-spacing: -.2px;
  text-transform: uppercase;
}

.pin .pin-download{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  padding:8px 10px;
  border-radius: 999px;
  border:1px solid rgba(255,255,255,.25);
  background: rgba(255,255,255,.12);
  color:#fff;
  font-size: 12px;
  font-weight: 900;
  text-decoration:none;
}

.pin .pin-check{
  position:absolute;
  top:10px;
  left:10px;
  width:40px;height:40px;
  border-radius: 16px;
  border:1px solid rgba(255,255,255,.22);
  background: rgba(0,0,0,.30);
  backdrop-filter: blur(10px);
  display:grid;
  place-items:center;
  opacity:0;
  transform: translateY(-6px);
  transition: opacity .2s var(--ease), transform .2s var(--ease);
}
.pin.selectable .pin-check{ opacity:1; transform: translateY(0); }
.pin.selected{
  outline: 3px solid color-mix(in srgb, #25D366 55%, transparent);
  box-shadow: 0 18px 60px rgba(0,0,0,.12);
}
.pin.selected .pin-check{
  background: rgba(37,211,102,.22);
  border-color: rgba(37,211,102,.45);
}

.gallery-note{ margin-top: 10px; color: var(--sub); font-size: 13px; }

/* Bulk bar */
.bulkbar{
  position: sticky;
  bottom: 14px;
  margin-top: 14px;
  border-radius: 22px;
  border:1px solid var(--border);
  background: color-mix(in srgb, var(--bg) 86%, transparent);
  backdrop-filter: blur(16px);
  box-shadow: var(--shadow);
  padding: 12px 14px;

  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
}
.bulk-left{ display:flex; flex-direction:column; gap:2px; }
.bulk-count{ font-weight: 900; letter-spacing:-.3px; }
.bulk-sub{ color: var(--sub); font-size: 13px; }
#bulkbar[aria-hidden="true"]{ display:none; }

/* Lightbox */
.lightbox{ position: fixed; inset: 0; z-index: 2000; display:none; }
.lightbox.show{ display:block; }
.lb-backdrop{ position:absolute; inset:0; background: rgba(0,0,0,.72); backdrop-filter: blur(6px); }

.lb-panel{
  position: relative;
  width: min(980px, calc(100% - 26px));
  margin: 40px auto;
  border-radius: 22px;
  border: 1px solid rgba(255,255,255,.14);
  background: color-mix(in srgb, #0b0b0c 80%, transparent);
  box-shadow: 0 22px 80px rgba(0,0,0,.45);
  overflow:hidden;
}

.lb-close{
  position:absolute;
  top:10px;
  right:10px;
  width: 44px;
  height: 44px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,.16);
  background: rgba(255,255,255,.08);
  color: #fff;
  font-weight: 900;
  cursor:pointer;
  z-index: 5;
}

.lb-nav{
  position:absolute;
  top: 50%;
  transform: translateY(-50%);
  width: 52px;
  height: 52px;
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,.16);
  background: rgba(255,255,255,.08);
  color:#fff;
  font-weight: 900;
  font-size: 28px;
  cursor:pointer;
  z-index: 5;
}
.lb-nav.prev{ left: 12px; }
.lb-nav.next{ right: 12px; }

.lb-media{ background:#000; }
.lb-media img{
  width:100%;
  height:auto;
  max-height: 72vh;
  object-fit: contain;
  display:block;
}

.lb-footer{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  padding: 14px;
  background: rgba(255,255,255,.04);
  flex-wrap:wrap;
}

.lb-filename{
  color: rgba(255,255,255,.88);
  font-weight: 900;
  font-size: 13px;
  letter-spacing:-.2px;
  opacity:.95;
}

.lb-actions{ display:flex; gap:10px; justify-content:flex-end; flex-wrap:wrap; }

.lb-download, .lb-copy{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:10px;
  padding: 10px 14px;
  border-radius: 999px;
  border:1px solid rgba(255,255,255,.16);
  background: rgba(255,255,255,.10);
  color:#fff;
  font-weight: 900;
  font-size: 13px;
  text-decoration:none;
  cursor:pointer;
}

/* Toast */
.toast{
  position: fixed;
  left: 50%;
  bottom: 22px;
  transform: translateX(-50%);
  z-index: 5000;
  padding: 12px 14px;
  border-radius: 999px;
  border:1px solid rgba(255,255,255,.18);
  background: rgba(0,0,0,.70);
  backdrop-filter: blur(14px);
  color:#fff;
  font-weight: 900;
  font-size: 13px;
  opacity:0;
  pointer-events:none;
  transition: opacity .2s var(--ease), transform .2s var(--ease);
}
.toast.show{
  opacity:1;
  transform: translateX(-50%) translateY(-2px);
}
  
@media (max-width: 980px){
  .team-split{ grid-template-columns: 1fr; }
}

.team-photo-card{
  border-radius: 26px;
  overflow:hidden;
  border:1px solid var(--border);
  background: var(--bg-elev);
  box-shadow: var(--shadow-soft);
  position:relative;
}
/* Hide empty team-head content */
.team-head > div:first-child {
  display: none;
}

/* Hide empty photo overlay */
.team-photo-overlay:empty,
.team-photo-caption:empty {
  display: none;
}
.team-photo-card::after{
  content:"";
  position:absolute;
  inset:0;
  background:
    radial-gradient(520px 220px at 20% 20%, color-mix(in srgb, var(--accent) 10%, transparent), transparent 70%),
    radial-gradient(520px 220px at 80% 80%, color-mix(in srgb, var(--accent) 8%, transparent), transparent 72%);
  pointer-events:none;
}

.team-photo-card img{
  width:100%;
  height:100%;
  display:block;
  object-fit:cover;
}
/* ===== TEAM SPOTLIGHT (APPLE GLASS) ===== */
.team-spotlight{
  border-radius: 28px;
  border:1px solid var(--border);
  background: color-mix(in srgb, var(--bg) 92%, transparent);
  box-shadow: var(--shadow-soft);
  padding: 14px;
}

.team-photo-card{
  position:relative;
  overflow:hidden;
}
.team-photo-card::before{
  content:"";
  position:absolute;
  inset:-40%;
  background: conic-gradient(
    from 180deg,
    rgba(255,255,255,.0),
    rgba(255,255,255,.25),
    rgba(255,255,255,.0)
  );
  opacity:.45;
  filter: blur(18px);
  animation: teamShimmer 9s linear infinite;
  pointer-events:none;
}
@keyframes teamShimmer{
  to{ transform: rotate(360deg); }
}

.team-photo-card img{
  transition: transform .6s var(--ease);
}
.team-photo-card:hover img{
  transform: scale(1.04) translateY(-4px);
}

.team-photo-overlay{
  position:absolute;
  left:14px;
  bottom:14px;
  display:flex;
  flex-direction:column;
  gap:6px;
  z-index:2;
}

.team-photo-caption{
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding:10px 14px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.45);
  background: rgba(0,0,0,.45);
  backdrop-filter: blur(10px);
  color:#fff;
  font-weight:800;
  font-size:13px;
  letter-spacing:.02em;
  box-shadow: 0 10px 24px rgba(0,0,0,.35);
}

.team-photo-sub{
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding:8px 12px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.35);
  background: rgba(0,0,0,.35);
  backdrop-filter: blur(8px);
  color:#fff;
  font-size:12px;
}

.team-chip-row{
  margin-top:14px;
  display:flex;
  gap:10px;
  flex-wrap:wrap;
}

.team-chip{
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding:8px 12px;
  border-radius:999px;
  border:1px solid var(--border);
  background: color-mix(in srgb, var(--bg-alt) 70%, transparent);
  font-size:12px;
  font-weight:700;
  color:var(--sub);
  box-shadow: var(--shadow-soft);
}
.team-chip strong{ color: var(--text); }


/* ===================== MINIMAL PILL ROTATOR ===================== */
.team-rotator{
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap:16px;
}

.rotator-pill{
  display:inline-flex;
  align-items:center;
  gap:14px;
  padding:16px 24px;
  border-radius:20px;
  border:1px solid var(--border);
  background:var(--bg-elev);
  box-shadow:var(--shadow-soft);
  text-decoration:none;
  transition:transform .25s var(--ease), box-shadow .25s var(--ease), background .25s var(--ease), opacity .3s var(--ease);
  opacity:1;
}

.rotator-pill:hover{
  transform:translateY(-2px);
  box-shadow:var(--shadow);
  background:color-mix(in srgb, var(--bg-elev) 95%, transparent);
}

.rotator-pill:active{
  transform:translateY(0);
}

.rotator-content{
  display:flex;
  flex-direction:column;
  gap:4px;
  text-align:center;
  align-items:center;
}

.rotator-role{
  color:var(--text);
  font-weight:700;
  font-size:14px;
  line-height:1.3;
  letter-spacing:-.2px;
}

.rotator-ig{
  color:var(--sub);
  font-weight:500;
  font-size:13px;
  line-height:1.3;
}

.rotator-pill i{
  font-size:18px;
  color:var(--sub);
  opacity:0.7;
  flex-shrink:0;
  transition:opacity .2s var(--ease), transform .2s var(--ease);
}

.rotator-pill:hover i{
  opacity:1;
  transform:scale(1.1);
}
  
/* ===================== CONNECT SECTION ===================== */
.connect-wrapper .section-title{
  text-align:center;
  margin-bottom:18px;
}

.connect-panel{
  background: color-mix(in srgb, var(--bg) 82%, transparent);
  border:1px solid color-mix(in srgb, var(--border) 70%, transparent);
  border-radius:1.6em;
  padding:1.6em;
  box-shadow: var(--shadow-soft);
  backdrop-filter: blur(14px);
}

.social-grid{
  display:grid;
  grid-template-columns: repeat(2, 1fr);
  gap:1.2em;
}
@media (min-width: 900px){
  .social-grid{
    grid-template-columns: repeat(4,1fr);
    gap:1.4em;
  }
}


.social-card{
  display:block;
  text-decoration:none;
  color:inherit;
  background: color-mix(in srgb, var(--bg) 78%, transparent);
  border-radius:1.2em;
  padding:1.7em 1.2em;
  text-align:center;
  transition: box-shadow .2s, transform .15s;
  border:1px solid color-mix(in srgb, var(--border) 65%, transparent);
  box-shadow: var(--shadow-soft);
  position:relative;
  overflow:hidden;
  backdrop-filter: blur(10px);
}
.social-card:hover{
  box-shadow:0 12px 28px rgba(0,0,0,0.35);
  transform: translateY(-4px);
}

.social-icon{
  width:64px;height:64px;border-radius:50%;
  display:flex;align-items:center;justify-content:center;
  font-size:2rem;
  margin:0 auto 1em auto;
  border:1px solid color-mix(in srgb, var(--border) 70%, transparent);
  background: color-mix(in srgb, var(--bg-alt) 80%, transparent);
  color: var(--text);
}

.social-card.instagram .social-icon{ color:#E1306C; }
.social-card.tiktok .social-icon{ color:#00f2ea; }
.social-card.youtube .social-icon{ color:#ff0000; }
.social-card.facebook .social-icon{ color:#1877f2; }

.social-card h3{
  font-weight:800;
  margin-bottom:.4em;
  font-size:1.08rem;
  color:var(--text-heavy);
  letter-spacing:.06em;
}
.social-card p{
  color:var(--text-faint);
  font-size:1.01em;
  margin-bottom:.9em;
}
    .social-card::before{
  content:"";
  position:absolute;
  inset:0;
  background: var(--tint, transparent);
  opacity:.16;            /* subtle */
  pointer-events:none;
}

.social-card.instagram{ --tint: linear-gradient(135deg, rgba(225,48,108,.70), rgba(225,48,108,.22)); }
.social-card.tiktok{ --tint: linear-gradient(135deg, rgba(0,242,234,.60), rgba(0,0,0,0)); }
.social-card.youtube{ --tint: linear-gradient(135deg, rgba(255,0,0,.65), rgba(255,0,0,.22)); }
.social-card.facebook{ --tint: linear-gradient(135deg, rgba(24,119,242,.60), rgba(24,119,242,.22)); }

.social-card::before{
  opacity:.45;
}

.social-hint{
  display:inline-flex;
  align-items:center;
  gap:.4em;
  padding:5px 10px;
  border-radius:999px;
  border:1px solid color-mix(in srgb, var(--border) 70%, transparent);
  background: color-mix(in srgb, var(--bg-alt) 80%, transparent);
  color:var(--sub);
  font-size:.85em;
  font-weight:700;
  width: fit-content;
  max-width: 100%;
  margin: 0 auto;
}

@media (max-width: 560px){
  .social-hint{
    padding:4px 8px;
    font-size:.78em;
    gap:.35em;
  }
}

    /* Hide Connect With BYZ section */
#connect {
  display: none;
}

/* ===================== FOOTER ===================== */
footer{
  padding: 64px 0 34px;
  background: var(--bg-alt);
  border-top:1px solid var(--border);
}
.footer-grid{
  display:grid;
  grid-template-columns: 1.2fr 1fr 1fr 1fr;
  gap: 16px;
}
.footer-grid h4{
  font-size:14px;
  margin-bottom:10px;
  letter-spacing:-.2px;
}
.footer-grid p, .footer-grid a{
  color:var(--sub);
  font-size:13px;
}
.footer-grid a:hover{color:var(--text)}
.footer-mini{
  margin-top:26px;
  padding-top:18px;
  border-top:1px solid var(--border);
  color:var(--sub);
  font-size:13px;
  text-align:center;
}

/* ===================== APPLE-LIKE SCROLL REVEAL ===================== */
.reveal{
  opacity:0;
  transform: translateY(26px);
  transition: opacity .85s var(--ease), transform .85s var(--ease);
  will-change: opacity, transform;
}
.reveal.visible{
  opacity:1;
  transform: translateY(0);
}
.stagger > *{ opacity:0; transform: translateY(18px); transition: opacity .75s var(--ease), transform .75s var(--ease); }
.stagger.visible > *{ opacity:1; transform: translateY(0); }
.stagger.visible > *:nth-child(1){ transition-delay: .05s }
.stagger.visible > *:nth-child(2){ transition-delay: .12s }
.stagger.visible > *:nth-child(3){ transition-delay: .19s }
.stagger.visible > *:nth-child(4){ transition-delay: .26s }
.stagger.visible > *:nth-child(5){ transition-delay: .33s }
.stagger.visible > *:nth-child(6){ transition-delay: .40s }

/* ===================== RESPONSIVE ===================== */
@media (max-width: 980px){
  .hero-grid{grid-template-columns:1fr; gap:18px}
  .cards{grid-template-columns:1fr}
  .youtube-wrap{grid-template-columns:1fr}
  .dj-grid{grid-template-columns:1fr}
  .gallery{grid-template-columns:1fr}
  .connect-grid{grid-template-columns:1fr 1fr}
  .footer-grid{grid-template-columns:1fr 1fr}
  nav ul{display:none}
  .mobile-btn{display:flex}
  .mobile-panel{display:block; opacity:0; pointer-events:none; transform: translateY(-6px); transition: opacity .2s var(--ease), transform .2s var(--ease); }
  .mobile-panel.open{opacity:1; pointer-events:auto; transform: translateY(0)}
}

@media (max-width: 560px){
  .connect-grid{
    grid-template-columns: repeat(2, 1fr);
    gap: 12px;
  }
  .hero{padding: 64px 0 52px}
  section{padding: 76px 0}

  /*Fix artist section visibility*/
  #artists {
    display: block !important;
    visibility: visible !important;
  }

        /* Artist scroll wrapper with arrows */
  .artist-scroll-wrapper {
    position: relative;
    margin: 0;
    padding: 0; /* No padding - let cards extend fully */
    overflow: visible; /* Allow rounded corners to show */
  }
  /* Arrows positioned absolutely within wrapper - stay fixed relative to section */
  .artist-scroll-btn {
    display: flex !important;
    align-items: center;
    justify-content: center;
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    width: 44px;
    height: 44px;
    border-radius: 22px;
    border: 1px solid color-mix(in srgb, var(--border) 60%, transparent);
    background: color-mix(in srgb, var(--bg) 94%, transparent);
    backdrop-filter: blur(20px) saturate(180%);
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08), 
                0 1px 3px rgba(0, 0, 0, 0.04),
                inset 0 1px 0 rgba(255, 255, 255, 0.05);
    color: var(--text);
    cursor: pointer;
    z-index: 20;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    opacity: 0.95;
  }
      .artist-scroll-left {
    left: -50px; /* Better placement - further outside */
  }

  .artist-scroll-right {
    right: -50px; /* Better placement - further outside */
  }
  
  /* On smaller screens, position arrows at the line where photo ends and text starts */
  @media (max-width: 640px) {
    .artist-scroll-btn {
      top: 140px; /* Position at bottom of photo (where text starts) */
      transform: translateY(-50%); /* Center vertically on the line */
    }
    .artist-scroll-left {
      left: 4px; /* Better placement */
    }
    .artist-scroll-right {
      right: 4px; /* Better placement */
    }
  }
  
    /* Horizontal scroll for artist cards - centered */
  #artists .cards {
    display: flex !important;
    overflow-x: auto;
    overflow-y: hidden;
    scroll-snap-type: x mandatory;
    -webkit-overflow-scrolling: touch;
    gap: 16px;
    padding: 12px 60px 12px 60px; /* Extra padding on sides to accommodate arrows */
    scroll-behavior: smooth;
    scrollbar-width: none;
    -ms-overflow-style: none;
    grid-template-columns: none !important;
    justify-content: flex-start;
    align-items: center;
  }
  
  @media (max-width: 640px) {
    #artists .cards {
      padding: 60px 12px 12px 12px; /* Top padding for arrows, less side padding on mobile */
    }
  }

  #artists .cards::-webkit-scrollbar {
    display: none;
  }

  #artists .cards > * {
    min-width: 320px;
    max-width: 320px;
    scroll-snap-align: center;
    flex-shrink: 0;
    flex-basis: 320px;
  }

  .artist-scroll-btn {
    background: color-mix(in srgb, var(--bg-elev) 88%, transparent);
    border-color: color-mix(in srgb, var(--border) 50%, transparent);
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.25), 
                0 1px 3px rgba(0, 0, 0, 0.15),
                inset 0 1px 0 rgba(255, 255, 255, 0.08);
  }

  .artist-scroll-btn:hover {
    transform: translateY(-50%) scale(1.05);
    box-shadow: 0 6px 24px rgba(0, 0, 0, 0.12), 
                0 2px 6px rgba(0, 0, 0, 0.08),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
    opacity: 1;
    background: color-mix(in srgb, var(--bg-elev) 96%, transparent);
  }
  
  @media (max-width: 640px) {
    .artist-scroll-btn:hover {
      transform: translateY(-50%) scale(1.05);
    }
  }

  .artist-scroll-btn:active {
    transform: translateY(-50%) scale(0.96);
    box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1), 
                0 1px 3px rgba(0, 0, 0, 0.06);
  }
  
  @media (max-width: 640px) {
    .artist-scroll-btn:active {
      transform: translateY(-50%) scale(0.96);
    }
  }

  .artist-scroll-btn i {
    font-size: 15px;
    font-weight: 600;
  }

 

  /*Center align DJ section title and subtitle on mobile*/
  
  #dj .section-title {
    text-align: center;
    margin-bottom: 20px;
  }

  #dj .section-title h2 {
    font-size: 28px;
    letter-spacing: -0.7px;
  }

  #dj .section-title p {
    font-size: 13px;
    margin-top: 8px;
    text-align: center;
  }

  /*Hide chevron icon in header button - keep only bouncing hint*/
  .dj-card-header .dj-card-icon {
    display: none;
  }

    #dj {
    padding: 52px 0 40px;
  }
}
    

/* Desktop: Keep grid layout for artist cards */
@media (min-width: 561px) {
  #artists .cards {
    display: grid !important;
    grid-template-columns: repeat(3, 1fr) !important;
  }
  
  .artist-scroll-wrapper {
    margin: 0;
    padding: 0;
  }
  
  .artist-scroll-btn {
    display: none !important;
  }
}

  .footer-logo{
  width:120px;           /* make bigger/smaller */
  height:auto;
}

/* ===================== DEV PILL + APPLE MODAL ===================== */
.dev-pill{
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding:10px 14px;
  border-radius:999px;
  border:1px solid color-mix(in srgb, #ff5ea8 35%, var(--border));
  background: color-mix(in srgb, #ff5ea8 16%, var(--bg));
  color: var(--text);
  font-weight:900;
  font-size:12.5px;
  letter-spacing:-.2px;
  box-shadow: var(--shadow-soft);
  transition: transform .2s var(--ease), box-shadow .2s var(--ease);
}
.dev-pill:hover{
  transform: translateY(-2px);
  box-shadow: var(--shadow);
}

/* ===================== iOS 26 MODAL DESIGN SYSTEM ===================== */

/* Modal backdrop - Ultra-blur with layered depth */
.byz-modal-backdrop{
  position:fixed;
  inset:0;
  z-index: 4000;
  background: rgba(0,0,0,.55);
  backdrop-filter: blur(40px) saturate(180%);
  background-image: radial-gradient(
    circle at 50% 0%,
    rgba(255,255,255,.03) 0%,
    transparent 50%
  );
  display:grid;
  place-items:center;
  padding: 20px;
  animation: backdropEnter 0.3s cubic-bezier(0.16, 1, 0.3, 1);
  opacity: 0;
}

.byz-modal-backdrop:not(.byz-hidden) {
  opacity: 1;
}

@keyframes backdropEnter {
  0% { opacity: 0; }
  100% { opacity: 1; }
}

.byz-hidden{ 
  display:none !important; 
  opacity: 0;
}

/* Modal card - Multi-layer glassmorphism with iOS 26 aesthetic */
.byz-modal{
  width: min(520px, 100%);
  border-radius: 28px;
  border: 1px solid color-mix(in srgb, var(--border) 50%, transparent);
  background: 
    linear-gradient(135deg, 
      color-mix(in srgb, var(--bg) 92%, transparent) 0%,
      color-mix(in srgb, var(--bg) 88%, transparent) 100%
    );
  backdrop-filter: blur(80px) saturate(220%);
  box-shadow: 
    0 20px 60px rgba(0,0,0,.25),
    0 8px 24px rgba(0,0,0,.15),
    0 2px 8px rgba(0,0,0,.1),
    inset 0 1px 0 rgba(255,255,255,.15),
    inset 0 -1px 0 rgba(0,0,0,.1),
    0 0 0 1px color-mix(in srgb, var(--border) 30%, transparent);
  overflow:hidden;
  animation: modalEnter 0.4s cubic-bezier(0.16, 1, 0.3, 1);
  transform-origin: center;
  position: relative;
}

.byz-modal::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 1px;
  background: linear-gradient(90deg, 
    transparent 0%,
    color-mix(in srgb, var(--accent) 20%, transparent) 50%,
    transparent 100%
  );
  pointer-events: none;
}

@keyframes modalEnter {
  0% {
    opacity: 0;
    transform: scale(0.92) translateY(20px);
    filter: blur(8px);
  }
  100% {
    opacity: 1;
    transform: scale(1) translateY(0);
    filter: blur(0);
  }
}

@keyframes modalExit {
  0% {
    opacity: 1;
    transform: scale(1) translateY(0);
    filter: blur(0);
  }
  100% {
    opacity: 0;
    transform: scale(0.95) translateY(10px);
    filter: blur(4px);
  }
}

/* Mobile bottom sheet behavior */
@media (max-width: 640px) {
  .byz-modal-backdrop {
    align-items: flex-end;
    padding: 0;
  }
  
  .byz-modal {
    width: 100%;
    max-width: 100%;
    border-radius: 28px 28px 0 0;
    margin-top: auto;
    max-height: 90vh;
    animation: slideUp 0.4s cubic-bezier(0.16, 1, 0.3, 1);
  }
  
  @keyframes slideUp {
    0% {
      transform: translateY(100%);
      opacity: 0;
    }
    100% {
      transform: translateY(0);
      opacity: 1;
    }
  }
}

/* Modal header - Sticky with enhanced gradient overlay */
.byz-modal-head{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap:12px;
  padding:20px 20px 0 20px;
  position: sticky;
  top: 0;
  z-index: 10;
  background: 
    linear-gradient(180deg,
      color-mix(in srgb, var(--bg) 95%, transparent) 0%,
      color-mix(in srgb, var(--bg) 90%, transparent) 100%
    );
  backdrop-filter: blur(40px) saturate(180%);
  border-bottom: 1px solid color-mix(in srgb, var(--border) 25%, transparent);
  margin-bottom: 0;
  padding-bottom: 20px;
  box-shadow: 0 1px 0 rgba(255,255,255,.05);
}
.byz-modal-title{
  font-weight:900;
  letter-spacing:-.6px;
  font-size:20px;
  background: linear-gradient(135deg, var(--text), color-mix(in srgb, var(--text) 80%, var(--sub)));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}
.byz-modal-sub{
  margin-top:6px;
  font-size:13px;
  color:var(--sub);
  line-height:1.4;
}
/* Enhanced close button with subtle glow */
.byz-modal-x{
  width:44px;
  height:44px;
  border-radius:16px;
  border: 1px solid color-mix(in srgb, var(--border) 50%, transparent);
  background: color-mix(in srgb, var(--bg-elev) 90%, transparent);
  backdrop-filter: blur(20px);
  box-shadow: var(--shadow-soft);
  cursor:pointer;
  transition: all 0.2s var(--ease);
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text);
}

.byz-modal-x:hover {
  background: color-mix(in srgb, var(--bg-elev) 95%, transparent);
  box-shadow: 
    0 4px 16px rgba(0,0,0,.1),
    0 0 0 1px color-mix(in srgb, var(--border) 30%, transparent);
  transform: scale(1.05);
}

.byz-modal-x:active {
  transform: scale(0.95);
}

/* Modal body rows - Enhanced depth */
.byz-modal-body{ 
  padding:16px; 
  max-height: calc(100vh - 200px);
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: thin;
  scrollbar-color: var(--border) transparent;
}

.byz-modal-body::-webkit-scrollbar {
  width: 6px;
}

.byz-modal-body::-webkit-scrollbar-track {
  background: transparent;
}

.byz-modal-body::-webkit-scrollbar-thumb {
  background: var(--border);
  border-radius: 3px;
}

.byz-modal-body::-webkit-scrollbar-thumb:hover {
  background: var(--sub);
}

.byz-modal-row{
  margin-top:12px;
  border-radius:20px;
  border: 1px solid color-mix(in srgb, var(--border) 35%, transparent);
  background: 
    linear-gradient(135deg,
      color-mix(in srgb, var(--bg-elev) 98%, transparent) 0%,
      color-mix(in srgb, var(--bg-elev) 95%, transparent) 100%
    );
  backdrop-filter: blur(30px) saturate(150%);
  box-shadow: 
    0 4px 16px rgba(0,0,0,.08),
    0 1px 4px rgba(0,0,0,.04),
    inset 0 1px 0 rgba(255,255,255,.1),
    inset 0 -1px 0 rgba(0,0,0,.05);
  padding:16px 18px;
  transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
  position: relative;
  overflow: hidden;
}

.byz-modal-row::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 1px;
  background: linear-gradient(90deg, 
    transparent 0%,
    color-mix(in srgb, var(--accent) 15%, transparent) 50%,
    transparent 100%
  );
  opacity: 0;
  transition: opacity 0.3s var(--ease);
}

.byz-modal-row:hover {
  transform: translateY(-2px) scale(1.01);
  box-shadow: 
    0 8px 24px rgba(0,0,0,.12),
    0 2px 8px rgba(0,0,0,.06),
    inset 0 1px 0 rgba(255,255,255,.15),
    inset 0 -1px 0 rgba(0,0,0,.08);
  border-color: color-mix(in srgb, var(--border) 50%, transparent);
}

.byz-modal-row:hover::before {
  opacity: 1;
}
.byz-modal-row .k{ color:var(--sub); font-size:12px; }
.byz-modal-row .v{ margin-top:4px; font-weight:900; }

.byz-modal-link{
  display:inline-block;
  margin-top:6px;
  text-decoration:underline;
  font-weight:900;
}

/* Buttons */
.byz-modal-actions{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  margin-top:14px;
}
.byz-modal-btn{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:10px;
  padding:12px 16px;
  min-height: 44px; /* Touch target optimization */
  border-radius:999px;
  border:1px solid var(--border);
  background: var(--bg-elev);
  color: var(--text);
  font-weight:900;
  cursor:pointer;
  box-shadow: var(--shadow-soft);
  text-decoration:none;
  transition: all 0.2s var(--ease);
  position: relative;
  overflow: hidden;
}

.byz-modal-btn:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow);
}

.byz-modal-btn:active {
  transform: translateY(0);
}
.byz-modal-btn.primary{
  border-color: transparent;
  background: color-mix(in srgb, #ff5ea8 22%, var(--accent));
  color: var(--bg);
}
  /* Platform-colored buttons in the developer modal */
.byz-modal-btn.wa{
  background: color-mix(in srgb, #25D366 14%, var(--bg-elev) 86%);
  border-color: color-mix(in srgb, #25D366 40%, var(--border) 60%);
}
.byz-modal-btn.wa i{ color:#25D366; }

.byz-modal-btn.ig{
  background: color-mix(in srgb, #E1306C 14%, var(--bg-elev) 86%);
  border-color: color-mix(in srgb, #E1306C 40%, var(--border) 60%);
}
.byz-modal-btn.ig i{ color:#E1306C; }

.byz-modal-btn.wa:hover,
.byz-modal-btn.ig:hover{
  transform: translateY(-2px);
  box-shadow: var(--shadow-soft);
}
  .byz-modal-btn.li{
  background: color-mix(in srgb, #0A66C2 14%, var(--bg-elev) 86%);
  border-color: color-mix(in srgb, #0A66C2 40%, var(--border) 60%);
}
.byz-modal-btn.li i{ color:#0A66C2; }

.byz-modal-btn.li:hover{
  transform: translateY(-2px);
  box-shadow: var(--shadow-soft);
}
    /* Spotify Interactive Hint */
.portfolio-link-interactive {
  position: relative;
  overflow: visible;
}

.portfolio-hint {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  margin-left: 6px;
  padding: 3px 8px;
  border-radius: 8px;
  background: color-mix(in srgb, #1DB954 14%, var(--bg-alt));
  border: 1px solid color-mix(in srgb, #1DB954 30%, var(--border));
  font-size: 10px;
  font-weight: 700;
  letter-spacing: 0.05em;
  color: #1DB954;
  opacity: 0;
  transform: translateX(-4px);
  transition: opacity 0.3s var(--ease), transform 0.3s var(--ease);
  pointer-events: none;
  white-space: nowrap;
}

.portfolio-link-interactive:hover .portfolio-hint,
.portfolio-link-interactive:focus .portfolio-hint {
  opacity: 1;
  transform: translateX(0);
}

.portfolio-hint i {
  font-size: 9px;
}

/* Subtle pulse animation on Spotify link */
@keyframes spotifyPulse {
  0%, 100% {
    box-shadow: 0 0 0 0 color-mix(in srgb, #1DB954 0%, transparent);
  }
  50% {
    box-shadow: 0 0 0 4px color-mix(in srgb, #1DB954 12%, transparent);
  }
}

.portfolio-link-interactive {
  animation: spotifyPulse 2s ease-in-out infinite;
}

/* Mobile: Show hint always on small screens */
@media (max-width: 560px) {
  .portfolio-hint {
    opacity: 1;
    transform: translateX(0);
    margin-left: 4px;
  }
}
    /* ===================== ARTIST CONTACT MODAL STYLES ===================== */
.contact-option {
  border-radius: 18px;
  border: 1px solid var(--border);
  background: var(--bg-elev);
  box-shadow: var(--shadow-soft);
  padding: 14px;
  transition: transform 0.2s var(--ease), box-shadow 0.2s var(--ease);
}

.contact-option:hover {
  transform: translateY(-1px);
  box-shadow: var(--shadow);
}

.contact-header {
  margin-bottom: 10px;
}

.contact-label-row {
  display: flex;
  align-items: center;
  gap: 8px;
  flex-wrap: wrap;
}

.contact-label {
  font-size: 14px;
  font-weight: 800;
  letter-spacing: -0.2px;
  color: var(--text);
}

.contact-badge {
  display: inline-flex;
  align-items: center;
  padding: 4px 8px;
  border-radius: 6px;
  background: color-mix(in srgb, var(--accent) 12%, var(--bg-elev));
  border: 1px solid color-mix(in srgb, var(--accent) 30%, var(--border));
  font-size: 10px;
  font-weight: 700;
  letter-spacing: 0.05em;
  text-transform: uppercase;
  color: var(--accent);
}

.contact-badge {
  background: color-mix(in srgb, var(--accent) 18%, var(--bg-elev));
  color: var(--accent);
}

.contact-description {
  margin-top: 4px;
  font-size: 12px;
  color: var(--sub);
  line-height: 1.4;
}

.contact-button {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  width: 100%;
  padding: 12px 16px;
  border-radius: 12px;
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--bg-alt) 70%, transparent);
  color: var(--text);
  font-weight: 700;
  font-size: 14px;
  text-decoration: none;
  transition: transform 0.2s var(--ease), box-shadow 0.2s var(--ease), background 0.2s var(--ease);
  min-height: 44px;
}

.contact-button:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-soft);
  background: color-mix(in srgb, var(--bg-elev) 90%, transparent);
}

.contact-button.primary {
  background: color-mix(in srgb, #25D366 14%, var(--bg-elev) 86%);
  border-color: color-mix(in srgb, #25D366 40%, var(--border) 60%);
  color: var(--text);
}

.contact-button.primary i {
  color: #25D366;
}

.contact-button.primary:hover {
  background: color-mix(in srgb, #25D366 18%, var(--bg-elev) 82%);
}

/* Email button styling */
#artistEmailModal .contact-button.primary {
  background: color-mix(in srgb, var(--accent) 12%, var(--bg-elev));
  border-color: color-mix(in srgb, var(--accent) 30%, var(--border));
}

#artistEmailModal .contact-button.primary i {
  color: var(--accent);
}

#artistEmailModal .contact-button.primary:hover {
  background: color-mix(in srgb, var(--accent) 18%, var(--bg-elev));
}

/* Spotify Modal Styles */
.spotify-modal {
  width: min(600px, 100%);
}

.spotify-body {
  padding: 20px;
}

.spotify-player-wrapper {
  width: 100%;
  border-radius: 18px;
  overflow: hidden;
  background: #000;
  min-height: 352px;
}

.spotify-player-wrapper iframe {
  width: 100%;
  min-height: 352px;
  display: block;
}
    /* ===================== ARTIST CONTACT MODAL STYLES ===================== */
/* Make modal body scrollable */
.byz-modal-body {
  max-height: calc(100vh - 200px);
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: thin;
  scrollbar-color: var(--border) transparent;
}

.byz-modal-body::-webkit-scrollbar {
  width: 6px;
}

.byz-modal-body::-webkit-scrollbar-track {
  background: transparent;
}

.byz-modal-body::-webkit-scrollbar-thumb {
  background: var(--border);
  border-radius: 3px;
}

.byz-modal-body::-webkit-scrollbar-thumb:hover {
  background: var(--sub);
}

/* Keep header sticky when scrolling */
.byz-modal-head {
  position: sticky;
  top: 0;
  z-index: 10;
  background: color-mix(in srgb, var(--bg) 92%, transparent);
  backdrop-filter: blur(12px);
  border-bottom: 1px solid var(--border);
  margin-bottom: 0;
  padding-bottom: 16px;
}

.contact-option {
  border-radius: 18px;
  border: 1px solid var(--border);
  background: var(--bg-elev);
  box-shadow: var(--shadow-soft);
  padding: 14px;
  transition: transform 0.2s var(--ease), box-shadow 0.2s var(--ease);
}

.contact-option:hover {
  transform: translateY(-1px);
  box-shadow: var(--shadow);
}

.contact-header {
  margin-bottom: 10px;
}

.contact-label-row {
  display: flex;
  align-items: center;
  gap: 8px;
  flex-wrap: wrap;
}

.contact-label {
  font-size: 14px;
  font-weight: 800;
  letter-spacing: -0.2px;
  color: var(--text);
}

.contact-badge {
  display: inline-flex;
  align-items: center;
  padding: 4px 8px;
  border-radius: 6px;
  background: color-mix(in srgb, var(--accent) 12%, var(--bg-elev));
  border: 1px solid color-mix(in srgb, var(--accent) 30%, var(--border));
  font-size: 10px;
  font-weight: 700;
  letter-spacing: 0.05em;
  text-transform: uppercase;
  color: var(--accent);
}

.contact-badge {
  background: color-mix(in srgb, var(--accent) 18%, var(--bg-elev));
  color: var(--accent);
}

.contact-description {
  margin-top: 4px;
  font-size: 12px;
  color: var(--sub);
  line-height: 1.4;
}

.contact-button {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  width: 100%;
  padding: 12px 16px;
  border-radius: 12px;
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--bg-alt) 70%, transparent);
  color: var(--text);
  font-weight: 700;
  font-size: 14px;
  text-decoration: none;
  transition: transform 0.2s var(--ease), box-shadow 0.2s var(--ease), background 0.2s var(--ease);
  min-height: 44px;
}

.contact-button:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-soft);
  background: color-mix(in srgb, var(--bg-elev) 90%, transparent);
}

.contact-button.primary {
  background: color-mix(in srgb, #25D366 14%, var(--bg-elev) 86%);
  border-color: color-mix(in srgb, #25D366 40%, var(--border) 60%);
  color: var(--text);
}

.contact-button.primary i {
  color: #25D366;
}

.contact-button.primary:hover {
  background: color-mix(in srgb, #25D366 18%, var(--bg-elev) 82%);
}

/* Combined numbers styling */
.combined-numbers {
  display: flex;
  flex-direction: column;
  gap: 10px;
  margin-top: 10px;
}

/* Email button styling */
#artistEmailModal .contact-button.primary {
  background: color-mix(in srgb, var(--accent) 12%, var(--bg-elev));
  border-color: color-mix(in srgb, var(--accent) 30%, var(--border));
}

#artistEmailModal .contact-button.primary i {
  color: var(--accent);
}

#artistEmailModal .contact-button.primary:hover {
  background: color-mix(in srgb, var(--accent) 18%, var(--bg-elev));
}

/* Venues Modal Styles */
.venues-list {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.venue-item {
  padding: 14px;
  border-radius: 16px;
  border: 1px solid color-mix(in srgb, var(--border) 40%, transparent);
  background: color-mix(in srgb, var(--bg-elev) 95%, transparent);
  backdrop-filter: blur(20px);
  box-shadow: 
    0 2px 8px rgba(0,0,0,.06),
    inset 0 1px 0 rgba(255,255,255,.05);
  transition: all 0.25s var(--ease);
}

.venue-item:hover {
  transform: translateY(-1px);
  box-shadow: 
    0 4px 12px rgba(0,0,0,.08),
    inset 0 1px 0 rgba(255,255,255,.08);
  border-color: color-mix(in srgb, var(--border) 60%, transparent);
}

.venue-name {
  font-size: 16px;
  font-weight: 800;
  letter-spacing: -0.2px;
  color: var(--text);
}

/* Make portfolio button work like link */
.portfolio-link button {
  background: none;
  border: none;
  padding: 0;
  margin: 0;
  font: inherit;
  cursor: pointer;
  color: inherit;
  width: 100%;
  text-align: left;
}

/* ===================== TEMPO SCHEDULE MODAL (iOS 26 Style) ===================== */
.tempo-modal-backdrop{
  position:fixed;
  inset:0;
  z-index: 4200;
  background: rgba(0,0,0,.55);
  backdrop-filter: blur(40px) saturate(180%);
  background-image: radial-gradient(
    circle at 50% 0%,
    rgba(255,255,255,.03) 0%,
    transparent 50%
  );
  display:grid;
  place-items:center;
  padding: 20px;
  animation: backdropEnter 0.3s cubic-bezier(0.16, 1, 0.3, 1);
  opacity: 0;
}

.tempo-modal-backdrop:not(.byz-hidden) {
  opacity: 1;
}

.tempo-modal{
  width: min(560px, 100%);
  border-radius: 28px;
  border: 1px solid color-mix(in srgb, var(--border) 50%, transparent);
  background: 
    linear-gradient(135deg, 
      color-mix(in srgb, var(--bg) 92%, transparent) 0%,
      color-mix(in srgb, var(--bg) 88%, transparent) 100%
    );
  backdrop-filter: blur(80px) saturate(220%);
  box-shadow: 
    0 20px 60px rgba(0,0,0,.25),
    0 8px 24px rgba(0,0,0,.15),
    0 2px 8px rgba(0,0,0,.1),
    inset 0 1px 0 rgba(255,255,255,.15),
    inset 0 -1px 0 rgba(0,0,0,.1),
    0 0 0 1px color-mix(in srgb, var(--border) 30%, transparent);
  overflow:hidden;
  animation: modalEnter 0.4s cubic-bezier(0.16, 1, 0.3, 1);
  transform-origin: center;
  position: relative;
}

.tempo-modal::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 1px;
  background: linear-gradient(90deg, 
    transparent 0%,
    color-mix(in srgb, var(--accent) 20%, transparent) 50%,
    transparent 100%
  );
  pointer-events: none;
}

@media (max-width: 640px) {
  .tempo-modal-backdrop {
    align-items: flex-end;
    padding: 0;
  }
  
  .tempo-modal {
    width: 100%;
    max-width: 100%;
    border-radius: 28px 28px 0 0;
    margin-top: auto;
    max-height: 90vh;
    animation: slideUp 0.4s cubic-bezier(0.16, 1, 0.3, 1);
  }
}
.tempo-modal-head{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap:12px;
  padding:20px 20px 0 20px;
  position: sticky;
  top: 0;
  z-index: 10;
  background: 
    linear-gradient(180deg,
      color-mix(in srgb, var(--bg) 95%, transparent) 0%,
      color-mix(in srgb, var(--bg) 90%, transparent) 100%
    );
  backdrop-filter: blur(40px) saturate(180%);
  border-bottom: 1px solid color-mix(in srgb, var(--border) 25%, transparent);
  margin-bottom: 0;
  padding-bottom: 20px;
  box-shadow: 0 1px 0 rgba(255,255,255,.05);
}
.tempo-modal-title{
  font-weight:900;
  letter-spacing:-.6px;
  font-size:20px;
  background: linear-gradient(135deg, var(--text), color-mix(in srgb, var(--text) 80%, var(--sub)));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}
.tempo-modal-sub{
  margin-top:6px;
  font-size:13px;
  color:var(--sub);
  line-height:1.4;
}
.tempo-modal-x{
  width:44px;
  height:44px;
  border-radius:16px;
  border: 1px solid color-mix(in srgb, var(--border) 50%, transparent);
  background: color-mix(in srgb, var(--bg-elev) 90%, transparent);
  backdrop-filter: blur(20px);
  box-shadow: var(--shadow-soft);
  cursor:pointer;
  transition: all 0.2s var(--ease);
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text);
}

.tempo-modal-x:hover {
  background: color-mix(in srgb, var(--bg-elev) 95%, transparent);
  box-shadow: 
    0 4px 16px rgba(0,0,0,.1),
    0 0 0 1px color-mix(in srgb, var(--border) 30%, transparent);
  transform: scale(1.05);
}

.tempo-modal-x:active {
  transform: scale(0.95);
}

.tempo-modal-x:hover {
  background: color-mix(in srgb, var(--bg-elev) 95%, transparent);
  box-shadow: 
    0 4px 16px rgba(0,0,0,.1),
    0 0 0 1px color-mix(in srgb, var(--border) 30%, transparent);
  transform: scale(1.05);
}

.tempo-modal-x:active {
  transform: scale(0.95);
}

.tempo-modal-body{ 
  padding:16px; 
  max-height: calc(100vh - 200px);
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: thin;
  scrollbar-color: var(--border) transparent;
}

.tempo-modal-body::-webkit-scrollbar {
  width: 6px;
}

.tempo-modal-body::-webkit-scrollbar-track {
  background: transparent;
}

.tempo-modal-body::-webkit-scrollbar-thumb {
  background: var(--border);
  border-radius: 3px;
}

.tempo-modal-body::-webkit-scrollbar-thumb:hover {
  background: var(--sub);
}
  
  .tempo-modal{
  max-width: 560px;
  width: calc(100% - 32px); /* prevents overflow on small screens */
}

.tempo-nav{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
  margin-bottom:10px;
}

.tempo-nav-btn{
  width:44px;
  height:44px;
  border-radius:16px;
  border: 1px solid color-mix(in srgb, var(--border) 50%, transparent);
  background: color-mix(in srgb, var(--bg-elev) 90%, transparent);
  backdrop-filter: blur(20px);
  box-shadow: var(--shadow-soft);
  cursor:pointer;
  font-weight:900;
  font-size:18px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text);
  transition: all 0.2s var(--ease);
}

.tempo-nav-btn:hover {
  transform: scale(1.05);
  background: color-mix(in srgb, var(--bg-elev) 95%, transparent);
  box-shadow: var(--shadow);
}

.tempo-nav-btn:active {
  transform: scale(0.95);
}

  .tempo-calendars{
  display:grid;
  grid-template-columns: repeat(2, 1fr);
  gap:12px;
}

@media (max-width: 640px){
  .tempo-calendars{ grid-template-columns: 1fr; }
}

.tempo-calendar{
  border-radius:24px;
  border:1px solid var(--border);
  background: color-mix(in srgb, var(--bg) 92%, transparent);
  box-shadow: var(--shadow);
  padding:16px;
}

.tempo-month{
  font-weight:900;
  letter-spacing:-.4px;
  margin-bottom:12px;
  font-size:16px;
}

.tempo-grid{
  display:grid;
  grid-template-columns: repeat(7, 1fr);
  gap:8px;
}
.tempo-day{
  font-size:11px;
  color:var(--sub);
  text-transform:uppercase;
  letter-spacing:.08em;
  text-align:center;
}
.tempo-date,
.tempo-blank{
  height:42px;
  border-radius:14px;
  border:1px solid var(--border);
  background: color-mix(in srgb, var(--bg-elev) 92%, transparent);
  text-align:center;
  font-weight:800;
  position:relative;
  box-shadow: var(--shadow-soft);
}

.tempo-blank{ border-color: transparent; background: transparent; }
.tempo-date{
  display:grid;
  place-items:center;
}
.tempo-date.event{
  background: rgba(255,59,48,.18);
  border-color: rgba(255,59,48,.55);
  box-shadow: 0 10px 20px rgba(255,59,48,.15);
}
.tempo-date.event::after{
  content:"";
  position:absolute;
  inset:0;
  border-radius:14px;
  border:2px solid rgba(255,59,48,.85);
}

.tempo-date.today {
  background: color-mix(in srgb, var(--accent) 15%, var(--bg-elev));
  border-color: color-mix(in srgb, var(--accent) 40%, var(--border));
  box-shadow: 0 4px 12px color-mix(in srgb, var(--accent) 20%, transparent);
}

.tempo-date.today span {
  font-weight: 900;
  color: var(--accent);
}

.tempo-date span{
  position:relative;
  z-index:1;
}

.tempo-list{
  margin-top:12px;
  display:flex;
  flex-direction:column;
  gap:8px;
  font-size:13px;
  color:var(--sub);
}
.tempo-pill{
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding:8px 12px;
  border-radius:999px;
  border:1px solid var(--border);
  background: color-mix(in srgb, var(--bg-alt) 70%, transparent);
  font-weight:700;
  width:fit-content;
}

/* ============================= */
/* MEMORY GALLERY — UI REFINEMENT */
/* Apple-like, clean, premium     */
/* ============================= */

#gallery {
  --mg-radius: 22px;
  --mg-radius-sm: 14px;
}

/* ---------- TYPOGRAPHY (MATCH SITE FLOW) ---------- */

#gallery {
  font-family: inherit;
}

#gallery .tab {
  font-weight: 500;
  font-size: 13px;
}

#gallery .tab.active {
  font-weight: 600;
}

/* Album / board titles */
#gallery .board-title {
  font-weight: 800;
  letter-spacing: -0.4px;
}

/* Meta text */
#gallery .gallery-meta,
#gallery .gallery-note,
#gallery .album-sub {
  font-weight: 400;
  font-size: 13px;
  color: var(--sub);
}

/* Overlay labels */
#gallery .pin-label {
  font-weight: 500;
  font-size: 12px;
  text-transform: none;
}

/* ---------- BOARD / PIN CARDS ---------- */
/* Board cards */
#gallery .board {
  border-radius: var(--mg-radius);
  overflow: visible;              /* IMPORTANT: don't clip the preview corners */
  background: var(--bg-elev);
  border: 1px solid var(--border);
  box-shadow: var(--shadow-soft);
}

/* ===== LIVE ALBUM PREVIEW (slightly rounded corners) ===== */
#gallery .board-preview{
  position:relative;
  width:100%;
  aspect-ratio: 4 / 5;
  overflow:hidden;
  border-radius: var(--mg-radius-sm);  /* subtle rounding */
}

#gallery .board-preview .preview-img{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  object-fit:cover;
  opacity:0;
  transition: opacity var(--mg-fade) ease;
  will-change: opacity;
}
#gallery .board-preview .preview-img.active{
  opacity:1;
}

/* ===== MOBILE: SHOW MORE ALBUMS ON SCREEN (SIZE ONLY) ===== */
@media (max-width: 520px) {

  /* Force albums into 2 columns on phones (covers common grid wrappers) */
  #gallery .boards,
  #gallery .board-grid,
  #gallery .boards-grid,
  #gallery .gallery-grid {
    display: grid;
    grid-template-columns: repeat(2, minmax(0, 1fr));
    gap: 12px; /* smaller gap so more fits */
  }

  /* Make each album preview less tall */
  #gallery .board-preview {
    aspect-ratio: 1 / 1;  /* was 4/5 (taller). 1/1 shows more albums */
  }
}
/* ---------- DARK MODE FIX (TEXT VISIBILITY) ---------- */

#gallery {
  color: var(--text);
}

#gallery .gallery-meta,
#gallery .gallery-note {
  color: var(--sub);
}

/* ---------- BULK BAR SPACING (NO OVERFLOW) ---------- */

#gallery .bulk-actions {
  display: flex;
  gap: 14px;
  flex-wrap: wrap;
}

@media (max-width: 480px) {
  #gallery .bulkbar {
    padding-bottom: env(safe-area-inset-bottom);
  }

  #gallery .bulk-actions {
    flex-direction: column;
  }

  #gallery .bulk-actions .btn {
    width: 100%;
    justify-content: center;
  }
}
/* =====================================================
   MEMORY GALLERY — APPLE ALBUM PREVIEW (UI ONLY)
===================================================== */

#gallery {
  --mg-radius: 22px;
  --mg-fade: 420ms;
}

/* ---------- TYPOGRAPHY FIX ---------- */
/* Match rest of site: confident, not bold, not thin */

#gallery * {
  font-weight: 450;
}

#gallery .tab {
  font-weight: 500;
}

#gallery .tab.active {
  font-weight: 600;
}

#gallery .gallery-meta,
#gallery .gallery-note {
  font-weight: 400;
}

/* ---------- ALBUM CARD ---------- */

#gallery .album-card {
  position: relative;
  border-radius: var(--mg-radius);
  overflow: hidden;
  background: var(--bg-elev);
  box-shadow: var(--shadow-soft);
}

/* Image fills card fully + slight rounded corners */
#gallery .album-preview {
  position: relative;
  width: 100%;
  aspect-ratio: 4 / 5;
  overflow: hidden;
  border-radius: 10px; /* <- subtle rounding (try 8–12px) */
}

/* Fill preview */
#gallery .album-preview img {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  opacity: 0;
  transition: opacity var(--mg-fade) ease;
}

/* Active image */
#gallery .album-preview img.active {
  opacity: 1;
}

/* ---------- ALBUM TEXT ---------- */

#gallery .album-info {
  padding: 12px 14px;
}

#gallery .album-title {
  font-weight: 500;
  letter-spacing: -0.2px;
}

#gallery .album-count {
  margin-top: 2px;
  font-size: 13px;
  color: var(--sub);
  font-weight: 400;
}

/* ---------- BULK BAR SPACING FIX ---------- */

#gallery .bulk-actions {
  display: flex;
  gap: 14px;
}

@media (max-width: 520px) {
  #gallery .bulk-actions {
    flex-direction: column;
  }

  #gallery .bulk-actions .btn {
    width: 100%;
    justify-content: center;
  }

  #gallery .bulkbar {
    padding-bottom: env(safe-area-inset-bottom);
  }
}
  /* ============================= */
/* MEMORY GALLERY — REQUIRED OVERRIDES */
/* ============================= */
#gallery{
  font-weight: 400;
}
#gallery *{
  font-weight: inherit;
}
#gallery .section-title h2{
  font-weight: 700;
}
#gallery .section-title p{
  font-weight: 400;
}
#gallery .gallery-toggle,
#gallery .tab,
#gallery .btn,
#gallery .album-title,
#gallery .bulk-count{
  font-weight: 600;
}
#gallery .gallery-meta,
#gallery .gallery-note,
#gallery .album-sub,
#gallery .bulk-sub{
  font-weight: 400;
}

#gallery .board{
  background: none;
  border: none;
  box-shadow: none;
  padding: 0;
}
#gallery .board-meta{
  display:none;
}

#gallery .board-preview{
  aspect-ratio: 4 / 5;
  border-radius: 16px;
  overflow:hidden;
  box-shadow: var(--shadow-soft);
  position:relative;
}
#gallery .board-preview::after{
  content:"";
  position:absolute;
  inset:0;
  background: linear-gradient(180deg, rgba(0,0,0,0) 52%, rgba(0,0,0,.58) 100%);
  pointer-events:none;
  z-index:1;
}
#gallery .board-preview .preview-img{
  border-radius: 0;
}

#gallery .board-info{
  position:absolute;
  left:12px;
  bottom:10px;
  color:#fff;
  font-size:12px;
  font-weight:600;
  letter-spacing:.01em;
  z-index:2;
  text-shadow: 0 2px 8px rgba(0,0,0,.35);
}
/* Make the date/count pill feel clickable */
#gallery .board-info{
  cursor: pointer;
  transition:
    transform .18s var(--ease),
    box-shadow .18s var(--ease),
    background .18s var(--ease),
    border-color .18s var(--ease);
}
/* Keep the pill shape on small screens */
#gallery .board-info{
  white-space: nowrap;
  min-height: 30px;
  line-height: 1;
  padding: 8px 14px;
  max-width: calc(100% - 24px);
  text-overflow: ellipsis;
  overflow: hidden;
}

@media (max-width: 560px){
  #gallery .board-info{
    min-height: 28px;
    padding: 7px 12px;
    font-size: 11px;
  }
}
/* Desktop hover */
@media (hover: hover) and (pointer: fine){
  #gallery .board:hover .board-info{
    transform: translateX(-50%) translateY(-2px);
    background: rgba(0,0,0,.70);
    border-color: rgba(255,255,255,.6);
    box-shadow: 0 12px 26px rgba(0,0,0,.45);
  }
}

/* Keyboard focus (optional but nice) */
#gallery .board:focus-visible .board-info{
  outline: 2px solid rgba(255,255,255,.7);
  outline-offset: 2px;
}

/* iPhone / touch “pressed” feel */
@media (hover: none) and (pointer: coarse){
  #gallery .board:active .board-info{
    transform: translateX(-50%) scale(0.98);
    background: rgba(0,0,0,.78);
    border-color: rgba(255,255,255,.8);
    box-shadow: 0 6px 18px rgba(0,0,0,.4);
  }
}

#gallery .board-badge{
  position:absolute;
  top:10px;
  right:10px;
  width:32px;
  height:32px;
  border-radius:50%;
  object-fit:cover;
  background:#fff;
  border:1px solid rgba(255,255,255,.65);
  box-shadow: 0 6px 18px rgba(0,0,0,.25);
  z-index:2;
}

#gallery .bulkbar{
  padding: 16px 18px;
  gap: 16px;
  z-index: 950;
}
#gallery .bulk-actions{
  gap: 12px;
}
#gallery .bulk-actions .btn{
  padding: 12px 18px;
}

/* Select ON state */
#gallery #selectModeBtn[aria-pressed="true"]{
  background: color-mix(in srgb, #25D366 18%, var(--bg-elev));
  border-color: color-mix(in srgb, #25D366 45%, var(--border));
  box-shadow: var(--shadow-soft);
}
#gallery #selectModeBtn[aria-pressed="true"] i{
  color:#25D366;
}
#gallery #selectModeBtn[aria-pressed="true"]::after{
  content:"";
  width:8px;
  height:8px;
  border-radius:50%;
  display:inline-block;
  margin-left:6px;
  background:#25D366;
  box-shadow: 0 0 0 3px rgba(37,211,102,.18);
}

/* Smaller previews on phones */
@media (max-width: 560px){
  #gallery .board-grid{
    grid-template-columns: repeat(2, minmax(0, 1fr));
    gap: 12px;
  }
  #gallery .board-preview{
    aspect-ratio: 1 / 1;
  }
}

/* Social dock moves up when bulk bar is visible */
/* Social dock bottom position is now controlled by JavaScript to prevent overlap */
.social-dock{
  transition: bottom .2s var(--ease), transform .2s var(--ease);
}
body.bulkbar-active .social-dock{
  --dock-bulk-offset: 120px;
}
/* === Album badge top-right + clickable pill date === */
#gallery .board-preview{
  position: relative;
}

/* Only preview images rotate */
#gallery .board-preview .preview-img{
  position: absolute;
  inset: 0;
  z-index: 0;
}

/* Gradient overlay */
#gallery .board-preview::after{
  z-index: 1;
}

/* Date + count = centered pill */
#gallery .board-info{
  position: absolute;
  left: 50%;
  bottom: 12px;
  transform: translateX(-50%);
  z-index: 2;
  padding: 8px 14px;
  border-radius: 999px;
  font-size: 12px;
  font-weight: 600;
  letter-spacing: .02em;
  color: #fff;
  background: rgba(0,0,0,.55);
  border: 1px solid rgba(255,255,255,.35);
  box-shadow: 0 8px 22px rgba(0,0,0,.35);
  backdrop-filter: blur(10px);
  text-align: center;
}

/* badge ring */
#gallery .board-badge{
  position: absolute;
  top: 12px;
  right: 12px;
  width: 38px;
  height: 38px;
  border-radius: 50%;
  overflow: hidden;
  object-fit: cover;
  border: 2px solid rgba(255,255,255,.9);
  background: #fff;
  box-shadow: 0 10px 22px rgba(0,0,0,.4);
  z-index: 3;
  display: block;
}


/* Glow ring */
#gallery .board-badge::after{
  content:"";
  position:absolute;
  inset:-4px;
  border-radius:50%;
  background:
    conic-gradient(
      from 180deg,
      rgba(255,255,255,.65),
      rgba(0,255,224,.45),
      rgba(255,45,247,.45),
      rgba(255,255,255,.65)
    );
  filter: blur(6px);
  z-index:-1;
}
@media (max-width: 560px){
  #gallery .board-info{
    padding: 7px 12px;
    font-size: 11px;
  }
}

</style>

</head>

<body>
<header>
  <div class="container header-inner">
    <a class="brand" href="#home" aria-label="BYZ in the Hood Home">
  <span class="brand-logo-wrap" aria-hidden="true">
    <img class="brand-logo logo-light" src="assets/byz-logo-black.png" alt="" />
    <img class="brand-logo logo-dark"  src="assets/byz-logo-white.png" alt="" />
  </span>
</a>

    <nav aria-label="Main navigation">
      <ul>
        <li><a href="#home">Home</a></li>
        <li><a href="#events">We Host</a></li>
        <li><a href="#dj">Lineup</a></li>
        <li><a href="#youtube">YouTube</a></li>
        <li><a href="#team">Meet the Team</a></li>
        <li><a href="gallery.html">Gallery</a></li>
        <li><a href="admin.html">Admin Log In</a></li>
        <li><a href="#connect">Connect</a></li>
      </ul>
    </nav>

    <div class="header-actions">
      <button class="mobile-btn" id="mobileBtn" aria-label="Open menu">
        <!-- simple hamburger -->
        <svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true">
          <path fill="currentColor" d="M4 7h16a1 1 0 0 0 0-2H4a1 1 0 0 0 0 2zm16 4H4a1 1 0 0 0 0 2h16a1 1 0 0 0 0-2zm0 6H4a1 1 0 0 0 0 2h16a1 1 0 0 0 0-2z"/>
        </svg>
      </button>
      <a class="mini" href="https://kasigila.github.io/byzmock/booking.html">Reserve</a>
    </div>
  </div>

  <!-- Mobile menu panel -->
  <div class="mobile-panel" id="mobilePanel" aria-label="Mobile menu">
    <a href="#home">Home</a>
    <a href="#events">We Host</a>
    <a href="#dj">Lineup</a>
    <a href="#youtube">YouTube</a>
    <a href="#team">Meet the Team</a>
    <a href="gallery.html">Gallery</a>
    <a href="rate.html">Rate Experience</a>
    <a href="admin.html">Admin Log In</a>
    <a href="#connect">Connect</a>
    <a href="https://kasigila.github.io/byzmock/booking.html" class="btn primary" style="margin-top:10px; width:100%;">Book Now</a>
  </div>
</header>

<!-- Floating Party Icons -->

<div class="party-float" aria-label="Quick party actions">
  <!-- Groove -->
  <div class="party-chip" aria-label="Groove Series quick action">
    <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M12 3a9 9 0 1 0 9 9h-2a7 7 0 1 1-7-7V3zm1 5h-2v6l5 3 1-1.7-4-2.3V8z"/></svg>
    <div class="party-pop">
      <h4>Groove Series</h4>
      <p>Weekly Afro-house nights. Reserve a table in seconds.</p>
      <div class="pop-actions">
        <a class="mini primary" href="https://kasigila.github.io/byzmock/booking.html">Book</a>
        <a class="mini" href="https://kasigila.github.io/byzmock/booking.html">Reserve</a>
      </div>
    </div>
  </div>
  <!-- Tempo -->
  <div class="party-chip" aria-label="Tempo quick action">
      <img class="party-icon-img" src="assets/assets/events/tempo.PNG" alt="" aria-hidden="true">
    <div class="party-pop">
      <h4>Tempo</h4>
      <p>Seasonal themes. Big energy. Premium crowd.</p>
      <div class="pop-actions">
        <a class="mini primary" href="https://kasigila.github.io/byzmock/booking.html">Book</a>
        <a class="mini" href="https://kasigila.github.io/byzmock/booking.html">Reserve</a>
      </div>
    </div>
  </div>
  <!-- APT -->
  <div class="party-chip" aria-label="APT Session quick action">
    <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M12 3l9 7v11a1 1 0 0 1-1 1h-5v-7H9v7H4a1 1 0 0 1-1-1V10l9-7zm0 2.3L5 10v10h2v-7h10v7h2V10l-7-4.7z"/></svg>
    <div class="party-pop">
      <h4>APT. Session</h4>
      <p>Invite-only. Intimate location. Premium vibe.</p>
      <div class="pop-actions">
        <a class="mini primary" href="https://kasigila.github.io/byzmock/booking.html">Request Invite</a>
        <a class="mini" href="https://kasigila.github.io/byzmock/booking.html">Reserve</a>
      </div>
    </div>
  </div>
</div>

<!-- Floating Social Dock - Always Open -->
<div class="social-dock" id="socialDock" aria-label="Social links">
  <a class="soc instagram" href="https://www.instagram.com/byzinthehood" target="_blank" rel="noopener" aria-label="Instagram">
    <i class="fa-brands fa-instagram"></i>
  </a>
  <a class="soc tiktok" href="https://www.tiktok.com/@byzinthehood" target="_blank" rel="noopener" aria-label="TikTok">
    <i class="fa-brands fa-tiktok"></i>
  </a>
  <a class="soc facebook" href="https://www.facebook.com/byzinthehood" target="_blank" rel="noopener" aria-label="Facebook">
    <i class="fa-brands fa-facebook"></i>
  </a>
</div>




<main>
  <!-- HERO -->
  <section class="hero" id="home">
    <div class="container hero-grid">
      <div class="reveal">
        <div class="kicker">"More Than The Life Of The Party, We Are The Party"</div>
        <h1>Experience Dar es Salaam’s<br/>Ultimate Nightlife</h1>
        <p>BYZ creates unforgettable experiences through exclusive parties, legendary events, and vibrant community gatherings.</p>

                <div class="hero-actions">
          <a href="#events" class="btn primary">View Upcoming Events</a>
          <button class="btn" id="openBookingPicker" type="button">Reserve a Table</button>
                    <a href="https://wa.me/255768464367" target="_blank" rel="noopener" class="btn">
            <i class="fa-brands fa-whatsapp" aria-hidden="true"></i> Message Us
          </a>
        </div>

        <div class="hero-metrics">
          <div class="metric">
            <strong>10,000+</strong><span>Total Attendees</span>
          </div>
          <div class="metric">
            <strong>55+</strong><span>Events Hosted</span>
          </div>
          
        </div>
      </div>

      <div class="hero-card reveal">
  <div class="hero-card-media" aria-hidden="true">
    <video src="pianogrooveshort.mp4" autoplay muted loop playsinline></video>
  </div>
  <div class="hero-card-body">
    <h3>Piano Groove Countdown</h3>
    <p>Amapiano after dark — deep log drums, velvety keys, and 
      slow‑burn grooves that carry you from warm‑up to sunrise.</p>

    <div class="countdown" aria-label="Countdown timer">
      <div class="timebox"><div class="num" id="cdDays">--</div><div class="lab">Days</div></div>
      <div class="timebox"><div class="num" id="cdHours">--</div><div class="lab">Hours</div></div>
      <div class="timebox"><div class="num" id="cdMins">--</div><div class="lab">Mins</div></div>
      <div class="timebox"><div class="num" id="cdSecs">--</div><div class="lab">Secs</div></div>
    </div>

    <div style="margin-top:12px;display:flex;gap:10px;flex-wrap:wrap">
      <a class="btn primary" href="booking.html?type=caribbean">Book Now</a>
      <a class="btn" href="#dj">See Lineup</a>
    </div>
  </div>
</div>

    
    </div>
  </section>

    <!-- WE HOST -->
  <section id="events">
    <div class="container">
      <div class="section-title reveal">
        <h2>We Host</h2>
        <p>Choose your experience</p>
      </div>
      <div class="cards stagger reveal">
  <div class="card">
    <div class="card-top groove" aria-hidden="true"></div>
    <div class="card-body">
      <h3>Groove Series</h3>
      <p>The heartbeat of Dar nightlife. Weekly Afro-house sessions.</p>
      <div class="card-actions">
        <a class="btn primary" href="groove-series.html">
          <i class="fa-solid fa-circle-info" aria-hidden="true"></i> See Series
        </a>
        <button class="btn" onclick="shareEvent('Groove Series', 'Weekly Afro-house nights at BYZ', window.location.href + '#events')" type="button">
          <i class="fa-solid fa-share-nodes"></i> Share
        </button>
      </div>
    </div>
  </div>

  <div class="card">
    <div class="card-top apt" aria-hidden="true"></div>
    <div class="card-body">
      <h3>APT. Session</h3>
      <p>Invite-only apartment sessions with premium vibes.</p>
      <div class="card-actions">
        <a class="btn primary" href="apt-request.html">Request Invite</a>
        <button class="btn" onclick="shareEvent('APT Session', 'Invite-only apartment sessions', window.location.href + '#events')" type="button">
          <i class="fa-solid fa-share-nodes"></i> Share
        </button>
      </div>
    </div>
  </div>

  <div class="card">
    <div class="card-top tempo" aria-hidden="true"></div>
    <div class="card-body">
      <h3>Tempo</h3>
      <p>Seasonal events with evolving themes.</p>
      <div class="card-actions">
        <a class="btn primary" href="booking-tempo.html">Reserve</a>
        <button class="btn" id="tempoScheduleBtn" type="button">
          <i class="fa-regular fa-calendar" aria-hidden="true"></i> View Schedule
        </button>
        <button class="btn" onclick="shareEvent('Tempo', 'Seasonal events with evolving themes', window.location.href + '#events')" type="button">
          <i class="fa-solid fa-share-nodes"></i> Share
        </button>
      </div>
    </div>
  </div>
        
      </div>
      
    </div>
  </section>

  <!-- DJ / LINEUP / ANNOUNCEMENTS -->
  <section id="dj">
    <div class="container">
      <div class="section-title reveal">
        <h2>DJ Timings, Lineups & Announcements</h2>
        <p>A dedicated place for DJ sets, artist performances, and special updates.</p>
      </div>
      <div class="dj-grid stagger reveal">
        <div class="dj-card dj-card-collapsible">
          
                    <button class="dj-card-header" type="button" aria-expanded="false">
            <div class="dj-card-header-text">
              <h3>Tonight's Groove Set Times</h3>
              <p>Plan your arrival and catch every moment</p>
            </div>
            <button class="dj-card-collapse-btn" type="button" aria-label="Collapse">
              <i class="fa-solid fa-chevron-up"></i>
            </button>
          </button>
          
          <div class="dj-card-content">
            <div class="timeline-wrapper">
              <div class="timeline-line"></div>
              <div class="timeline" data-timeline="groove">
                <div class="slot" data-start="22:00" data-end="23:30">
                  
                  <div class="slot-content">
                    <div class="left">
                      <div class="time">10:00 PM – 11:30 PM</div>
                      <div class="who">DJ Mama • Warm-up</div>
                    </div>
                    <div class="badge">DJ SET</div>
                  </div>
                </div>
                <div class="slot" data-start="23:30" data-end="01:00">
                  
                  <div class="slot-content">
                    <div class="left">
                      <div class="time">11:30 PM – 1:00 AM</div>
                      <div class="who">DJ Baba • Main Set</div>
                    </div>
                    <div class="badge">HEADLINE</div>
                  </div>
                </div>
                <div class="slot" data-start="01:00" data-end="02:30">
                  
                  <div class="slot-content">
                    <div class="left">
                      <div class="time">1:00 AM – 2:30 AM</div>
                      <div class="who">DJ Dada • Closing</div>
                    </div>
                    <div class="badge">CLOSER</div>
                  </div>
                </div>
                <div class="slot" data-start="02:30" data-end="03:30">
                  
                  <div class="slot-content">
                    <div class="left">
                      <div class="time">2:30 AM – 3:30 AM</div>
                      <div class="who">DJ ___ • Late Set</div>
                    </div>
                    <div class="badge">LATE</div>
                  </div>
                </div>
                <div class="slot" data-start="03:30" data-end="04:30">
                  
                  <div class="slot-content">
                    <div class="left">
                      <div class="time">3:30 AM – 4:30 AM</div>
                      <div class="who">DJ ___ • Sunrise</div>
                    </div>
                    <div class="badge">SUNRISE</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="dj-card-preview" id="groovePreview">
            <!-- Preview slot will be inserted here by JS -->
          </div>
                              <div class="dj-card-expand-hint">
            <div class="expand-hint-text" data-collapsed="Tap to see all times" data-expanded="Tap to collapse">Tap to see all times</div>
            <div class="expand-hint-icon">
              <i class="fa-solid fa-chevron-down"></i>
            </div>
          </div>
          
        </div>

        <div class="dj-card dj-card-collapsible">
          
                    <button class="dj-card-header" type="button" aria-expanded="false">
            <div class="dj-card-header-text">
              <h3>What to Expect</h3>
              <p>Live performances, special guests, themes, and any important event details.</p>
            </div>
            <button class="dj-card-collapse-btn" type="button" aria-label="Collapse">
              <i class="fa-solid fa-chevron-up"></i>
            </button>
          </button>
          
          <div class="dj-card-content">
            <div class="timeline-wrapper">
              <div class="timeline-line"></div>
              <div class="timeline timeline-expect">
                <div class="slot">
                  
                  <div class="slot-content">
                    <div class="left">
                      <div class="time">Special Guest</div>
                      <div class="who">10k Leeroy • Performance at 12:15 AM</div>
                    </div>
                    <div class="badge">LIVE</div>
                  </div>
                </div>
                <div class="slot">
                  
                  <div class="slot-content">
                    <div class="left">
                      <div class="time">Theme</div>
                      <div class="who">All Black</div>
                    </div>
                    <div class="badge">VIBE</div>
                  </div>
                </div>
                <div class="slot">
                  
                  <div class="slot-content">
                    <div class="left">
                      <div class="time">Special Offer</div>
                      <div class="who">first 50 guests get a free shot</div>
                    </div>
                    <div class="badge">DEAL</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="dj-card-preview" id="expectPreview">
            <!-- Preview slot will be inserted here by JS -->
          </div>
          
                              <div class="dj-card-expand-hint">
            <div class="expand-hint-text" data-collapsed="Tap to see details" data-expanded="Tap to collapse">Tap to see details</div>
            <div class="expand-hint-icon">
              <i class="fa-solid fa-chevron-down"></i>
            </div>
          </div>
          
        </div>
      </div>
      
    </div>
  </section>
  
    <!-- BOOK OUR ARTISTS & DJS -->
<section id="artists">
  <div class="container">
    <div class="section-title reveal">
      <h2>Book Our Artists & DJs</h2>
      <p>Available for events, performances, and collaborations. Connect with our talent roster.</p>
    </div>

    <div class="artist-scroll-wrapper">
      <button class="artist-scroll-btn artist-scroll-left" type="button" aria-label="Scroll left">
        <i class="fa-solid fa-chevron-left"></i>
      </button>
      
      <div class="cards stagger reveal" id="artistCardsContainer">
      
      <!-- DJ Sammy -->
      <div class="card artist-card">
                <div class="card-top artist-photo" style="background-image: url('assets/djsammy.jpg');"></div>
        <div class="card-body">
          <div class="artist-header">
            <div>
              <h3>DJ Sammy</h3>
              <p class="artist-genres">Afrobeats • House • Hip-Hop • Dancehall • Amapiano • R&B</p>
            </div>
            <div class="artist-social-inline">
              <a href="https://www.instagram.com/djsammyofficial_?igsh=MWJ2Y25oaWcyb3M2Zw==" target="_blank" rel="noopener" class="artist-social-icon" aria-label="DJ Sammy Instagram">
                <i class="fa-brands fa-instagram"></i>
              </a>
            </div>
          </div>

          <p class="artist-bio">Professional DJ specializing in Afrobeats, House, and Hip-Hop. High-energy sets that keep the dancefloor moving all night.</p>

          <div class="artist-portfolio">
            <div class="portfolio-label">Portfolio</div>
            <div class="portfolio-links">
              <a href="https://www.instagram.com/djsammyofficial_?igsh=MWJ2Y25oaWcyb3M2Zw==" target="_blank" rel="noopener" class="portfolio-link">
                <i class="fa-brands fa-instagram"></i>
                <span>Instagram</span>
              </a>
              <button class="portfolio-link" onclick="showVenuesModal('sammy')" type="button">
                <i class="fa-solid fa-location-dot"></i>
                <span>Featured Venues</span>
              </button>
            </div>
          </div>

          <div class="card-actions artist-actions">
            <button class="btn primary" onclick="openContactModal('sammy', 'whatsapp')" type="button">
              <i class="fa-brands fa-whatsapp" aria-hidden="true"></i> Quick Inquiry
            </button>
            <button class="btn" onclick="openContactModal('sammy', 'email')" type="button">
              <i class="fa-solid fa-envelope" aria-hidden="true"></i> Formal Booking
            </button>
          </div>
        </div>
      </div>

      <!-- Apuki -->
      <div class="card artist-card">
                <div class="card-top artist-photo" style="background-image: url('assets/apuki.jpg');"></div>
        <div class="card-body">
          <div class="artist-header">
            <div>
              <h3>Apuki</h3>
              <p class="artist-genres">Afrobeats • House • Hip-Hop • Dancehall • Amapiano • R&B</p>
            </div>
            <div class="artist-social-inline">
              <a href="https://www.instagram.com/apukiofficial?igsh=MWtodmFhZDJmODNxbQ==" target="_blank" rel="noopener" class="artist-social-icon" aria-label="Apuki Instagram">
                <i class="fa-brands fa-instagram"></i>
              </a>
              <a href="https://www.tiktok.com/@apukioffical?_r=1&_t=ZM-93862Q3oAKh" target="_blank" rel="noopener" class="artist-social-icon" aria-label="Apuki TikTok">
                <i class="fa-brands fa-tiktok"></i>
              </a>
            </div>
          </div>

          <p class="artist-bio">DJ and performer known for dynamic sets blending Afrobeats, Dancehall, and Hip-Hop. Available for local and international bookings.</p>

          <div class="artist-portfolio">
            <div class="portfolio-label">Portfolio</div>
            <div class="portfolio-links">
              <button class="portfolio-link portfolio-link-interactive" onclick="showSpotifyModal('apuki')" type="button">
                <i class="fa-brands fa-spotify"></i>
                <span>Spotify</span>
                <span class="portfolio-hint">
                  <i class="fa-solid fa-play"></i>
                  <span>Play</span>
                </span>
              </button>
              <a href="https://www.instagram.com/apukiofficial?igsh=MWtodmFhZDJmODNxbQ==" target="_blank" rel="noopener" class="portfolio-link">
                <i class="fa-brands fa-instagram"></i>
                <span>Instagram</span>
              </a>
            </div>
          </div>

          <div class="card-actions artist-actions">
            <button class="btn primary" onclick="openContactModal('apuki', 'whatsapp')" type="button">
              <i class="fa-brands fa-whatsapp" aria-hidden="true"></i> Quick Inquiry
            </button>
            <button class="btn" onclick="openContactModal('apuki', 'email')" type="button">
              <i class="fa-solid fa-envelope" aria-hidden="true"></i> Formal Booking
            </button>
          </div>
        </div>
      </div>

      <!-- Renee -->
      <div class="card artist-card">
        <div class="card-top artist-photo" style="background: #000; display: flex; align-items: center; justify-content: center;">
          <div style="color: var(--sub); font-size: 14px; font-weight: 600;">photo coming soon wewe</div>
        </div>
        <div class="card-body">
          <div class="artist-header">
            <div>
              <h3>Renee</h3>
              <p class="artist-genres">Hip-Hop • Rap • R&B</p>
            </div>
            <div class="artist-social-inline">
              <a href="https://www.instagram.com/renesw0rld777?igsh=MTEzaWVpaHlzOHl0Yw==" target="_blank" rel="noopener" class="artist-social-icon" aria-label="Renee Instagram">
                <i class="fa-brands fa-instagram"></i>
              </a>
              <a href="https://www.tiktok.com/@ren55974?_r=1&_t=ZM-9386Xu6xs6a" target="_blank" rel="noopener" class="artist-social-icon" aria-label="Renee TikTok">
                <i class="fa-brands fa-tiktok"></i>
              </a>
              <a href="https://youtube.com/@renesa777?si=7JWf5rRCVnAhN-4l" target="_blank" rel="noopener" class="artist-social-icon" aria-label="Renee YouTube">
                <i class="fa-brands fa-youtube"></i>
              </a>
            </div>
          </div>

          <p class="artist-bio">Artist specializing in Hip-Hop, Rap, and R&B. Available for performances, collaborations, and live shows.</p>

          <div class="artist-portfolio">
            <div class="portfolio-label">Portfolio</div>
            <div class="portfolio-links">
              <a href="https://on.soundcloud.com/o393kAbwy7qlFCsDVn" target="_blank" rel="noopener" class="portfolio-link">
                <i class="fa-brands fa-soundcloud"></i>
                <span>SoundCloud</span>
              </a>
              <a href="https://youtube.com/@renesa777?si=7JWf5rRCVnAhN-4l" target="_blank" rel="noopener" class="portfolio-link">
                <i class="fa-brands fa-youtube"></i>
                <span>YouTube</span>
              </a>
              <a href="https://www.instagram.com/renesw0rld777?igsh=MTEzaWVpaHlzOHl0Yw==" target="_blank" rel="noopener" class="portfolio-link">
                <i class="fa-brands fa-instagram"></i>
                <span>Instagram</span>
              </a>
            </div>
          </div>

          <div class="card-actions artist-actions">
            <button class="btn primary" onclick="openContactModal('renee', 'whatsapp')" type="button">
              <i class="fa-brands fa-whatsapp" aria-hidden="true"></i> Quick Inquiry
            </button>
            <button class="btn" onclick="openContactModal('renee', 'email')" type="button">
              <i class="fa-solid fa-envelope" aria-hidden="true"></i> Formal Booking
            </button>
          </div>
        </div>
      </div>
      
      </div>

      <button class="artist-scroll-btn artist-scroll-right" type="button" aria-label="Scroll right">
        <i class="fa-solid fa-chevron-right"></i>
      </button>
    </div>
  </div>
</section>
  
  <!-- YOUTUBE -->
  <section id="youtube">
    <div class="container">
      <div class="section-title reveal">
        <h2>BYZ Content</h2>
        <p>Most recent youtube videos featuring Vlogs, Q&A's, Challenges and Reactions with our friends</p>
      </div>

      <div class="youtube-wrap reveal">
        <div class="video-main">
          <div class="video-frame" aria-label="Featured YouTube video">
            <!-- Featured video changes when you click the thumbnails -->
            <iframe id="featuredPlayer"
              src="https://www.youtube.com/embed/ca3BVFtfFIg"
              title="Featured BYZ Video"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
              allowfullscreen></iframe>
          </div>
          <div class="video-main-meta">
            <h3 id="featuredTitle">General Knowledge (Egg Forfeit) w/Jimmy</h3>
            <p id="featuredDesc">Test your knowledge in this hilarious challenge with forfeits.</p>

            <div class="youtube-actions">
  <a class="subscribe" href="https://www.youtube.com/@byzinthehood?sub_confirmation=1" target="_blank" rel="noopener" aria-label="Subscribe on YouTube">
    <i class="fa-brands fa-youtube" aria-hidden="true"></i>
    <span>Subscribe</span>
  </a>

  <a class="channel-link" href="https://www.youtube.com/@byzinthehood" target="_blank" rel="noopener">Visit Channel</a>
</div>
            
          </div>
        </div>

        <div class="video-list" aria-label="More videos">
          <!-- Replace IDs/titles whenever. These are clickable & update the main player -->
          <div class="thumb" data-id="_G0ku7jfWTI" data-title="The Challenge — BYZ Edition" data-desc="A BYZ-style challenge episode.">
            <div class="thumb-img">
              <img src="https://i.ytimg.com/vi/_G0ku7jfWTI/hqdefault.jpg" alt="The Challenge — BYZ Edition thumbnail" />
              <div class="play-badge">
                <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M10 16.5v-9l7 4.5-7 4.5z"/></svg>
                Play
              </div>
            </div>
            <div class="thumb-meta">
              <strong>The Challenge — BYZ Edition</strong>
              <span>Click to preview</span>
            </div>
          </div>

          <div class="thumb" data-id="b7bWk1SRvvU" data-title="Worst Trauma — Dilemma Ep.3" data-desc="Real talk + hilarious moments.">
            <div class="thumb-img">
              <img src="https://i.ytimg.com/vi/b7bWk1SRvvU/hqdefault.jpg" alt="Worst Trauma — Dilemma Ep.3 thumbnail" />
              <div class="play-badge">
                <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M10 16.5v-9l7 4.5-7 4.5z"/></svg>
                Play
              </div>
            </div>
            <div class="thumb-meta">
              <strong>Worst Trauma — Dilemma Ep.3</strong>
              <span>Click to preview</span>
            </div>
          </div>

          <div class="thumb" data-id="uJEvtnC-SVo" data-title="Truth, Dare & Most Likely To" data-desc="A BYZ classic: chaos + laughs.">
            <div class="thumb-img">
              <img src="https://i.ytimg.com/vi/uJEvtnC-SVo/hqdefault.jpg" alt="Truth, Dare & Most Likely To thumbnail" />
              <div class="play-badge">
                <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M10 16.5v-9l7 4.5-7 4.5z"/></svg>
                Play
              </div>
            </div>
            <div class="thumb-meta">
              <strong>Truth, Dare & Most Likely To</strong>
              <span>Click to preview</span>
            </div>
          </div>
          <div class="thumb" data-id="2rhS5s-KGdQ" data-title="General Questions (Shutdown Edition)" data-desc="General Questions — Shutdown Edition.">
  <div class="thumb-img">
    <img src="https://i.ytimg.com/vi/2rhS5s-KGdQ/hqdefault.jpg" alt="General Questions (Shutdown Edition) thumbnail" />
    <div class="play-badge">
      <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M10 16.5v-9l7 4.5-7 4.5z"/></svg>
      Play
    </div>
  </div>
  <div class="thumb-meta">
    <strong>General Questions (Shutdown Edition)</strong>
    <span>Click to preview</span>
  </div>
</div>

<div class="thumb" data-id="EVb0zXYVrW0" data-title="Dilemma Ep. 2: What was your worst rejection?" data-desc="Dilemma Ep. 2 — worst rejection stories.">
  <div class="thumb-img">
    <img src="https://i.ytimg.com/vi/EVb0zXYVrW0/hqdefault.jpg" alt="Dilemma Ep. 2: What was your worst rejection? thumbnail" />
    <div class="play-badge">
      <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M10 16.5v-9l7 4.5-7 4.5z"/></svg>
      Play
    </div>
  </div>
  <div class="thumb-meta">
    <strong>Dilemma Ep. 2: What was your worst rejection?</strong>
    <span>Click to preview</span>
  </div>
</div>
        </div>
      </div>
    </div>
  </section>

  <!-- GALLERY -->
<section id="gallery">
  <div class="container">
    <div class="section-title reveal">
      <h2>Memory Gallery</h2>
      <p>Did the photographer catch you lacking? Download your pictures here!</p>

        <div style="display:flex; gap:10px; flex-wrap:wrap; align-items:center; margin-top:14px;">
      <!-- ✅ Hide/Show (mobile-friendly) -->
        </div>

      <div class="gallery-hint"> </div>
    </div>

    <!-- ✅ Gallery content (now visible by default) -->
    <div class="gallery-shell" id="galleryContent" aria-hidden="false">
      <!-- Event tabs -->
      <div class="gallery-tabs" role="tablist" aria-label="Choose event gallery">
        <button class="tab active" type="button" role="tab" aria-selected="true" data-event="groove">
          Groove
        </button>
        <button class="tab" type="button" role="tab" aria-selected="false" data-event="tempo">
          Tempo
        </button>

        <div class="gallery-meta" aria-live="polite">
          <span id="albumCount">0</span> albums • <span id="photoCount">0</span> photos
        </div>
      </div>

      <!-- ✅ Pinterest-style boards live here -->
      <div class="board-grid" id="boardGrid" aria-label="Albums"></div>
      
      <!-- View All Albums Button -->
      <div style="margin-top:24px; text-align:center;">
        <a href="gallery.html" class="btn primary" style="text-decoration:none; display:inline-flex; align-items:center; gap:8px;">
          <i class="fa-solid fa-images"></i>
          <span>View All Albums</span>
        </a>
      </div>

      <!-- ✅ Album view (hidden until you tap a board) -->
      <div class="album-view byz-hidden" id="albumView" aria-hidden="true">
        <div class="album-top">
          <button class="btn ghost" id="backToBoards" type="button">
            <i class="fa-solid fa-arrow-left" aria-hidden="true"></i>
            Albums
          </button>

          <div class="album-title-wrap">
            <div class="album-title" id="albumTitle">—</div>
            <div class="album-sub" id="albumSub">—</div>
          </div>

          <div class="album-actions">
            <select id="gallerySort" class="select" aria-label="Sort photos">
              <option value="new">Newest first</option>
              <option value="old">Oldest first</option>
              <option value="rand">Shuffle</option>
            </select>

            <button class="btn ghost" id="selectModeBtn" type="button" aria-pressed="false">
              <i class="fa-regular fa-circle-check" aria-hidden="true"></i>
              Select
            </button>
          </div>
        </div>

        <!-- Photos -->
        <div class="masonry" id="masonry" aria-label="Photos"></div>

        <p class="gallery-note">
          Tap a photo to preview. Hover to download. Use <b>Select</b> to download multiple.
        </p>

        <!-- Bulk bar -->
        <div class="bulkbar" id="bulkbar" aria-hidden="true">
          <div class="bulk-left">
            <span class="bulk-count"><span id="selectedCount">0</span> selected</span>
            <span class="bulk-sub" id="selectedHint">Tap photos to select</span>
          </div>

          <div class="bulk-actions">
            <button class="btn" id="bulkClear" type="button">Clear</button>
            <button class="btn" id="bulkCopy" type="button">
              <i class="fa-regular fa-copy" aria-hidden="true"></i> Copy links
            </button>
            <button class="btn primary" id="bulkDownload" type="button">
              <i class="fa-solid fa-download" aria-hidden="true"></i> Download selected
            </button>
          </div>
        </div>
      </div>

      <!-- Lightbox / Preview Modal -->
      <div class="lightbox" id="lightbox" aria-hidden="true">
        <div class="lb-backdrop" data-lb-close></div>

        <div class="lb-panel" role="dialog" aria-modal="true" aria-label="Photo preview">
          <button class="lb-close" type="button" aria-label="Close" data-lb-close>✕</button>

          <button class="lb-nav prev" id="lbPrev" type="button" aria-label="Previous photo">‹</button>
          <button class="lb-nav next" id="lbNext" type="button" aria-label="Next photo">›</button>

          <div class="lb-media">
            <img id="lbImg" alt="Preview" />
          </div>

          <div class="lb-footer">
            <!-- ✅ No file names -->
            <div class="lb-filename" id="lbName">—</div>

            <div class="lb-actions">
              <a class="lb-download" id="lbDownload" href="#" download>
                <i class="fa-solid fa-download" aria-hidden="true"></i> Download
              </a>
              <button class="lb-copy" id="lbCopy" type="button">
                <i class="fa-regular fa-copy" aria-hidden="true"></i> Copy link
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- Toast -->
      <div class="toast" id="toast" aria-hidden="true"></div>
    </div>
  </div>
</section>
<!-- MEET THE TEAM (BACK + UPGRADED) -->
  <section id="team">
    <div class="container">
      <div class="section-title reveal">
        <h2>Meet the BYZ Team</h2>
        <p>Keep up with us on our socials. </p>
      </div>

      <div class="team-wrap reveal team-spotlight">
        <div class="team-split">
          <!-- Fixed group photo -->
          <div class="team-photo-card">
            <img src="assets/assets/team-photo/team-photo.jpg" alt="BYZ Team" />
          </div>

          <!-- Minimal pill rotator -->
          <div class="team-rotator" aria-label="Team details carousel">
                          <a class="rotator-pill" id="teamPill" href="#" target="_blank" rel="noopener">
              <i class="fa-brands fa-instagram" aria-hidden="true"></i>
              <div class="rotator-content">
                <div class="rotator-role" id="teamRole">—</div>
                <div class="rotator-ig" id="teamHandle">@byzinthehood</div>
              </div>
            </a>
            
          </div>
        </div>
      </div>

      
    </div>
  </section>
  <!-- CONNECT -->
  <section class="connect-wrapper" id="connect">
  <div class="container">
    <div class="section-title connect-title-outside">
      <h2>Connect With BYZ</h2>
      <p>Follow us on our socials.</p>
    </div>
    <div class="connect-panel">
      <div class="social-grid">
        <a class="social-card instagram" href="https://www.instagram.com/byzinthehood" target="_blank" rel="noopener">
          <div class="social-icon"><i class="fab fa-instagram"></i></div>
          
          <p> </p>
          <span class="social-hint">Visit Instagram <i class="fas fa-arrow-right"></i></span>
        </a>

        <a class="social-card tiktok" href="https://www.tiktok.com/@byzinthehood" target="_blank" rel="noopener">
          <div class="social-icon"><i class="fab fa-tiktok"></i></div>
          
          <p> </p>
          <span class="social-hint">Visit TikTok <i class="fas fa-arrow-right"></i></span>
        </a>

        <a class="social-card youtube" href="https://www.youtube.com/@byzinthehood" target="_blank" rel="noopener">
          <div class="social-icon"><i class="fab fa-youtube"></i></div>
          
          <p> </p>
          <span class="social-hint">Visit YouTube <i class="fas fa-arrow-right"></i></span>
        </a>

        <a class="social-card facebook" href="https://www.facebook.com/share/16ZE9bhJQf" target="_blank" rel="noopener">
          <div class="social-icon"><i class="fab fa-facebook"></i></div>
          
          <p> </p>
          <span class="social-hint">Visit Facebook <i class="fas fa-arrow-right"></i></span>
        </a>
      </div>
    </div>
  </div>
</section>


  <!-- FOOTER -->
  <footer>
    <div class="container">
      <div class="footer-grid">
        <div>
          <h2>BYZ</h2>
          <p>Creating legendary experiences in Dar es Salaam since 2018</p>
        </div>
        <div>
          <h4>Quick Links</h4>
          <p><a href="#events">We Host</a></p>
          <p><a href="#dj">Lineup</a></p>
          <p><a href="#youtube">YouTube</a></p>
          <p><a href="gallery.html">Memory Gallery</a></p>
          <p><a href="rate.html">Rate Your Experience</a></p>
          <p><a href="/booking.html">Book Now</a></p>
        </div>
        
        <div>
  <h4>Contact</h4>

  <p>
    Booking & WhatsApp:
    <a href="tel:+255768464367" style="text-decoration:underline;font-weight:800;">
      +255 768 464 367
    </a>
  </p>

  <p>
    Business Email:
    <a href="mailto:byzentertainment@gmail.com?subject=BYZ%20Inquiry"
       style="text-decoration:underline;font-weight:800;">
      byzentertainment@gmail.com
    </a>
  </p>

  <p style="margin-top:12px;">
    <a href="#" id="devContactLink" class="dev-pill">
      <i class="fa-solid fa-sparkles" aria-hidden="true"></i>
      Contact Web Developer
    </a>
  </p>
</div>
        
        <div>
          <h4>Social</h4>
          <p><a href="https://www.instagram.com/byzinthehood" target="_blank" rel="noopener">Instagram</a></p>
          <p><a href="https://www.tiktok.com/@byzinthehood" target="_blank" rel="noopener">TikTok</a></p>
          <p><a href="https://www.youtube.com/@byzinthehood" target="_blank" rel="noopener">YouTube</a></p>
          <p><a href="https://wa.me/255768464367" target="_blank" rel="noopener">WhatsApp</a></p>
        </div>
      </div>

      <div class="footer-mini">
        © 2026 BYZ. All rights reserved. 
      </div>
    </div>
  </footer>
  <!-- Developer Contact Modal -->
<div id="devModalBackdrop" class="byz-modal-backdrop byz-hidden" aria-hidden="true">
  <div class="byz-modal" role="dialog" aria-modal="true" aria-labelledby="devModalTitle">
    <div class="byz-modal-head">
      <div>
        <div id="devModalTitle" class="byz-modal-title">Contact Website Developer</div>
        <div class="byz-modal-sub">Website Updates & Support</div>
      </div>
      <button class="byz-modal-x" id="devModalCloseBtn" type="button" aria-label="Close">
        <i class="fa-solid fa-xmark"></i>
      </button>
    </div>

    <div class="byz-modal-body">
      <div class="byz-modal-row">
        <div class="k">Developer</div>
        <div class="v">Karen-Marie Kasigila </div>
      </div>

      <div class="byz-modal-actions">
  <a class="byz-modal-btn primary"
     href="mailto:Karen_Marie1@icloud.com?subject=BYZ%20Website%20&body=Hi%20Karen%20!"
     id="devEmailBtn">
    <i class="fa-solid fa-envelope"></i> Email
    <i class="fa-solid fa-copy" style="font-size:10px; margin-left:4px;"></i>
  </a>

  <a class="byz-modal-btn wa"
     href="https://wa.me/12698613487"
     target="_blank" rel="noopener" aria-label="WhatsApp Karen">
    <i class="fa-brands fa-whatsapp"></i> WhatsApp
  </a>

        <a class="byz-modal-btn li"
   href="https://www.linkedin.com/in/karen-marie-kasigila-443b73242"
   target="_blank" rel="noopener" aria-label="LinkedIn Karen">
  <i class="fa-brands fa-linkedin-in"></i> LinkedIn
</a>

  <button class="byz-modal-btn" id="devModalCloseBtn2" type="button">Close</button>
</div>
      
    </div>
  </div>
</div>
  <!-- Tempo Schedule Modal -->
<div id="tempoScheduleModal" class="tempo-modal-backdrop byz-hidden" aria-hidden="true">
  <div class="tempo-modal" role="dialog" aria-modal="true" aria-labelledby="tempoScheduleTitle">
    <div class="tempo-modal-head">
      <div>
        <div id="tempoScheduleTitle" class="tempo-modal-title">Tempo Schedule</div>
        <div class="tempo-modal-sub">Red rings mark Tempo nights.</div>
      </div>
      <button class="tempo-modal-x" id="tempoScheduleClose" type="button" aria-label="Close">
        <i class="fa-solid fa-xmark"></i>
      </button>
    </div>

    <div class="tempo-modal-body">
      
      <div class="tempo-nav">
  <button class="tempo-nav-btn" id="tempoPrev" type="button" aria-label="Previous month">‹</button>
  <div class="tempo-month" id="tempoMonthLabel">Month</div>
  <button class="tempo-nav-btn" id="tempoNext" type="button" aria-label="Next month">›</button>
</div>

<div class="tempo-calendar">
  <div class="tempo-grid" id="tempoCalendarGrid"></div>
</div>

    </div>
  </div>
</div>
<!-- Booking Picker Modal -->
<div id="bookingPickerBackdrop" class="byz-modal-backdrop byz-hidden" aria-hidden="true">
  <div class="byz-modal" role="dialog" aria-modal="true" aria-labelledby="bookingPickerTitle">
    <div class="byz-modal-head">
      <div>
        <div id="bookingPickerTitle" class="byz-modal-title">Choose Your Experience</div>
        <div class="byz-modal-sub">Pick the event you want to book.</div>
      </div>
      <button class="byz-modal-x" id="bookingPickerClose" type="button" aria-label="Close">
        <i class="fa-solid fa-xmark"></i>
      </button>
    </div>

    <div class="byz-modal-body">
      <div class="byz-modal-row">
        <div class="k">
          <i class="fa-solid fa-music" style="margin-right:6px;"></i> Groove Series
        </div>
        <div class="byz-modal-actions" style="margin-top:8px;">
          <a class="byz-modal-btn" href="booking.html?type=rnb">
            <i class="fa-solid fa-circle" style="font-size:8px;"></i> RnB Groove
          </a>
          <a class="byz-modal-btn" href="booking.html?type=afrobeats">
            <i class="fa-solid fa-circle" style="font-size:8px;"></i> Afrobeats Groove
          </a>
          <a class="byz-modal-btn" href="booking.html?type=caribbean">
            <i class="fa-solid fa-circle" style="font-size:8px;"></i> Caribbean Groove
          </a>
        </div>
      </div>

      <div class="byz-modal-row">
        <div class="k">
          <i class="fa-solid fa-calendar-star" style="margin-right:6px;"></i> Tempo
        </div>
        <div class="byz-modal-actions" style="margin-top:8px;">
          <a class="byz-modal-btn" href="booking-tempo.html">
            <i class="fa-solid fa-ticket"></i> Book Tempo
          </a>
          <button class="byz-modal-btn" onclick="shareEvent('Tempo', 'Seasonal events with evolving themes', window.location.href + '#events'); event.stopPropagation();" type="button">
            <i class="fa-solid fa-share-nodes"></i> Share
          </button>
          <button class="byz-modal-btn" onclick="generateQRCode(window.location.href + '#events'); event.stopPropagation();" type="button">
            <i class="fa-solid fa-qrcode"></i> QR Code
          </button>
        </div>
      </div>

      <div class="byz-modal-row">
        <div class="k">
          <i class="fa-solid fa-key" style="margin-right:6px;"></i> APT Session (Invite‑Only)
        </div>
        <div class="byz-modal-actions" style="margin-top:8px;">
          <a class="byz-modal-btn" href="apt-request.html">
            <i class="fa-solid fa-envelope"></i> Request Invite
          </a>
          <button class="byz-modal-btn" onclick="shareEvent('APT Session', 'Invite-only apartment sessions', window.location.href + '#events'); event.stopPropagation();" type="button">
            <i class="fa-solid fa-share-nodes"></i> Share
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

  <!-- Artist Contact Selection Modals -->
  <!-- WhatsApp Modal -->
  <div id="artistWhatsAppModal" class="byz-modal-backdrop byz-hidden" aria-hidden="true">
    <div class="byz-modal" role="dialog" aria-modal="true" aria-labelledby="waModalTitle">
      <div class="byz-modal-head">
        <div>
          <div id="waModalTitle" class="byz-modal-title">Contact via WhatsApp</div>
          <div class="byz-modal-sub" id="waModalSub">Choose a contact number</div>
        </div>
        <button class="byz-modal-x" onclick="closeContactModal()" type="button" aria-label="Close">
          <i class="fa-solid fa-xmark"></i>
        </button>
      </div>
      <div class="byz-modal-body">
        <div id="waModalContent"></div>
      </div>
    </div>
  </div>

  <!-- Email Modal -->
  <div id="artistEmailModal" class="byz-modal-backdrop byz-hidden" aria-hidden="true">
    <div class="byz-modal" role="dialog" aria-modal="true" aria-labelledby="emailModalTitle">
      <div class="byz-modal-head">
        <div>
          <div id="emailModalTitle" class="byz-modal-title">Contact via Email</div>
          <div class="byz-modal-sub" id="emailModalSub">Choose an email address</div>
        </div>
        <button class="byz-modal-x" onclick="closeContactModal()" type="button" aria-label="Close">
          <i class="fa-solid fa-xmark"></i>
        </button>
      </div>
      <div class="byz-modal-body">
        <div id="emailModalContent"></div>
      </div>
    </div>
  </div>

  <!-- Spotify Embed Modal (Apuki) -->
  <div id="spotifyModal" class="byz-modal-backdrop byz-hidden" aria-hidden="true">
    <div class="byz-modal spotify-modal" role="dialog" aria-modal="true" aria-labelledby="spotifyModalTitle">
      <div class="byz-modal-head">
        <div>
          <div id="spotifyModalTitle" class="byz-modal-title">Apuki on Spotify</div>
          <div class="byz-modal-sub">Listen to Apuki's music and productions</div>
        </div>
        <button class="byz-modal-x" onclick="closeSpotifyModal()" type="button" aria-label="Close">
          <i class="fa-solid fa-xmark"></i>
        </button>
      </div>
      <div class="byz-modal-body spotify-body">
        <div class="spotify-player-wrapper">
          <iframe 
            data-testid="embed-iframe" 
            style="border-radius:12px; width:100%; min-height:352px;" 
            src="https://open.spotify.com/embed/artist/3ZErvkG8aAZfFgxRPMrSwr?utm_source=generator" 
            frameBorder="0" 
            allowfullscreen="" 
            allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" 
            loading="lazy">
          </iframe>
        </div>
        <div style="margin-top:16px; display:flex; gap:10px; flex-wrap:wrap;">
          <a href="https://open.spotify.com/artist/3ZErvkG8aAZfFgxRPMrSwr?si=QGZvCh9DQtSde5XpcFw3NQ" target="_blank" rel="noopener" class="btn primary" style="text-decoration:none;">
            <i class="fa-brands fa-spotify"></i> Open in Spotify
          </a>
        </div>
      </div>
    </div>
  </div>

  <!-- Venues Modal (DJ Sammy) -->
  <div id="venuesModal" class="byz-modal-backdrop byz-hidden" aria-hidden="true">
    <div class="byz-modal" role="dialog" aria-modal="true" aria-labelledby="venuesModalTitle">
      <div class="byz-modal-head">
        <div>
          <div id="venuesModalTitle" class="byz-modal-title">DJ Sammy - Featured Venues</div>
          <div class="byz-modal-sub">Venues where DJ Sammy has performed</div>
        </div>
        <button class="byz-modal-x" onclick="closeVenuesModal()" type="button" aria-label="Close">
          <i class="fa-solid fa-xmark"></i>
        </button>
      </div>
      <div class="byz-modal-body">
        <div class="venues-list">
          <div class="venue-item">
            <div class="venue-name">
              <i class="fa-solid fa-location-dot" style="margin-right:8px; color:var(--accent);"></i> Uncle's Lounge
            </div>
          </div>
          <div class="venue-item">
            <div class="venue-name">
              <i class="fa-solid fa-location-dot" style="margin-right:8px; color:var(--accent);"></i> Tips Coco
            </div>
          </div>
          <div class="venue-item">
            <div class="venue-name">
              <i class="fa-solid fa-location-dot" style="margin-right:8px; color:var(--accent);"></i> Squishy Life
            </div>
          </div>
          <div class="venue-item">
            <div class="venue-name">
              <i class="fa-solid fa-location-dot" style="margin-right:8px; color:var(--accent);"></i> iRoc Networks
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

<!-- Booking Picker Modal -->
  
</main>

<script>
/* =========================================================
   DARK MODE PERMANENT (NO TOGGLE)
========================================================= */
(function() {
  // Set dark mode permanently
  document.documentElement.setAttribute("data-theme", "dark");
  // Remove any stored theme preference
  localStorage.removeItem("theme");
})();

/* =========================================================
   MOBILE MENU
========================================================= */
(function(){
  const btn = document.getElementById("mobileBtn");
  const panel = document.getElementById("mobilePanel");
  if (!btn || !panel) return;

  btn.addEventListener("click", () => panel.classList.toggle("open"));
  panel.querySelectorAll("a").forEach(a => {
    a.addEventListener("click", () => panel.classList.remove("open"));
  });

  document.addEventListener("click", (e) => {
    if (!panel.classList.contains("open")) return;
    const isInside = panel.contains(e.target) || btn.contains(e.target);
    if (!isInside) panel.classList.remove("open");
  });
})();

/* =========================================================
   APPLE SCROLL STORYTELLING (REVEAL + STAGGER)
========================================================= */
(function(){
  const observer = new IntersectionObserver((entries)=>{
    entries.forEach(entry=>{
      if(entry.isIntersecting){
        entry.target.classList.add("visible");
        // if it's a stagger container, mark it too
        if(entry.target.classList.contains("stagger")){
          entry.target.classList.add("visible");
        }
      }
    });
  }, { threshold: 0.16 });

  document.querySelectorAll(".reveal, .stagger").forEach(el => observer.observe(el));
})();

/* =========================================================
   YOUTUBE SECTION:
   - Random video on load (auto-plays)
   - Auto-scrolling horizontal row (infinite loop)
   - Pauses on user interaction, resumes after delay
   - Auto-play previews on thumbnails
========================================================= */
(function(){
  const featured = document.getElementById("featuredPlayer");
  const title = document.getElementById("featuredTitle");
  const desc = document.getElementById("featuredDesc");
  const videoList = document.querySelector(".video-list");
  
  if (!featured || !videoList) return;

  const thumbs = Array.from(document.querySelectorAll(".thumb"));
  if (thumbs.length === 0) return;

  // ===== RANDOM VIDEO ON LOAD =====
  function setRandomFeatured() {
    const randomThumb = thumbs[Math.floor(Math.random() * thumbs.length)];
    const id = randomThumb.getAttribute("data-id");
    const t = randomThumb.getAttribute("data-title") || "BYZ Video";
    const d = randomThumb.getAttribute("data-desc") || "Watch the latest BYZ content.";

    // Add autoplay to URL
    featured.src = "https://www.youtube.com/embed/" + id + "?autoplay=1&mute=1";
    if (title) title.textContent = t;
    if (desc) desc.textContent = d;

    // Mark as active
    thumbs.forEach(t => t.classList.remove("active"));
    randomThumb.classList.add("active");
  }

  // Set random video on load
  setRandomFeatured();

  // ===== CLICK THUMBNAIL TO SWAP VIDEO =====
  thumbs.forEach(item => {
    item.addEventListener("click", () => {
      const id = item.getAttribute("data-id");
      const t = item.getAttribute("data-title") || "BYZ Video";
      const d = item.getAttribute("data-desc") || "Watch the latest BYZ content.";

      // Smooth fade transition
      featured.style.opacity = "0";
      setTimeout(() => {
        featured.src = "https://www.youtube.com/embed/" + id + "?autoplay=1&mute=1";
        if (title) title.textContent = t;
        if (desc) desc.textContent = d;
        featured.style.opacity = "1";
      }, 200);

      // Update active state
      thumbs.forEach(t => t.classList.remove("active"));
      item.classList.add("active");
    });
  });

  // ===== AUTO-SCROLL WITH INFINITE LOOP =====
  let autoScrollInterval = null;
  let isUserInteracting = false;
  let resumeTimeout = null;
  const SCROLL_SPEED = 0.5; // pixels per frame (slower = smoother)
  const RESUME_DELAY = 2000; // 2 seconds

    // Clone videos for infinite loop
  function setupInfiniteLoop() {
    const originalThumbs = Array.from(videoList.querySelectorAll(".thumb"));
    if (originalThumbs.length === 0) return;

    // Mark original thumbs (so we can identify them later)
    originalThumbs.forEach((thumb, index) => {
      thumb.setAttribute("data-original-index", index);
    });

    // Clone all thumbs and append
    originalThumbs.forEach(thumb => {
      const clone = thumb.cloneNode(true);
      clone.setAttribute("aria-hidden", "true");
      videoList.appendChild(clone);
    });

    // Clone again at the start for backward scrolling
    originalThumbs.forEach(thumb => {
      const clone = thumb.cloneNode(true);
      clone.setAttribute("aria-hidden", "true");
      videoList.insertBefore(clone, videoList.firstChild);
    });

    // Set initial scroll position to start of real content
    setTimeout(() => {
      const firstReal = videoList.querySelector(".thumb[data-original-index]");
      if (firstReal) {
        const containerLeft = videoList.getBoundingClientRect().left;
        const firstRealLeft = firstReal.getBoundingClientRect().left;
        videoList.scrollLeft = firstReal.offsetLeft - videoList.offsetLeft;
        // Update ignore time to prevent scroll event from pausing
        ignoreScrollUntil = Date.now() + 400;
      }
    }, 200);
  }

  // Auto-scroll function
  function startAutoScroll() {
    if (autoScrollInterval) return;

    autoScrollInterval = setInterval(() => {
      if (isUserInteracting) return;

      const scrollLeft = videoList.scrollLeft;
      const scrollWidth = videoList.scrollWidth;
      const clientWidth = videoList.clientWidth;
      const realContentWidth = scrollWidth / 3; // Since we have 3 sets (original + 2 clones)

      // If scrolled past end, jump to start of real content
      if (scrollLeft >= realContentWidth * 2 - clientWidth) {
        videoList.scrollLeft = scrollLeft - realContentWidth;
      }
      // If scrolled before start, jump to end of real content
      else if (scrollLeft <= 0) {
        videoList.scrollLeft = scrollLeft + realContentWidth;
      }
      // Otherwise, continue scrolling
      else {
        videoList.scrollLeft += SCROLL_SPEED;
      }
    }, 16); // ~60fps
  }

  // Pause auto-scroll
  function pauseAutoScroll() {
    if (autoScrollInterval) {
      clearInterval(autoScrollInterval);
      autoScrollInterval = null;
    }
  }

  // Resume auto-scroll after delay
  function scheduleResume() {
    if (resumeTimeout) clearTimeout(resumeTimeout);
    
    resumeTimeout = setTimeout(() => {
      isUserInteracting = false;
      startAutoScroll();
    }, RESUME_DELAY);
  }

  // Detect user interaction
  let isScrolling = false;
  videoList.addEventListener("touchstart", () => {
    isUserInteracting = true;
    pauseAutoScroll();
  });

  videoList.addEventListener("touchmove", () => {
    isUserInteracting = true;
    pauseAutoScroll();
  });

  videoList.addEventListener("touchend", () => {
    scheduleResume();
  });

  videoList.addEventListener("mousedown", () => {
    isUserInteracting = true;
    pauseAutoScroll();
  });

  videoList.addEventListener("mousemove", (e) => {
    if (e.buttons === 1) { // Only if mouse is pressed
      isUserInteracting = true;
      pauseAutoScroll();
    }
  });

  videoList.addEventListener("mouseup", () => {
    scheduleResume();
  });
  // Flag to ignore initial scroll events (from setup)
  let isInitializing = true;
  let ignoreScrollUntil = Date.now() + 500; // Ignore scrolls for 500ms after init

  videoList.addEventListener("scroll", () => {
    // Ignore scroll events during initialization
    if (Date.now() < ignoreScrollUntil) return;
    
    if (!isScrolling) {
      isUserInteracting = true;
      pauseAutoScroll();
      isScrolling = true;
    }
    
    clearTimeout(resumeTimeout);
    resumeTimeout = setTimeout(() => {
      isScrolling = false;
      scheduleResume();
    }, 150);
  });

  // Pause when tab is hidden
  document.addEventListener("visibilitychange", () => {
    if (document.hidden) {
      pauseAutoScroll();
    } else {
      if (!isUserInteracting) {
        startAutoScroll();
      }
    }
  });

    // Respect reduced motion preference
  const prefersReducedMotion = window.matchMedia("(prefers-reduced-motion: reduce)").matches;
  if (!prefersReducedMotion) {
    setupInfiniteLoop();
    // Delay auto-scroll start to ensure setup is complete
    setTimeout(() => {
      isInitializing = false;
      ignoreScrollUntil = Date.now() + 300;
      startAutoScroll();
    }, 600);
  }

  // ===== AUTO-PLAY PREVIEWS ON THUMBNAILS =====
  let currentPreview = null;
  const previewObserver = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting && entry.intersectionRatio > 0.5) {
        // Only play one preview at a time
        if (currentPreview && currentPreview !== entry.target) {
          const prevIframe = currentPreview.querySelector("iframe");
          if (prevIframe) {
            prevIframe.src = prevIframe.src.replace("&autoplay=1", "");
          }
        }

        const thumb = entry.target;
        const thumbImg = thumb.querySelector(".thumb-img");
        const dataId = thumb.getAttribute("data-id");
        
        if (dataId && thumbImg && !thumb.querySelector("iframe")) {
          // Create preview iframe
          const previewIframe = document.createElement("iframe");
          previewIframe.src = `https://www.youtube.com/embed/${dataId}?autoplay=1&mute=1&loop=1&playlist=${dataId}&controls=0&modestbranding=1&rel=0&start=1`;
          previewIframe.style.cssText = "position:absolute;inset:0;width:100%;height:100%;border:0;opacity:0;transition:opacity 0.3s;pointer-events:none;";
          previewIframe.allow = "autoplay; encrypted-media";
          
          thumbImg.style.position = "relative";
          thumbImg.appendChild(previewIframe);
          
          setTimeout(() => {
            previewIframe.style.opacity = "0.3"; // Subtle preview
          }, 100);
          
          currentPreview = thumb;
        }
      } else {
        // Pause preview when not visible
        const iframe = entry.target.querySelector("iframe");
        if (iframe) {
          iframe.src = iframe.src.replace("&autoplay=1", "");
        }
        if (currentPreview === entry.target) {
          currentPreview = null;
        }
      }
    });
  }, {
    threshold: [0, 0.5, 1],
    rootMargin: "0px"
  });

  // Observe all thumbs for auto-play previews
  thumbs.forEach(thumb => {
    previewObserver.observe(thumb);
  });
})();

/* =========================================================
   TEAM ROTATOR (GROUP PHOTO FIXED + DETAILS ROTATE)
========================================================= */
(function(){
  const pillEl = document.getElementById("teamPill");
  const roleEl = document.getElementById("teamRole");
  const handleEl = document.getElementById("teamHandle");

  if(!pillEl || !roleEl || !handleEl) return;

    const TEAM = [
    { name:"Frank", role:"Founder & CEO", ig:"@jrmgoyo", url:"https://www.instagram.com/jrmgoyo" },
    { name:"Sameera", role:"Brand Partnerships & Creative Lead", ig:"@sams__cam", url:"https://www.instagram.com/sams__cam" },
    { name:"Edson", role:"Finance & Payments Lead", ig:"@edsont.11", url:"https://www.instagram.com/edsont.11" },
    { name:"Tuari", role:"Logistics & Venue Management", ig:"@tuariotk", url:"https://www.instagram.com/tuariotk" },
    { name:"Abd", role:"Operations & Event Coordination", ig:"@abd.raww", url:"https://www.instagram.com/abd.raww?igsh=N3d3c2VyYnhzMnNu" }
  ];
  let idx = 0;

  function set(i){
    idx = i;
    const t = TEAM[idx];

    // Update pill content
    roleEl.textContent = t.role;
    handleEl.textContent = t.ig;
    
    // Update pill link to personal Instagram
    pillEl.href = t.url;
    pillEl.setAttribute("aria-label", `Visit ${t.name}'s Instagram`);
  }

  // Initial
  set(0);

  // Rotate every 3 seconds with smooth fade
  setInterval(() => {
    // Fade out
    pillEl.style.opacity = "0";
    
    setTimeout(() => {
      set((idx + 1) % TEAM.length);
      // Fade in
      pillEl.style.opacity = "1";
    }, 300);
  }, 3000);
})();
/* =========================================================
   COUNTDOWN TIMER
   - Set your next event date/time here
   - Example: event in 5 days -> update the ISO string
========================================================= */
(function(){
  // ✅ CHANGE THIS to your next event datetime (Dar time or your preferred time).
  // Example set: 5 days from now at 8:00 PM
  const nextEventISO = "2026-01-09T21:00:00+03:00";


  const target = new Date(nextEventISO).getTime();
  const elD = document.getElementById("cdDays");
  const elH = document.getElementById("cdHours");
  const elM = document.getElementById("cdMins");
  const elS = document.getElementById("cdSecs");

  function pad(n){ return String(n).padStart(2,"0"); }

  function tick(){
    const now = Date.now();
    let diff = Math.max(0, target - now);

    const days = Math.floor(diff / (1000*60*60*24));
    diff -= days * (1000*60*60*24);
    const hours = Math.floor(diff / (1000*60*60));
    diff -= hours * (1000*60*60);
    const mins = Math.floor(diff / (1000*60));
    diff -= mins * (1000*60);
    const secs = Math.floor(diff / 1000);

    if (elD) elD.textContent = pad(days);
    if (elH) elH.textContent = pad(hours);
    if (elM) elM.textContent = pad(mins);
    if (elS) elS.textContent = pad(secs);
  }

    tick();
  setInterval(tick, 1000);
})();

/* =========================================================
   MEMORY GALLERY V2
   - Starts collapsed on mobile
   - Pinterest boards per album
   - Only loads photos AFTER user opens an album (fast scrolling)
   - No filenames shown
   - Keeps: select mode, bulk download, lightbox nav, toast
========================================================= */
(() => {
  // if files names different change ONLY these two lines:
  const BASE = {
  groove: "groove-memory-gallery/",
  tempo:  "tempo-memory-gallery/",
};

  // ✅ Your real albums + filenames (no renaming needed)
  const PHOTOS = {
    groove: {
      "december-26-2025": [
        "FYRM0007.jpg","FYRM0021.jpg","FYRM0056.jpg","FYRM0071.jpg","FYRM0079.jpg","FYRM0084.jpg",
        "FYRM0091.jpg","FYRM0135.jpg","FYRM0174.jpg","FYRM0240.jpg","FYRM0253.jpg","FYRM0292.jpg",
        "FYRM9580.jpg","FYRM9599.jpg","FYRM9622.jpg","FYRM9658.jpg","FYRM9683.jpg","FYRM9686.jpg",
        "FYRM9693.jpg","FYRM9717.jpg","FYRM9772.jpg","FYRM9855.jpg","FYRM9909.jpg","FYRM9957.jpg",
        "FYRM9994.jpg"
      ],
      "december-6-2025": [
        "FYRM8087.jpg","FYRM8089.jpg","FYRM8095.jpg","FYRM8101.jpg","FYRM8107.jpg","FYRM8140.jpg",
        "FYRM8143.jpg","FYRM8182.jpg","FYRM8211.jpg","FYRM8230.jpg","FYRM8266.jpg","FYRM8320.jpg",
        "FYRM8356.jpg","FYRM8366.jpg","FYRM8395.jpg","FYRM8413.jpg","FYRM8466.jpg","FYRM8506.jpg"
      ],
      "may-24-2025": [
        "692A0026.jpg","692A0037.jpg","692A0048.jpg","692A0461.jpg","692A0512.jpg","692A0560.jpg",
        "692A9142.jpg","692A9161.jpg","692A9194.jpg","692A9209.jpg","692A9272.jpg","692A9372.jpg",
        "692A9920.jpg","692A9923.jpg","692A9958.jpg","692A9971.jpg","692A9996.jpg",
        "FYRM1284.jpg","FYRM1318.jpg"
      ]
    },
    tempo: {
      "april-4-2025": ["692A0582.jpg","692A0817.jpg","692A1059.jpg"],
      "july-11-2025": [
        "FYRM0874.jpg","FYRM0884.jpg","FYRM0903.jpg","FYRM0940.jpg","FYRM0998.jpg","FYRM1023.jpg",
        "FYRM1051.jpg","FYRM1054.jpg","FYRM1131.jpg","FYRM1153.jpg","FYRM1221.jpg","FYRM1227.jpg"
      ],
      "june-27-2025": [
        "692A9382.jpg","692A9391.jpg","692A9396.jpg","692A9425.jpg","692A9454.jpg","692A9494.jpg",
        "692A9508.jpg","692A9522.jpg","692A9582.jpg","692A9614.jpg","692A9622.jpg","692A9632.jpg",
        "692A9660.jpg","692A9691.jpg","692A9755.jpg","692A9781.jpg","692A9805.jpg","692A9836.jpg",
        "692A9843.jpg","692A9856.jpg"
      ],
      "may-16-2025": [
        "692A9492.jpg","692A9516.jpg","692A9523.jpg","692A9570.jpg","692A9577.jpg","692A9591.jpg",
        "692A9592.jpg","692A9622.jpg","692A9627.jpg","692A9642.jpg","692A9663.jpg","692A9677.jpg",
        "692A9682.jpg","692A9690.jpg","692A9698.jpg"
      ],
      "may-30-2025": [
        "692A0187.jpg","692A0212.jpg","692A0236.jpg","692A0266.jpg","692A0308.jpg","692A0322.jpg",
        "692A0369.jpg","692A0383.jpg"
      ]
    }
  };

  // Elements
  const toggleBtn = document.getElementById("galleryToggleBtn");
  const toggleText = toggleBtn?.querySelector(".gt-text");
  const content = document.getElementById("galleryContent");

  const boardGrid = document.getElementById("boardGrid");
  const albumView = document.getElementById("albumView");
  const backBtn = document.getElementById("backToBoards");

  const masonry = document.getElementById("masonry");
  const eventTabs = document.querySelectorAll(".gallery-tabs .tab");

  const countEl = document.getElementById("photoCount");
  const albumCountEl = document.getElementById("albumCount");

  const sortEl = document.getElementById("gallerySort");
  const selectModeBtn = document.getElementById("selectModeBtn");

  const bulkbar = document.getElementById("bulkbar");
  const selectedCountEl = document.getElementById("selectedCount");
  const bulkClear = document.getElementById("bulkClear");
  const bulkCopy = document.getElementById("bulkCopy");
  const bulkDownload = document.getElementById("bulkDownload");

  const lightbox = document.getElementById("lightbox");
  const lbImg = document.getElementById("lbImg");
  const lbDownload = document.getElementById("lbDownload");
  const lbCopy = document.getElementById("lbCopy");
  const lbPrev = document.getElementById("lbPrev");
  const lbNext = document.getElementById("lbNext");
  const lbName = document.getElementById("lbName");

  const albumTitleEl = document.getElementById("albumTitle");
  const albumSubEl = document.getElementById("albumSub");

  const toast = document.getElementById("toast");

  // toggleBtn is optional (removed), but other elements are required
  if(!content || !boardGrid || !albumView || !masonry || !eventTabs.length) return;

  // State
  let currentEvent = "groove";
  let currentAlbum = null; // null = boards view
  let currentList = [];
  let currentAlbumLabel = "";
  let lightboxIndex = 0;

  let selectMode = false;
  const selected = new Set();

  const monthIndex = {
    january:0,february:1,march:2,april:3,may:4,june:5,july:6,august:7,september:8,october:9,november:10,december:11
  };
  const monthShort = ["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];

function formatAlbumDateShort(key){
  const [m, d, y] = key.split("-");
  const mi = monthIndex[m?.toLowerCase()];
  if(mi === undefined) return "—";
  return `${monthShort[mi]} ${Number(d)} ${y}`;
}

  function showToast(msg){
    if(!toast) return;
    toast.textContent = msg;
    toast.classList.add("show");
    toast.setAttribute("aria-hidden","false");
    setTimeout(() => {
      toast.classList.remove("show");
      toast.setAttribute("aria-hidden","true");
    }, 900);
  }

  function titleizeAlbum(key){
    const [m, d, y] = key.split("-");
    const month = m.charAt(0).toUpperCase() + m.slice(1);
    return `${month} ${Number(d)}, ${y}`;
  }

  function parseAlbumKey(key){
    const [m, d, y] = key.split("-");
    const mi = monthIndex[m.toLowerCase()];
    if(mi === undefined) return new Date(0);
    return new Date(Number(y), mi, Number(d));
  }

  function getAlbums(evt){
    const keys = Object.keys(PHOTOS[evt] || {});
    // ✅ always newest first
    keys.sort((a,b) => parseAlbumKey(b) - parseAlbumKey(a));
    return keys;
  }

  function countPhotos(evt){
    const albums = getAlbums(evt);
    return albums.reduce((sum,a)=> sum + ((PHOTOS[evt][a] || []).length), 0);
  }

  function updateMetaBoards(){
    const albums = getAlbums(currentEvent);
    albumCountEl.textContent = String(albums.length);
    countEl.textContent = String(countPhotos(currentEvent));
  }

  function updateMetaAlbum(total){
    // In album view: photoCount is album total, albumCount stays overall albums
    countEl.textContent = String(total);
  }

  function applySort(list){
    const mode = sortEl ? sortEl.value : "new";

    if(mode === "rand"){
      const a = [...list];
      for(let i=a.length-1;i>0;i--){
        const j = Math.floor(Math.random() * (i+1));
        [a[i], a[j]] = [a[j], a[i]];
      }
      return a;
    }
    if(mode === "old") return [...list].reverse();
    return list;
  }

  function updateBulkUI(){
    if(!bulkbar || !selectedCountEl) return;
    selectedCountEl.textContent = String(selected.size);
    bulkbar.setAttribute("aria-hidden", (!selectMode ? "true" : "false"));
  }

  function fullSrc(evt, albumKey, file){
    return `${(BASE[evt] || "")}${albumKey}/${file}`;
  }

  // ===== Boards view =====
  function pickBoardThumbs(evt, albumKey){
    const albums = getAlbums(evt);
    const pickFrom = (a) => (PHOTOS[evt][a] || []).slice(0, 3).map(f => fullSrc(evt, a, f));

    if(albumKey === "all"){
      // first 3 albums, grab a couple images from each
      const sources = [];
      albums.slice(0, 3).forEach(a => {
        (PHOTOS[evt][a] || []).slice(0, 2).forEach(f => sources.push(fullSrc(evt, a, f)));
      });
      return sources.slice(0, 3);
    }

    return pickFrom(albumKey);
  }
function initBoardPreviews(){
  const INTERVAL = 1000; // ✅ change every second

  // start only once per board
  function start(board){
    if(board.dataset.previewStarted === "1") return;

    const imgs = board.querySelectorAll(".board-preview .preview-img");
    if(imgs.length <= 1) return;

    board.dataset.previewStarted = "1";

    let i = 0;
    imgs[i].classList.add("active");

    setInterval(() => {
      imgs[i].classList.remove("active");
      i = (i + 1) % imgs.length;
      imgs[i].classList.add("active");
    }, INTERVAL);
  }

  // perf-friendly: only start when boards appear on screen
  const obs = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if(entry.isIntersecting){
        start(entry.target);
      }
    });
  }, { threshold: 0.15 });

  document.querySelectorAll("#gallery .board").forEach(b => obs.observe(b));
}

  function buildBoards(){
  currentAlbum = null;
  selectMode = false;
  selected.clear();
  updateBulkUI();

  albumView.classList.add("byz-hidden");
  albumView.setAttribute("aria-hidden","true");
  boardGrid.classList.remove("byz-hidden");
  boardGrid.setAttribute("aria-hidden","false");

  updateMetaBoards();

  const albums = getAlbums(currentEvent);
  const total = countPhotos(currentEvent);

  // “All photos” board first, then each album
  const boardItems = [
    { key:"all", title:"All Photos", count: total },
    ...albums.map(a => ({ key:a, title:titleizeAlbum(a), count:(PHOTOS[currentEvent][a] || []).length }))
  ];

  function pickPreviewSources(evt, albumKey){
  const albums = getAlbums(evt);

  // shuffle helper (Fisher–Yates)
  function shuffle(arr){
    const a = arr.slice();
    for(let i = a.length - 1; i > 0; i--){
      const j = Math.floor(Math.random() * (i + 1));
      [a[i], a[j]] = [a[j], a[i]];
    }
    return a;
  }

  // pick N items from an array (random), repeat if needed
  function pickN(arr, n){
    const shuffled = shuffle(arr);
    if(shuffled.length >= n) return shuffled.slice(0, n);

    const picks = shuffled.slice();
    while(picks.length < n && shuffled.length){
      picks.push(shuffled[picks.length % shuffled.length]);
    }
    return picks;
  }

  const N = 5;

  // "All Photos" album preview: pick 5 from ALL photos, then loop those 5
  if(albumKey === "all"){
    const all = [];
    albums.forEach(a => {
      (PHOTOS[evt][a] || []).forEach(f => {
        all.push(fullSrc(evt, a, f));
      });
    });
    return pickN(all, N);
  }

  // Normal album preview: pick 5 from THIS album, then loop those 5
  const sources = (PHOTOS[evt][albumKey] || []).map(f => fullSrc(evt, albumKey, f));
  return pickN(sources, N);
}

  const badgeSrc = currentEvent === "tempo"
  ? "assets/assets/events/tempo.JPG"
  : "assets/assets/events/groove.jpg";

boardGrid.innerHTML = boardItems.map(item => {
  const sources = pickPreviewSources(currentEvent, item.key);
  const imgs = sources.map((src, i) =>
  `<img src="${src}" loading="lazy" decoding="async" alt="" class="preview-img ${i === 0 ? "active" : ""}">`
).join("");


  const dateLabel = item.key === "all"
  ? "All Photos"
  : formatAlbumDateShort(item.key);

  return `
    <button class="board" type="button" data-album="${item.key}" aria-label="Open album ${item.title}">
      <div class="board-preview">
        ${imgs}
        <div class="board-info">${dateLabel} • ${item.count} <i class="fa-solid fa-image" aria-label="photos"></i></div>
        <img class="board-badge" src="${badgeSrc}" alt="" aria-hidden="true" loading="lazy">
      </div>
    </button>
  `;
}).join("");


  boardGrid.querySelectorAll(".board").forEach(btn => {
    btn.addEventListener("click", () => {
      const albumKey = btn.dataset.album;
      const event = currentEvent || 'groove';
      // Navigate to gallery.html with album parameter
      window.location.href = `gallery.html?event=${event}&album=${albumKey}`;
    });
  });

  // ✅ make previews "live"
  initBoardPreviews();
}

  // ===== Album view =====
  function flattenPhotos(evt, albumKey){
    const albums = getAlbums(evt);
    let files = [];

    if(albumKey === "all"){
      albums.forEach(a => {
        (PHOTOS[evt][a] || []).forEach(f => files.push({ album:a, file:f }));
      });
      currentAlbumLabel = `${evt.toUpperCase()} • All Photos`;
    } else {
      (PHOTOS[evt][albumKey] || []).forEach(f => files.push({ album: albumKey, file:f }));
      currentAlbumLabel = `${evt.toUpperCase()} • ${titleizeAlbum(albumKey)}`;
    }

    return files.map(x => ({
      src: fullSrc(evt, x.album, x.file),
      album: x.album
    }));
  }

  function renderAlbum(albumKey){
    selected.clear();
    updateBulkUI();

    const raw = flattenPhotos(currentEvent, albumKey);
    const sorted = applySort(raw);

    currentList = sorted.map(x => x.src);
    updateMetaAlbum(currentList.length);

    // Titles
    const title = (albumKey === "all") ? `${currentEvent.toUpperCase()} — All Photos` : `${currentEvent.toUpperCase()} — ${titleizeAlbum(albumKey)}`;
    const sub = `${currentList.length} photos`;

    if(albumTitleEl) albumTitleEl.textContent = title;
    if(albumSubEl) albumSubEl.textContent = sub;

    masonry.innerHTML = sorted.map((x, idx) => {
      const label = (albumKey === "all") ? titleizeAlbum(x.album) : titleizeAlbum(albumKey);
      // Load first 12 images eagerly to prevent black boxes on laptop
      const loadingAttr = idx < 12 ? "eager" : "lazy";
      return `
        <div class="pin ${selectMode ? "selectable":""}" data-src="${x.src}" data-label="${label}" tabindex="0" role="button" aria-label="Open photo preview">
          <div class="pin-check"><i class="fa-solid fa-check"></i></div>
          <img src="${x.src}" alt="${currentEvent} photo" loading="${loadingAttr}" decoding="async" />
          <div class="pin-overlay">
            <div class="pin-label">${label}</div>
            <a class="pin-download" href="${x.src}" download onclick="event.stopPropagation()">
              <i class="fa-solid fa-download"></i> Download
            </a>
          </div>
        </div>
      `;
    }).join("");
  }

  function openAlbum(albumKey){
    currentAlbum = albumKey;

    // Switch views
    boardGrid.classList.add("byz-hidden");
    boardGrid.setAttribute("aria-hidden","true");

    albumView.classList.remove("byz-hidden");
    albumView.setAttribute("aria-hidden","false");

    // Render (photos load now — not before)
    renderAlbum(albumKey);

    // Small UX: scroll gallery top into view
    document.getElementById("gallery")?.scrollIntoView({ behavior:"smooth", block:"start" });
    showToast("Album opened");
  }

  function backToBoards(){
    currentAlbum = null;
    selectMode = false;
    selected.clear();
    updateBulkUI();

    albumView.classList.add("byz-hidden");
    albumView.setAttribute("aria-hidden","true");

    boardGrid.classList.remove("byz-hidden");
    boardGrid.setAttribute("aria-hidden","false");

    masonry.innerHTML = "";
    updateMetaBoards();
    showToast("Back to albums");
  }

  // ===== Lightbox =====
  function openLightboxByIndex(i){
    lightboxIndex = Math.max(0, Math.min(i, currentList.length - 1));
    const src = currentList[lightboxIndex];
    if(!src) return;

    if(lbImg) lbImg.src = src;
    if(lbDownload) lbDownload.href = src;
    if(lbDownload) lbDownload.setAttribute("download", "");

    // ✅ No filenames: show album + index
    if(lbName){
      lbName.textContent = `${currentAlbumLabel} • ${lightboxIndex + 1}/${currentList.length}`;
    }

    lightbox.classList.add("show");
    lightbox.setAttribute("aria-hidden", "false");
    document.body.style.overflow = "hidden";
  }

  function closeLightbox(){
    lightbox.classList.remove("show");
    lightbox.setAttribute("aria-hidden", "true");
    if(lbImg) lbImg.src = "";
    document.body.style.overflow = "";
  }

  function next(){ openLightboxByIndex(lightboxIndex + 1); }
  function prev(){ openLightboxByIndex(lightboxIndex - 1); }

  // ===== Click behavior (pins) =====
  function bindMasonryEvents(){
    masonry.addEventListener("click", (e) => {
      const pin = e.target.closest(".pin");
      if(!pin) return;

      const src = pin.dataset.src;
      if(!src) return;

      if(selectMode){
        if(selected.has(src)){
          selected.delete(src);
          pin.classList.remove("selected");
          showToast("Removed");
        }else{
          selected.add(src);
          pin.classList.add("selected");
          showToast("Selected");
        }
        updateBulkUI();
        return;
      }

      const idx = currentList.indexOf(src);
      openLightboxByIndex(idx >= 0 ? idx : 0);
    });

    masonry.addEventListener("keydown", (e) => {
      if(e.key !== "Enter") return;
      const pin = e.target.closest(".pin");
      if(!pin) return;

      const src = pin.dataset.src;
      if(!src) return;

      if(selectMode){
        if(selected.has(src)){
          selected.delete(src);
          pin.classList.remove("selected");
          showToast("Removed");
        }else{
          selected.add(src);
          pin.classList.add("selected");
          showToast("Selected");
        }
        updateBulkUI();
        return;
      }

      const idx = currentList.indexOf(src);
      openLightboxByIndex(idx >= 0 ? idx : 0);
    });
  }

  // ===== Bulk actions =====
  if(bulkClear){
    bulkClear.addEventListener("click", () => {
      selected.clear();
      masonry.querySelectorAll(".pin.selected").forEach(p => p.classList.remove("selected"));
      updateBulkUI();
      showToast("Cleared");
    });
  }

  if(bulkCopy){
    bulkCopy.addEventListener("click", async () => {
      try{
        const text = Array.from(selected).join("\n");
        await navigator.clipboard.writeText(text);
        showToast("Copied links");
      }catch{
        showToast("Copy failed");
      }
    });
  }

  if(bulkDownload){
    bulkDownload.addEventListener("click", async () => {
      const items = Array.from(selected);
      if(!items.length){
        showToast("No photos selected");
        return;
      }

      showToast(`Downloading ${items.length}…`);

      for(let i=0;i<items.length;i++){
        const a = document.createElement("a");
        a.href = items[i];
        a.download = "";
        document.body.appendChild(a);
        a.click();
        a.remove();
        await new Promise(r => setTimeout(r, 250));
      }
    });
  }

  // Lightbox close + keys
  lightbox?.addEventListener("click", (e) => {
    if(e.target.matches("[data-lb-close]")) closeLightbox();
  });

  document.addEventListener("keydown", (e) => {
    if(lightbox?.classList.contains("show")){
      if(e.key === "Escape") closeLightbox();
      if(e.key === "ArrowRight") next();
      if(e.key === "ArrowLeft") prev();
    }
  });

  lbPrev?.addEventListener("click", prev);
  lbNext?.addEventListener("click", next);

  if(lbCopy){
    lbCopy.addEventListener("click", async () => {
      try{
        await navigator.clipboard.writeText(lbDownload.href);
        showToast("Copied link");
      }catch{
        showToast("Copy failed");
      }
    });
  }

  // ===== Tabs =====
  eventTabs.forEach(btn => {
    btn.addEventListener("click", () => {
      eventTabs.forEach(b => { b.classList.remove("active"); b.setAttribute("aria-selected","false"); });
      btn.classList.add("active");
      btn.setAttribute("aria-selected","true");

      currentEvent = btn.dataset.event;
      currentAlbum = null;
      buildBoards();
      showToast(`${currentEvent.toUpperCase()} albums`);
    });
  });

  // ===== Sort / Select =====
  if(sortEl){
    sortEl.addEventListener("change", () => {
      if(currentAlbum) renderAlbum(currentAlbum);
    });
  }

  if(selectModeBtn){
    selectModeBtn.addEventListener("click", () => {
      selectMode = !selectMode;
      selectModeBtn.setAttribute("aria-pressed", selectMode ? "true":"false");
      selected.clear();
      updateBulkUI();
      if(currentAlbum) renderAlbum(currentAlbum);
      showToast(selectMode ? "Select mode on" : "Select mode off");
    });
  }

  // Back
  backBtn?.addEventListener("click", backToBoards);

  // ===== Gallery initialization (always visible, no toggle) =====
  // Ensure gallery is visible
      content.classList.remove("byz-hidden");
      content.setAttribute("aria-hidden","false");

  // Build boards immediately (gallery is always visible now)
      if(!boardGrid.dataset.ready){
        buildBoards();
        boardGrid.dataset.ready = "1";
        bindMasonryEvents();
      }

  // Gallery is always visible now (no toggle functionality)
})();
  /* =========================================================
   FLOATING SOCIAL DOCK - PERMANENTLY OPEN (NO TOGGLE)
========================================================= */
(function(){
  // Remove collapsed class if present
  const dock = document.getElementById("socialDock");
  if(dock) {
    dock.classList.remove("collapsed", "closing");
  }
  
  // Remove toggle button event listeners if they exist
  const dockToggle = document.getElementById("socialDockToggle");
  if(dockToggle) {
    // Clone and replace to remove all event listeners
    const newToggle = dockToggle.cloneNode(true);
    dockToggle.parentNode.replaceChild(newToggle, dockToggle);
  }
})();

/* =========================================================
   DEV CONTACT MODAL (Footer "Contact Developer")
========================================================= */
(function(){
  const openLink = document.getElementById("devContactLink");
  const backdrop = document.getElementById("devModalBackdrop");
  const close1 = document.getElementById("devModalCloseBtn");
  const close2 = document.getElementById("devModalCloseBtn2");

  if(!openLink || !backdrop) return;

  function openModal(e){
    if(e) e.preventDefault();
    backdrop.classList.remove("byz-hidden");
    backdrop.setAttribute("aria-hidden","false");
    document.body.style.overflow = "hidden";
  }

  function closeModal(){
    backdrop.classList.add("byz-hidden");
    backdrop.setAttribute("aria-hidden","true");
    document.body.style.overflow = "";
  }

  openLink.addEventListener("click", openModal);
  if(close1) close1.addEventListener("click", closeModal);
  if(close2) close2.addEventListener("click", closeModal);

  backdrop.addEventListener("click", (e) => {
    if(e.target === backdrop) closeModal();
  });

  document.addEventListener("keydown", (e) => {
    if(e.key === "Escape" && !backdrop.classList.contains("byz-hidden")) closeModal();
  });
})();
/* =========================================================
   TEMPO SCHEDULE MODAL
========================================================= */
(function(){
  const openBtn = document.getElementById("tempoScheduleBtn");
  const modal = document.getElementById("tempoScheduleModal");
  const closeBtn = document.getElementById("tempoScheduleClose");

  const prevBtn = document.getElementById("tempoPrev");
  const nextBtn = document.getElementById("tempoNext");
  const monthLabel = document.getElementById("tempoMonthLabel");
  const grid = document.getElementById("tempoCalendarGrid");

  if(!openBtn || !modal || !grid || !monthLabel || !prevBtn || !nextBtn) return;

  // ✅ UPDATE THIS ARRAY with your Tempo event dates
  // Format: "YYYY-MM-DD" (e.g., "2026-05-07")
  // Add or remove dates as needed - calendar will automatically highlight them
  const TEMPO_DATES = [
    "2026-05-07",
    "2026-05-23",
    "2026-06-06",
    "2026-06-20",
    "2026-07-04",
    "2026-07-18",
    "2026-08-01",
    "2026-08-15",
    "2026-08-29"
  ];

  const MONTHS = ["January","February","March","April","May","June","July","August","September","October","November","December"];
  // ✅ UPDATE: Set starting month for calendar view (year, month-1, day)
  // Example: new Date(2026, 4, 1) = May 2026 (month is 0-indexed)
  let currentMonth = new Date(2026, 4, 1);

  function renderCalendar(){
    grid.innerHTML = "";

    const year = currentMonth.getFullYear();
    const month = currentMonth.getMonth();

    monthLabel.textContent = `${MONTHS[month]} ${year}`;

    const days = ["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];
    days.forEach(d => {
      const cell = document.createElement("div");
      cell.className = "tempo-day";
      cell.textContent = d;
      grid.appendChild(cell);
    });

    const firstDay = new Date(year, month, 1).getDay();
    const daysInMonth = new Date(year, month + 1, 0).getDate();

    for(let i = 0; i < firstDay; i++){
      const blank = document.createElement("div");
      blank.className = "tempo-blank";
      grid.appendChild(blank);
    }

    const today = new Date();
    const isCurrentMonth = today.getFullYear() === year && today.getMonth() === month;

    for(let d = 1; d <= daysInMonth; d++){
      const dateStr = `${year}-${String(month + 1).padStart(2,"0")}-${String(d).padStart(2,"0")}`;
      const cell = document.createElement("div");
      cell.className = "tempo-date";
      if(TEMPO_DATES.includes(dateStr)) cell.classList.add("event");
      if(isCurrentMonth && d === today.getDate()) cell.classList.add("today");
      cell.innerHTML = `<span>${d}</span>`;
      grid.appendChild(cell);
    }
  }

  function openModal(){
    renderCalendar();
    modal.classList.remove("byz-hidden");
    modal.setAttribute("aria-hidden","false");
    document.body.style.overflow = "hidden";
  }

  function closeModal(){
    modal.classList.add("byz-hidden");
    modal.setAttribute("aria-hidden","true");
    document.body.style.overflow = "";
  }

  prevBtn.addEventListener("click", () => {
    currentMonth = new Date(currentMonth.getFullYear(), currentMonth.getMonth() - 1, 1);
    renderCalendar();
  });

  nextBtn.addEventListener("click", () => {
    currentMonth = new Date(currentMonth.getFullYear(), currentMonth.getMonth() + 1, 1);
    renderCalendar();
  });

  openBtn.addEventListener("click", openModal);
  closeBtn.addEventListener("click", closeModal);

  modal.addEventListener("click", (e) => {
    if(e.target === modal) closeModal();
  });

  document.addEventListener("keydown", (e) => {
    if(e.key === "Escape" && !modal.classList.contains("byz-hidden")) closeModal();
  });
})();
/* =========================================================
   BOOKING PICKER MODAL
========================================================= */
(function(){
  const open1 = document.getElementById("openBookingPicker");
  const open2 = document.getElementById("openBookingPicker2");
  const backdrop = document.getElementById("bookingPickerBackdrop");
  const closeBtn = document.getElementById("bookingPickerClose");

  if(!backdrop) return;

  function openModal(){
    backdrop.classList.remove("byz-hidden");
    backdrop.setAttribute("aria-hidden","false");
    document.body.style.overflow = "hidden";
  }

  function closeModal(){
    backdrop.classList.add("byz-hidden");
    backdrop.setAttribute("aria-hidden","true");
    document.body.style.overflow = "";
  }

  if(open1) open1.addEventListener("click", openModal);
  if(open2) open2.addEventListener("click", openModal);
  if(closeBtn) closeBtn.addEventListener("click", closeModal);

  backdrop.addEventListener("click", (e) => {
    if(e.target === backdrop) closeModal();
  });

  document.addEventListener("keydown", (e) => {
    if(e.key === "Escape" && !backdrop.classList.contains("byz-hidden")) closeModal();
  });
})();
/* =========================================================
   ARTIST CONTACT MODAL SYSTEM
========================================================= */
const artistContacts = {
  sammy: {
    name: "DJ Sammy",
    whatsapp: [
      { number: "255755790033", label: "Frank (CEO of BYZ)", description: "Primary contact", type: "primary" },
      { number: "255768464367", label: "BYZ Business Number", description: "Official business line", type: "business" }
    ],
    email: [
      { address: "byzinthehoodz@gmail.com", label: "BYZ Business Email", description: "Official booking email", type: "business" }
    ]
  },
  apuki: {
    name: "Apuki",
    whatsapp: [
      { number: "255755790033", label: "Frank (CEO of BYZ)", description: "Primary contact", type: "primary" },
      { number: "255768464367", label: "BYZ Business Number", description: "Official business line", type: "business" },
      { number: "447350712051", label: "International Booking (Apuki)", description: "For international events", type: "international" },
      { number: "255679470194", label: "Tanzania/Africa Booking (Apuki)", description: "Local booking line", type: "local" },
      { number: "255656881144", label: "Tanzania/Africa Booking (Apuki)", description: "Alternative local line", type: "local" }
    ],
    email: [
      { address: "Apuki.Bookings@gmail.com", label: "Apuki Bookings Email", description: "Direct booking email", type: "primary" },
      { address: "byzinthehoodz@gmail.com", label: "BYZ Business Email", description: "Official business email", type: "business" }
    ]
  },
  renee: {
    name: "Renee",
    whatsapp: [
      { number: "255755790033", label: "Frank (CEO of BYZ)", description: "Primary contact", type: "primary" },
      { number: "255768464367", label: "BYZ Business Number", description: "Official business line", type: "business" }
    ],
    email: [
      { address: "byzinthehoodz@gmail.com", label: "BYZ Business Email", description: "Official booking email", type: "business" }
    ]
  }
};

function formatPhoneNumber(num) {
  const str = String(num);
  if (str.startsWith("255")) {
    return `+${str.slice(0, 3)} ${str.slice(3, 6)} ${str.slice(6, 9)} ${str.slice(9)}`;
  } else if (str.startsWith("44")) {
    return `+${str.slice(0, 2)} ${str.slice(2, 6)} ${str.slice(6)}`;
  }
  return `+${str}`;
}

function openContactModal(artistId, type) {
  const artist = artistContacts[artistId];
  if (!artist) return;

  const message = `Hi BYZ, I'm interested in booking ${artist.name} for an event. Could you please share availability and pricing?`;
  const emailBody = `Hi BYZ,\n\nI'm interested in booking ${artist.name} for an event.\n\nEvent Details:\n- Date: \n- Venue: \n- Event Type: \n- Expected Guests: \n- Duration: \n\nCould you please share availability and pricing?\n\nThank you!`;

  if (type === 'whatsapp') {
    const modal = document.getElementById('artistWhatsAppModal');
    const title = document.getElementById('waModalTitle');
    const sub = document.getElementById('waModalSub');
    const content = document.getElementById('waModalContent');

    title.textContent = `Contact ${artist.name} via WhatsApp`;
    sub.textContent = 'Choose a contact number';

    // Group Tanzania/Africa numbers together for Apuki
    let whatsappContacts = [];
    let tanzaniaNumbers = [];
    
    artist.whatsapp.forEach((contact) => {
      if (contact.type === 'local' && artistId === 'apuki') {
        tanzaniaNumbers.push(contact);
      } else {
        whatsappContacts.push(contact);
      }
    });

    // Add combined Tanzania option if we have multiple
    if (tanzaniaNumbers.length > 0) {
      whatsappContacts.push({
        number: tanzaniaNumbers.map(c => c.number).join(','),
        label: "Tanzania/Africa Booking (Apuki)",
        description: `${tanzaniaNumbers.length} local booking lines available`,
        type: "local",
        isCombined: true,
        numbers: tanzaniaNumbers
      });
    }

    let html = '';
    whatsappContacts.forEach((contact, index) => {
      const isBusiness = contact.type === 'business';
      
      // Handle combined Tanzania numbers
      if (contact.isCombined && contact.numbers) {
        html += `
          <div class="contact-option" style="margin-top: ${index === 0 ? '0' : '12px'};">
            <div class="contact-header">
              <div class="contact-label-row">
                <span class="contact-label">${contact.label}</span>
              </div>
              <div class="contact-description">${contact.description}</div>
            </div>
            <div class="combined-numbers">
              ${contact.numbers.map((num, i) => {
                const waUrl = `https://wa.me/${num.number}?text=${encodeURIComponent(message)}`;
                const formatted = formatPhoneNumber(num.number);
                return `
                  <a href="${waUrl}" target="_blank" rel="noopener" class="contact-button">
                    <i class="fa-brands fa-whatsapp"></i>
                    <span>${formatted}</span>
                  </a>
                `;
              }).join('')}
            </div>
          </div>
        `;
      } else {
        const waUrl = `https://wa.me/${contact.number}?text=${encodeURIComponent(message)}`;
        const formattedNumber = formatPhoneNumber(contact.number);
        
        html += `
          <div class="contact-option" style="margin-top: ${index === 0 ? '0' : '12px'};">
            <div class="contact-header">
              <div class="contact-label-row">
                <span class="contact-label">${contact.label}</span>
                ${isBusiness ? '<span class="contact-badge">Recommended</span>' : ''}
              </div>
              <div class="contact-description">${contact.description}</div>
            </div>
            <a href="${waUrl}" target="_blank" rel="noopener" class="contact-button ${isBusiness ? 'primary' : ''}">
              <i class="fa-brands fa-whatsapp"></i>
              <span>${formattedNumber}</span>
            </a>
          </div>
        `;
      }
    });

    content.innerHTML = html;
    modal.classList.remove('byz-hidden');
    modal.setAttribute('aria-hidden', 'false');
    document.body.style.overflow = 'hidden';
  } else if (type === 'email') {
    const modal = document.getElementById('artistEmailModal');
    const title = document.getElementById('emailModalTitle');
    const sub = document.getElementById('emailModalSub');
    const content = document.getElementById('emailModalContent');

    title.textContent = `Contact ${artist.name} via Email`;
    sub.textContent = 'Choose an email address';

    let html = '';
    artist.email.forEach((contact, index) => {
      const emailUrl = `mailto:${contact.address}?subject=Booking Inquiry - ${artist.name}&body=${encodeURIComponent(emailBody)}`;
      const isBusiness = contact.type === 'business';
      
      html += `
        <div class="contact-option" style="margin-top: ${index === 0 ? '0' : '12px'};">
          <div class="contact-header">
            <div class="contact-label-row">
              <span class="contact-label">${contact.label}</span>
              ${isBusiness ? '<span class="contact-badge">Recommended</span>' : ''}
            </div>
            <div class="contact-description">${contact.description}</div>
          </div>
          <a href="${emailUrl}" target="_blank" rel="noopener" class="contact-button ${isBusiness ? 'primary' : ''}">
            <i class="fa-solid fa-envelope"></i>
            <span>${contact.address}</span>
          </a>
        </div>
      `;
    });

    content.innerHTML = html;
    modal.classList.remove('byz-hidden');
    modal.setAttribute('aria-hidden', 'false');
    document.body.style.overflow = 'hidden';
  }
}

function closeContactModal() {
  const modals = ['artistWhatsAppModal', 'artistEmailModal'];
  modals.forEach(id => {
    const modal = document.getElementById(id);
    if (modal) {
      modal.classList.add('byz-hidden');
      modal.setAttribute('aria-hidden', 'true');
    }
  });
  document.body.style.overflow = '';
}

// Spotify Modal
function showSpotifyModal(artistId) {
  const modal = document.getElementById('spotifyModal');
  if (!modal) return;
  
  modal.classList.remove('byz-hidden');
  modal.setAttribute('aria-hidden', 'false');
  document.body.style.overflow = 'hidden';
}

function closeSpotifyModal() {
  const modal = document.getElementById('spotifyModal');
  if (!modal) return;
  
  modal.classList.add('byz-hidden');
  modal.setAttribute('aria-hidden', 'true');
  document.body.style.overflow = '';
}

// Venues Modal
function showVenuesModal(artistId) {
  const modal = document.getElementById('venuesModal');
  if (!modal) return;
  
  modal.classList.remove('byz-hidden');
  modal.setAttribute('aria-hidden', 'false');
  document.body.style.overflow = 'hidden';
}

function closeVenuesModal() {
  const modal = document.getElementById('venuesModal');
  if (!modal) return;
  
  modal.classList.add('byz-hidden');
  modal.setAttribute('aria-hidden', 'true');
  document.body.style.overflow = '';
}

// Close modals on backdrop click
document.addEventListener('click', (e) => {
  if (e.target.classList.contains('byz-modal-backdrop')) {
    closeContactModal();
    closeSpotifyModal();
    closeVenuesModal();
  }
});

// Close modals on Escape key
document.addEventListener('keydown', (e) => {
  if (e.key === 'Escape') {
    const modals = document.querySelectorAll('.byz-modal-backdrop:not(.byz-hidden)');
    if (modals.length > 0) {
      closeContactModal();
      closeSpotifyModal();
      closeVenuesModal();
    }
  }
});
  /* =========================================================
   ARTIST SECTION HORIZONTAL SCROLL ARROWS (MOBILE) - INFINITE LOOP
========================================================= */
(function() {
  const cardsContainer = document.getElementById('artistCardsContainer');
  const scrollLeftBtn = document.querySelector('.artist-scroll-left');
  const scrollRightBtn = document.querySelector('.artist-scroll-right');

  if (!cardsContainer || !scrollLeftBtn || !scrollRightBtn) return;

  // Only enable loop on mobile
  if (window.innerWidth > 560) return;

  const cards = Array.from(cardsContainer.querySelectorAll('.artist-card'));
  if (cards.length === 0) return;

  const cardWidth = cards[0].offsetWidth;
  const gap = 16;
  const scrollAmount = cardWidth + gap;

  // Clone cards for seamless loop
  cards.forEach(card => {
    const clone = card.cloneNode(true);
    clone.setAttribute('aria-hidden', 'true');
    cardsContainer.appendChild(clone);
  });

  // Clone again for smooth backward scrolling (insert at beginning)
  const clonedCardsStart = [];
  cards.forEach(card => {
    const clone = card.cloneNode(true);
    clone.setAttribute('aria-hidden', 'true');
    clonedCardsStart.push(clone);
  });
  clonedCardsStart.reverse().forEach(clone => {
    cardsContainer.insertBefore(clone, cardsContainer.firstChild);
  });

  let isScrolling = false;

  // Set initial scroll position to start of real content (after clones)
  setTimeout(() => {
    const realCards = cardsContainer.querySelectorAll('.artist-card:not([aria-hidden])');
    if (realCards.length > 0) {
      const firstRealCard = realCards[0];
      const containerWidth = cardsContainer.clientWidth;
      const cardWidth = firstRealCard.offsetWidth;
      // Center the first real card (accounting for 12px padding on left)
      const scrollLeft = firstRealCard.offsetLeft - (containerWidth / 2) + (cardWidth / 2) - 12;
      cardsContainer.scrollLeft = Math.max(0, scrollLeft);
    } else {
      // Fallback: scroll to start of real content area
      cardsContainer.scrollLeft = cards.length * scrollAmount;
    }
  }, 100);

  // Update button states
  function updateButtonStates() {
    // Always enabled for infinite scroll
    scrollLeftBtn.disabled = false;
    scrollRightBtn.disabled = false;
  }

  // Handle loop jumping
  cardsContainer.addEventListener('scroll', () => {
    if (isScrolling) return;
    
    const scrollLeft = cardsContainer.scrollLeft;
    const scrollWidth = cardsContainer.scrollWidth;
    const clientWidth = cardsContainer.clientWidth;
    const realCardsWidth = cards.length * scrollAmount;
    const cloneWidth = realCardsWidth; // Width of cloned cards at start

    // If scrolled past end (into clone area at the end), jump to beginning of real cards
    if (scrollLeft >= scrollWidth - clientWidth - scrollAmount) {
      isScrolling = true;
      cardsContainer.scrollLeft = scrollLeft - realCardsWidth;
      setTimeout(() => { isScrolling = false; }, 50);
      return;
    }
    
    // If scrolled into clone area at the start, jump to end of real cards
    // Check if we're in the cloned section at the beginning
    if (scrollLeft < cloneWidth) {
      isScrolling = true;
      // Jump to the corresponding position in the real cards (at the end)
      const offsetInClone = scrollLeft;
      cardsContainer.scrollLeft = (realCardsWidth * 2) + offsetInClone;
      setTimeout(() => { isScrolling = false; }, 50);
      return;
    }
  });

  // Scroll functions with seamless loop and proper centering
  function scrollToCard(direction) {
    if (isScrolling) return;
    isScrolling = true;
    
    const containerWidth = cardsContainer.clientWidth;
    const currentScroll = cardsContainer.scrollLeft;
    const scrollWidth = cardsContainer.scrollWidth;
    const realCardsWidth = cards.length * scrollAmount;
    const cloneWidth = realCardsWidth;
    
    // Get all cards (including clones)
    const allCards = Array.from(cardsContainer.querySelectorAll('.artist-card'));
    let targetCard = null;
    let targetScroll = 0;
    
    if (direction === 'right') {
      // Find the next card to center
      for (let i = 0; i < allCards.length; i++) {
        const card = allCards[i];
        const cardLeft = card.offsetLeft;
        const cardRight = cardLeft + card.offsetWidth;
        const visibleRight = currentScroll + containerWidth;
        
        // Find first card that's partially or fully visible on the right
        if (cardLeft < visibleRight && cardRight > visibleRight) {
          targetCard = card;
          targetScroll = cardLeft - (containerWidth / 2) + (card.offsetWidth / 2);
          break;
        }
      }
      
      // If no partially visible card, find next completely hidden card
      if (!targetCard) {
        for (let i = 0; i < allCards.length; i++) {
          const card = allCards[i];
          if (card.offsetLeft > currentScroll + containerWidth) {
            targetCard = card;
            targetScroll = card.offsetLeft - (containerWidth / 2) + (card.offsetWidth / 2);
            break;
          }
        }
      }
      
      // Handle loop: if we're at the end, jump to start
      if (currentScroll >= scrollWidth - containerWidth - scrollAmount) {
        const jumpPos = cloneWidth;
        cardsContainer.scrollLeft = jumpPos;
        setTimeout(() => {
          if (targetCard) {
            const newTargetScroll = targetCard.offsetLeft - (containerWidth / 2) + (targetCard.offsetWidth / 2);
            cardsContainer.scrollTo({ left: newTargetScroll, behavior: 'smooth' });
          }
          setTimeout(() => { isScrolling = false; }, 400);
        }, 50);
        return;
      }
    } else {
      // Left direction
      for (let i = allCards.length - 1; i >= 0; i--) {
        const card = allCards[i];
        const cardLeft = card.offsetLeft;
        const cardRight = cardLeft + card.offsetWidth;
        const visibleLeft = currentScroll;
        
        // Find first card that's partially visible on the left
        if (cardLeft < visibleLeft && cardRight > visibleLeft) {
          targetCard = card;
          targetScroll = cardLeft - (containerWidth / 2) + (card.offsetWidth / 2);
          break;
        }
      }
      
      // If no partially visible card, find previous card
      if (!targetCard) {
        for (let i = allCards.length - 1; i >= 0; i--) {
          const card = allCards[i];
          if (card.offsetLeft + card.offsetWidth < currentScroll) {
            targetCard = card;
            targetScroll = card.offsetLeft - (containerWidth / 2) + (card.offsetWidth / 2);
            break;
          }
        }
      }
      
      // Handle loop: if we're at the start, jump to end
      if (currentScroll < cloneWidth + scrollAmount) {
        const jumpPos = (realCardsWidth * 2);
        cardsContainer.scrollLeft = jumpPos;
        setTimeout(() => {
          if (targetCard) {
            const newTargetScroll = targetCard.offsetLeft - (containerWidth / 2) + (targetCard.offsetWidth / 2);
            cardsContainer.scrollTo({ left: newTargetScroll, behavior: 'smooth' });
          }
          setTimeout(() => { isScrolling = false; }, 400);
        }, 50);
        return;
      }
    }
    
    // Normal scroll with centering
    if (targetCard && targetScroll >= 0) {
      cardsContainer.scrollTo({ left: targetScroll, behavior: 'smooth' });
      setTimeout(() => { isScrolling = false; }, 400);
    } else {
      isScrolling = false;
    }
  }
  
  scrollLeftBtn.addEventListener('click', () => scrollToCard('left'));
  scrollRightBtn.addEventListener('click', () => scrollToCard('right'));

  // Initial button state
  updateButtonStates();

  // Update on window resize
  window.addEventListener('resize', () => {
    if (window.innerWidth > 560) return;
    updateButtonStates();
    });
})();
/* =========================================================
   DJ SECTION PREMIUM ACCORDION + AUTO LIVE INDICATOR
========================================================= */
(function() {
  const grooveTimeline = document.querySelector('.timeline[data-timeline="groove"]');
  const djSection = document.getElementById('dj');
  
  if (!djSection) return;

  /*Parse time string (e.g., "22:00" or "01:00") to minutes*/
  function timeToMinutes(timeStr) {
    const [hours, mins] = timeStr.split(':').map(Number);
    return hours * 60 + mins;
  }

  /*Check if current time is within slot range*/
  function isTimeInRange(currentMins, startMins, endMins) {
    /*Handle overnight slots (e.g., 23:30 - 01:00)*/
    if (endMins < startMins) {
      return currentMins >= startMins || currentMins < endMins;
    }
    return currentMins >= startMins && currentMins < endMins;
  }

  /*Update LIVE indicator based on current time*/
  function updateLiveIndicator() {
    if (!grooveTimeline) return;

    const now = new Date();
    const currentMins = now.getHours() * 60 + now.getMinutes();
    const slots = grooveTimeline.querySelectorAll('.slot[data-start][data-end]');
    
    let foundLive = false;

    slots.forEach((slot, index) => {
      const startStr = slot.getAttribute('data-start');
      const endStr = slot.getAttribute('data-end');
      
      if (!startStr || !endStr) return;

      const startMins = timeToMinutes(startStr);
      const endMins = timeToMinutes(endStr);
      
      /*Remove all classes*/
      slot.classList.remove('live-now', 'past', 'next-up');
      
      if (isTimeInRange(currentMins, startMins, endMins)) {
        /*Current slot is LIVE*/
        slot.classList.add('live-now');
        foundLive = true;
        
        /*Mark previous as past*/
        for (let i = 0; i < index; i++) {
          slots[i].classList.add('past');
          slots[i].classList.remove('next-up');
        }
        
        /*Mark next as next-up*/
        if (index + 1 < slots.length) {
          slots[index + 1].classList.add('next-up');
          slots[index + 1].classList.remove('past');
        }
      } else if (currentMins < startMins) {
        /*Future slot*/
        if (!foundLive && index === 0) {
          slot.classList.add('next-up');
        }
      } else {
        /*Past slot*/
        slot.classList.add('past');
      }
    });

    /*Update preview with live/next slot*/
    updatePreview();
  }

  /*Update preview slot (shown when collapsed)*/
  function updatePreview() {
    const preview = document.getElementById('groovePreview');
    const expectPreview = document.getElementById('expectPreview');
    
    if (!preview || !grooveTimeline) return;

    const liveSlot = grooveTimeline.querySelector('.slot.live-now');
    const nextSlot = grooveTimeline.querySelector('.slot.next-up');
    const targetSlot = liveSlot || nextSlot || grooveTimeline.querySelector('.slot:first-child');
    
    if (targetSlot) {
      const slotContent = targetSlot.querySelector('.slot-content').cloneNode(true);
      preview.innerHTML = '';
      const previewSlot = document.createElement('div');
      previewSlot.className = 'slot';
      previewSlot.appendChild(slotContent);
      preview.appendChild(previewSlot);
    }

    /*Update "What to Expect" preview*/
    if (expectPreview) {
      const expectTimeline = document.querySelector('.timeline-expect');
      if (expectTimeline) {
        const firstSlot = expectTimeline.querySelector('.slot:first-child');
        if (firstSlot) {
          const slotContent = firstSlot.querySelector('.slot-content').cloneNode(true);
          expectPreview.innerHTML = '';
          const expectPreviewSlot = document.createElement('div');
          expectPreviewSlot.className = 'slot';
          expectPreviewSlot.appendChild(slotContent);
          expectPreview.appendChild(expectPreviewSlot);
        }
      }
    }
  }

    /*FIXED: Accordion functionality - only set initial state, don't reset on resize*/
  let accordionInitialized = false;
  
  function initAccordion() {
    const isMobile = window.innerWidth <= 560;
    const headers = djSection.querySelectorAll('.dj-card-header');
    
    if (!headers.length) return;
    
    // Only set initial state once, don't reset on resize
    if (accordionInitialized) return;
    
    headers.forEach((header) => {
      if (isMobile) {
        /*Mobile: Start collapsed*/
        header.setAttribute('aria-expanded', 'false');
      } else {
        /*Desktop: Always expanded*/
        header.setAttribute('aria-expanded', 'true');
      }
    });
    
    accordionInitialized = true;
  }

      /*Use event delegation for click handlers - manual toggle expand/collapse*/
  djSection.addEventListener('click', function(e) {
    // Check if click is on header, hint icon, or collapse button
    const header = e.target.closest('.dj-card-header');
    const hintIcon = e.target.closest('.expand-hint-icon');
    const hintArea = e.target.closest('.dj-card-expand-hint');
    const collapseBtn = e.target.closest('.dj-card-collapse-btn');
    
    const isMobile = window.innerWidth <= 560;
    if (!isMobile) return; /*Only work on mobile*/
    
    // Find target header
    let targetHeader = header;
    if (!targetHeader && (hintIcon || hintArea)) {
      const card = (hintIcon || hintArea).closest('.dj-card-collapsible');
      if (card) {
        targetHeader = card.querySelector('.dj-card-header');
      }
    }
    if (!targetHeader && collapseBtn) {
      targetHeader = collapseBtn.closest('.dj-card-header');
    }
    
    if (!targetHeader) return;
    
            // Prevent event bubbling if clicking collapse button
    if (collapseBtn) {
      e.preventDefault();
      e.stopPropagation();
      targetHeader.setAttribute('aria-expanded', 'false');
      
      // Update icon to DOWN arrow when collapsing
      const card = targetHeader.closest('.dj-card-collapsible');
      if (card) {
        const hintIconEl = card.querySelector('.expand-hint-icon i');
        const hintText = card.querySelector('.expand-hint-text');
        
        if (hintIconEl) {
          hintIconEl.className = 'fa-solid fa-chevron-down';
          if (hintText) {
            hintText.textContent = hintText.getAttribute('data-collapsed') || 'Tap to see all times';
          }
        }
      }
      
      return;
    }
    
            // Toggle if clicking hint or header (allow both expand and collapse)
    if (hintIcon || hintArea || (header && !header.closest('.dj-card-collapse-btn'))) {
      e.preventDefault();
      e.stopPropagation();
      
      const isExpanded = targetHeader.getAttribute('aria-expanded') === 'true';
      const newState = !isExpanded; // New state after toggle
      
      // Toggle: expand if collapsed, collapse if expanded
      targetHeader.setAttribute('aria-expanded', newState);
      
      // Update icon immediately after toggle
      const card = targetHeader.closest('.dj-card-collapsible');
      if (card) {
        const hintIconEl = card.querySelector('.expand-hint-icon i');
        const hintText = card.querySelector('.expand-hint-text');
        
        if (hintIconEl) {
          if (newState) {
            // Now expanded - change to UP arrow
            hintIconEl.className = 'fa-solid fa-chevron-up';
            if (hintText) {
              hintText.textContent = hintText.getAttribute('data-expanded') || 'Tap to collapse';
            }
          } else {
            // Now collapsed - change to DOWN arrow
            hintIconEl.className = 'fa-solid fa-chevron-down';
            if (hintText) {
              hintText.textContent = hintText.getAttribute('data-collapsed') || 'Tap to see all times';
            }
          }
        }
      }
    }
  });
  
  /*Auto-preview animation (expand/collapse every 3 seconds if idle)*/
  let previewTimeout;
  let lastInteractionTime = Date.now();
  const PREVIEW_DELAY = 3000; /*3 seconds*/

    // Auto-preview removed - cards only expand on click

    /*Initialize when DOM is ready*/
  function initialize() {
    initAccordion();
    updateLiveIndicator();
    updatePreview();
    // startAutoPreview(); // REMOVED - no auto-expansion
  }
  
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initialize);
  } else {
    initialize();
  }

  /*Update every minute*/
  setInterval(updateLiveIndicator, 60000);

        /*Update on resize - don't reset accordion state*/
  window.addEventListener('resize', () => {
    // Only update live indicator, don't reset accordion state
    updateLiveIndicator();
    // startAutoPreview(); // REMOVED - no auto-expansion
  });
  
})();

/* =========================================================
   SWIPE-TO-DISMISS MODALS (MOBILE)
========================================================= */
(function() {
  const modals = document.querySelectorAll('.byz-modal-backdrop, .tempo-modal-backdrop');
  
  modals.forEach(backdrop => {
    let startY = 0;
    let currentY = 0;
    let isDragging = false;
    const modal = backdrop.querySelector('.byz-modal, .tempo-modal');
    
    if (!modal) return;
    
    // Only on mobile
    if (window.innerWidth > 640) return;
    
    backdrop.addEventListener('touchstart', (e) => {
      if (e.target === backdrop || e.target.closest('.byz-modal-head, .tempo-modal-head')) {
        startY = e.touches[0].clientY;
        isDragging = true;
      }
    }, { passive: true });
    
    backdrop.addEventListener('touchmove', (e) => {
      if (!isDragging) return;
      currentY = e.touches[0].clientY;
      const deltaY = currentY - startY;
      
      if (deltaY > 0) {
        modal.style.transform = `translateY(${deltaY}px)`;
        modal.style.opacity = Math.max(0.5, 1 - (deltaY / 300));
      }
    }, { passive: true });
    
    backdrop.addEventListener('touchend', () => {
      if (!isDragging) return;
      isDragging = false;
      
      const deltaY = currentY - startY;
      
      if (deltaY > 100) {
        // Swipe down to close
        const closeBtn = backdrop.querySelector('.byz-modal-x, .tempo-modal-x, [onclick*="close"]');
        if (closeBtn) closeBtn.click();
      } else {
        // Snap back
        modal.style.transform = '';
        modal.style.opacity = '';
      }
      
      startY = 0;
      currentY = 0;
    }, { passive: true });
  });
})();

/* =========================================================
   GEN Z ENHANCEMENTS - MICRO-ANIMATIONS & QUICK ACTIONS
========================================================= */
(function() {
  // Pulse effect for primary buttons
  const primaryButtons = document.querySelectorAll('.btn.primary, .byz-modal-btn.primary');
  primaryButtons.forEach(btn => {
    btn.addEventListener('mouseenter', () => {
      btn.style.animation = 'pulse 1.5s ease-in-out infinite';
    });
    btn.addEventListener('mouseleave', () => {
      btn.style.animation = '';
    });
  });
  
  // Add pulse keyframe
  if (!document.getElementById('pulseKeyframe')) {
    const style = document.createElement('style');
    style.id = 'pulseKeyframe';
    style.textContent = `
      @keyframes pulse {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.02); }
      }
    `;
    document.head.appendChild(style);
  }
  
  // Enhanced button hover effects
  const buttons = document.querySelectorAll('.byz-modal-btn, .btn');
  buttons.forEach(btn => {
    btn.addEventListener('click', function(e) {
      // Ripple effect
      const ripple = document.createElement('span');
      const rect = this.getBoundingClientRect();
      const size = Math.max(rect.width, rect.height);
      const x = e.clientX - rect.left - size / 2;
      const y = e.clientY - rect.top - size / 2;
      
      ripple.style.cssText = `
        position: absolute;
        width: ${size}px;
        height: ${size}px;
        border-radius: 50%;
        background: rgba(255,255,255,.3);
        transform: scale(0);
        animation: ripple 0.6s ease-out;
        left: ${x}px;
        top: ${y}px;
        pointer-events: none;
      `;
      
      this.style.position = 'relative';
      this.style.overflow = 'hidden';
      this.appendChild(ripple);
      
      setTimeout(() => ripple.remove(), 600);
    });
  });
  
  // Add ripple keyframe
  if (!document.getElementById('rippleKeyframe')) {
    const style = document.createElement('style');
    style.id = 'rippleKeyframe';
    style.textContent = `
      @keyframes ripple {
        to { transform: scale(2); opacity: 0; }
      }
    `;
    document.head.appendChild(style);
  }
})();

/* =========================================================
   BYZBOT - AI-POWERED CHAT (Hugging Face Integration)
========================================================= */
(function() {
  // Conversation history for context
  let conversationHistory = [];
  
  // BYZ Information Context for AI
  const byzContext = `You are ByzBot, the AI assistant for BYZ Entertainment (BYZ in the Hood), a nightlife and entertainment company in Dar es Salaam, Tanzania.

You have access to all information about BYZ and the website. You can answer questions about:
- Services and offerings (events, parties, bookings)
- Contact information and business details
- Social media links (Instagram, TikTok, Facebook)
- Website navigation and features
- Business hours, location, and venue information
- Event schedules (Groove and Tempo series)
- Booking procedures and pricing
- Memory galleries and photo albums
- Any other BYZ-related topics

When providing information, include tappable links/icons where appropriate (e.g., social media icons that link to pages). Be accurate, helpful, and enthusiastic about BYZ events.

COMPANY INFORMATION:
- BYZ Entertainment creates legendary nightlife experiences in Dar es Salaam
- Location: Dar es Salaam, Tanzania
- Email: byzentertainment@gmail.com
- WhatsApp: +255 768 464 367
- Website: https://kasigila.github.io/byzmock/

EVENTS:
1. Groove Series - Weekly Afro-house nights. Happens every week. Features different groove types: Caribbean Groove, RnB Groove, Afrobeats Groove. Venue: Tips Coco.
2. Tempo - Seasonal event with evolving themes. Check schedule for dates.
3. APT Sessions - Invite-only apartment sessions with premium vibes. Users must request an invite.

TEAM MEMBERS:
- Frank - Founder & CEO. Instagram: @jrmgoyo. WhatsApp: +255 755 790 033
- Sameera - Brand Partnerships & Creative Lead. Instagram: @sams__cam
- Edson - Finance & Payments Lead. Instagram: @edsont.11
- Tuari - Logistics & Venue Management. Instagram: @tuariotk
- Abd - Operations & Event Coordination. Instagram: @abd.raww

ARTISTS/DJs:
- DJ Sammy - Specializes in Afrobeats, House, Hip-Hop, Dancehall, Amapiano, R&B. Instagram: @djsammyofficial_
- Apuki - DJ and performer. Dynamic sets blending Afrobeats, Dancehall, Hip-Hop. Available for local and international bookings. Instagram: @apukiofficial. TikTok: @apukioffical. Spotify available. Booking email: Apuki.Bookings@gmail.com
- Renee - Artist specializing in Hip-Hop, Rap, R&B. Instagram: @renesw0rld777. TikTok: @ren55974. YouTube: @renesa777

SOCIAL MEDIA:
- Instagram: @byzinthehood
- TikTok: @byzinthehood
- Facebook: byzinthehood

WEBSITE FEATURES:
- Booking pages: booking.html (Groove Series), booking-tempo.html (Tempo), apt-request.html (APT invite request)
- Gallery: gallery.html (Memory Gallery with photos from events)
- Rate page: rate.html (Feedback/rating)
- Groove Series page: groove-series.html
- Admin: admin.html (for BYZ admins)

IMPORTANT:
- Be friendly, helpful, and concise
- Always provide relevant links when mentioning booking, gallery, or other pages
- For booking questions, direct users to the appropriate booking page
- For artist/DJ questions, mention they can view profiles in the "Book Our Artists & DJs" section
- For team questions, mention the "Meet the Team" section
- Keep responses conversational and natural
- If asked about something not in this context, politely say you don't have that information but can help with BYZ-related questions`;

  // Hugging Face API Configuration
  const HF_API_URL = 'https://api-inference.huggingface.co/models/mistralai/Mistral-7B-Instruct-v0.2';
  // Alternative free models if Mistral has rate limits:
  // 'HuggingFaceH4/zephyr-7b-beta'
  // 'meta-llama/Llama-2-7b-chat-hf'
  
  // AI Response function
  async function getAIResponse(userMessage) {
    try {
      // Build conversation context
      const recentHistory = conversationHistory.slice(-4); // Last 4 messages for context
      const historyText = recentHistory.map(m => 
        `${m.role === 'user' ? 'User' : 'Assistant'}: ${m.content}`
      ).join('\n');
      
      // Format for Mistral instruct model
      const prompt = `<s>[INST] ${byzContext}\n\nPrevious conversation:\n${historyText || 'None'}\n\nUser: ${userMessage}\nAssistant: [/INST]`;
      
      const response = await fetch(HF_API_URL, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({
          inputs: prompt,
          parameters: {
            max_new_tokens: 200,
            temperature: 0.7,
            top_p: 0.9,
            return_full_text: false
          }
        })
      });
      
      if (!response.ok) {
        // If model is loading, wait and retry
        if (response.status === 503) {
          const data = await response.json();
          if (data.estimated_time) {
            await new Promise(resolve => setTimeout(resolve, data.estimated_time * 1000));
            return getAIResponse(userMessage); // Retry
          }
        }
        throw new Error(`API error: ${response.status}`);
      }
      
      const data = await response.json();
      
      // Extract response text
      let aiResponse = '';
      if (Array.isArray(data) && data[0]?.generated_text) {
        aiResponse = data[0].generated_text.trim();
      } else if (data.generated_text) {
        aiResponse = data.generated_text.trim();
      } else if (typeof data === 'string') {
        aiResponse = data.trim();
      }
      
      // Clean up response (remove any model artifacts)
      aiResponse = aiResponse.replace(/\[INST\].*?\[\/INST\]/g, '').trim();
      aiResponse = aiResponse.split('\n')[0]; // Take first line if multiple
      aiResponse = aiResponse.replace(/^Assistant:\s*/i, '').trim();
      
      if (!aiResponse || aiResponse.length < 5) {
        throw new Error('Empty or invalid response from AI');
      }
      
      return aiResponse;
    } catch (error) {
      console.error('AI Error:', error);
      throw error; // Let caller handle fallback
    }
  }
  
  // Enhanced response parser to extract links and actions
  function parseAIResponse(aiText, userMessage) {
    const lower = userMessage.toLowerCase();
    const response = { 
      response: aiText, 
      suggestions: [],
      actionButton: null,
      link: null,
      linkType: null
    };
    
    // Detect booking intent
    if (lower.includes('book') || lower.includes('ticket') || lower.includes('reserve')) {
      if (lower.includes('groove')) {
        response.actionButton = { text: 'Book Groove Series', href: 'booking.html', type: 'link' };
        response.suggestions = ['View lineup', 'More info'];
      } else if (lower.includes('tempo')) {
        response.actionButton = { text: 'Book Tempo', href: 'booking-tempo.html', type: 'link' };
        response.suggestions = ['View schedule', 'More info'];
      } else if (lower.includes('apt')) {
        response.actionButton = { text: 'Request Invite', href: 'apt-request.html', type: 'link' };
        response.suggestions = ['More info'];
      } else {
        response.suggestions = ['Groove Series', 'Tempo', 'APT Session'];
      }
    }
    
    // Detect social media mentions
    if (aiText.includes('Instagram') || lower.includes('instagram')) {
      response.link = 'https://www.instagram.com/byzinthehood';
      response.linkType = 'instagram';
    }
    if (aiText.includes('Facebook') || lower.includes('facebook')) {
      response.link = 'https://www.facebook.com/byzinthehood';
      response.linkType = 'facebook';
    }
    if (aiText.includes('TikTok') || lower.includes('tiktok')) {
      response.link = 'https://www.tiktok.com/@byzinthehood';
      response.linkType = 'tiktok';
    }
    if (aiText.includes('WhatsApp') || lower.includes('whatsapp')) {
      response.link = 'https://wa.me/255768464367';
      response.linkType = 'whatsapp';
    }
    
    // Default suggestions if none provided
    if (response.suggestions.length === 0) {
      response.suggestions = ['Book tickets', 'Event info', 'Contact'];
    }
    
    return response;
  }
  
  // Fallback response using keyword matching
  function getFallbackResponse(text) {
    const lower = text.toLowerCase().trim();
    
    // Check quick actions first
    for (const [key, data] of Object.entries(quickActions)) {
      if (lower.includes(key)) {
        return data;
      }
    }
    
    // Default helpful response
    return {
      response: "I'm here to help! I can assist with booking tickets, event information, team details, artist bookings, or anything about BYZ Entertainment. What would you like to know?",
      suggestions: ['Book tickets', 'Event info', 'Contact']
    };
  }
  
  // Quick action responses (for instant responses to common actions - fallback only)
  const quickActions = {
    'hi': { response: "Hey! 👋 Welcome to BYZ. I'm ByzBot, your support assistant. How can I help you today?", suggestions: ['Book tickets', 'Event info', 'Contact', 'View schedule'] },
    'hello': { response: "Hello! 👋 I'm ByzBot, your support assistant. What can I help you with?", suggestions: ['Book tickets', 'Event info', 'Contact'] },
    'book': { response: "Great! You can book tables or tickets for our events. Which event are you interested in?", suggestions: ['Groove Series', 'Tempo', 'APT Session'] },
    'booking': { response: "To book, visit our booking page or tap 'Reserve' on the homepage. Which event would you like to book?", suggestions: ['Groove Series', 'Tempo', 'APT Session'] },
    'ticket': { response: "Perfect! You can book tickets for any of our events. Which event are you interested in?", suggestions: ['Groove Series', 'Tempo', 'APT Session'] },
    'tickets': { response: "Great! You can book tickets for our events. Which event would you like tickets for?", suggestions: ['Groove Series', 'Tempo', 'APT Session'] },
    'groove': { 
      response: "Groove Series is our weekly Afro-house night! It happens every week. Want to book a table or tickets?", 
      suggestions: ['Book Groove', 'View lineup', 'More info'],
      context: 'groove'
    },
    'tempo': { 
      response: "Tempo is our seasonal event with evolving themes. Check the schedule to see upcoming dates! Want to view the schedule or book?", 
      suggestions: ['View schedule', 'Book Tempo', 'More info'],
      context: 'tempo'
    },
    'apt': { 
      response: "APT Sessions are invite-only apartment sessions with premium vibes. Request an invite to join!", 
      suggestions: ['Request invite', 'More info'],
      context: 'apt',
      actionButton: { text: 'Request Invite', href: 'apt-request.html', type: 'link' }
    },
    'schedule': { 
      response: "Which event's schedule would you like to see?",
      suggestions: ['Tempo schedule', 'Groove lineup'],
      isSchedule: true
    },
    'view schedule': {
      response: "Which event schedule would you like to view?",
      suggestions: ['Tempo', 'Groove'],
      isSchedule: true
    },
    'frank': { 
      response: "Frank is the Founder & CEO of BYZ Entertainment. You can reach him directly!", 
      suggestions: ['Contact Frank', 'Instagram', 'WhatsApp'],
      link: 'https://www.instagram.com/jrmgoyo',
      linkType: 'instagram',
      actionButton: { text: 'Contact Frank', href: 'https://wa.me/255755790033', type: 'whatsapp' }
    },
    'ceo': { 
      response: "Frank is the Founder & CEO of BYZ Entertainment. He leads our team in creating legendary nightlife experiences in Dar es Salaam.", 
      suggestions: ['Contact Frank', 'Instagram', 'WhatsApp'],
      link: 'https://www.instagram.com/jrmgoyo',
      linkType: 'instagram',
      actionButton: { text: 'Contact Frank', href: 'https://wa.me/255755790033', type: 'whatsapp' }
    },
    'owner': { 
      response: "Frank is the Founder & CEO of BYZ Entertainment. He leads our team in creating legendary nightlife experiences in Dar es Salaam.", 
      suggestions: ['Contact Frank', 'Instagram', 'WhatsApp'],
      link: 'https://www.instagram.com/jrmgoyo',
      linkType: 'instagram',
      actionButton: { text: 'Contact Frank', href: 'https://wa.me/255755790033', type: 'whatsapp' }
    },
    'who': { response: "BYZ Entertainment creates legendary nightlife experiences in Dar es Salaam. We host Groove Series (weekly), Tempo (seasonal), and APT Sessions (invite-only).", suggestions: ['Book tickets', 'Event info'] },
    'sammy': {
      response: "DJ Sammy is one of our featured artists! He specializes in Afrobeats, House, Hip-Hop, Dancehall, Amapiano, and R&B. Check out his profile and book him for your event!",
      suggestions: ['Book DJ Sammy', 'View Artists', 'Contact'],
      scrollTo: '#artists',
      actionButton: { text: 'View DJ Sammy', href: '#artists', type: 'link' }
    },
    'dj sammy': {
      response: "DJ Sammy is one of our featured artists! He specializes in Afrobeats, House, Hip-Hop, Dancehall, Amapiano, and R&B. Check out his profile and book him for your event!",
      suggestions: ['Book DJ Sammy', 'View Artists', 'Contact'],
      scrollTo: '#artists',
      actionButton: { text: 'View DJ Sammy', href: '#artists', type: 'link' }
    },
    'apuki': {
      response: "Apuki is one of our featured DJs and performers! Known for dynamic sets blending Afrobeats, Dancehall, and Hip-Hop. Available for local and international bookings. Check out his music on Spotify!",
      suggestions: ['Book Apuki', 'Listen on Spotify', 'View Artists'],
      scrollTo: '#artists',
      actionButton: { text: 'View Apuki', href: '#artists', type: 'link' }
    },
    'renee': {
      response: "Renee is one of our featured artists! Specializing in Hip-Hop, Rap, and R&B. Available for performances, collaborations, and live shows. Check out her profile!",
      suggestions: ['Book Renee', 'View Artists', 'Contact'],
      scrollTo: '#artists',
      actionButton: { text: 'View Renee', href: '#artists', type: 'link' }
    },
    'sameera': {
      response: "Sameera is our Brand Partnerships & Creative Lead at BYZ Entertainment. Check out the Meet the Team section to learn more!",
      suggestions: ['Meet the Team', 'Contact', 'About BYZ'],
      scrollTo: '#team',
      link: 'https://www.instagram.com/sams__cam',
      linkType: 'instagram'
    },
    'edson': {
      response: "Edson is our Finance & Payments Lead at BYZ Entertainment. Check out the Meet the Team section to learn more!",
      suggestions: ['Meet the Team', 'Contact', 'About BYZ'],
      scrollTo: '#team',
      link: 'https://www.instagram.com/edsont.11',
      linkType: 'instagram'
    },
    'tuari': {
      response: "Tuari handles Logistics & Venue Management at BYZ Entertainment. Check out the Meet the Team section to learn more!",
      suggestions: ['Meet the Team', 'Contact', 'About BYZ'],
      scrollTo: '#team',
      link: 'https://www.instagram.com/tuariotk',
      linkType: 'instagram'
    },
    'abd': {
      response: "Abd is our Operations & Event Coordination lead at BYZ Entertainment. Check out the Meet the Team section to learn more!",
      suggestions: ['Meet the Team', 'Contact', 'About BYZ'],
      scrollTo: '#team',
      link: 'https://www.instagram.com/abd.raww',
      linkType: 'instagram'
    },
    'team': {
      response: "Meet the BYZ Team! We have Frank (Founder & CEO), Sameera (Brand Partnerships), Edson (Finance), Tuari (Logistics), and Abd (Operations). Scroll to see them!",
      suggestions: ['View Team', 'Contact', 'About BYZ'],
      scrollTo: '#team',
      actionButton: { text: 'Meet the Team', href: '#team', type: 'link' }
    },
    'artists': {
      response: "Check out our featured artists and DJs! We have DJ Sammy, Apuki, and Renee. You can book them for events or view their profiles!",
      suggestions: ['Book an Artist', 'View Lineup', 'Contact'],
      scrollTo: '#artists',
      actionButton: { text: 'View Artists', href: '#artists', type: 'link' }
    },
    'djs': {
      response: "We have amazing DJs! DJ Sammy and Apuki are available for bookings. Check out their profiles and book them for your event!",
      suggestions: ['Book a DJ', 'View Artists', 'Lineup'],
      scrollTo: '#artists',
      actionButton: { text: 'View DJs', href: '#artists', type: 'link' }
    },
    'lineup': {
      response: "Check out our DJ Timings, Lineups & Announcements section! You'll find set times, event schedules, and artist announcements.",
      suggestions: ['View Lineup', 'Book Now', 'Event Info'],
      scrollTo: '#dj',
      actionButton: { text: 'View Lineup', href: '#dj', type: 'link' }
    },
    'gallery': {
      response: "Check out our Memory Gallery! Browse photos from Groove Series, Tempo, and APT Sessions. You can like photos, download them, and share your favorites!",
      suggestions: ['View Gallery', 'Browse Photos', 'Share'],
      scrollTo: '#gallery',
      actionButton: { text: 'View Gallery', href: 'gallery.html', type: 'link' }
    },
    'photos': {
      response: "Browse our Memory Gallery! See photos from all our events. You can filter by event type (Groove, Tempo) and like your favorites!",
      suggestions: ['View Gallery', 'Browse Photos', 'Events'],
      scrollTo: '#gallery',
      actionButton: { text: 'View Gallery', href: 'gallery.html', type: 'link' }
    },
    'rate': {
      response: "We'd love to hear your feedback! Rate your experience with BYZ Entertainment and help us improve.",
      suggestions: ['Rate Experience', 'Contact', 'Book Again'],
      actionButton: { text: 'Rate Experience', href: 'rate.html', type: 'link' }
    },
    'feedback': {
      response: "Share your feedback with us! Rate your experience and let us know how we can improve.",
      suggestions: ['Rate Experience', 'Contact', 'Book Again'],
      actionButton: { text: 'Rate Experience', href: 'rate.html', type: 'link' }
    },
    'youtube': {
      response: "Check out our YouTube channel! Watch event highlights, DJ sets, and behind-the-scenes content from BYZ Entertainment.",
      suggestions: ['View YouTube', 'Watch Videos', 'Events'],
      scrollTo: '#youtube',
      actionButton: { text: 'View YouTube', href: '#youtube', type: 'link' }
    },
    'videos': {
      response: "Watch our videos on YouTube! See event highlights, performances, and exclusive content from BYZ Entertainment.",
      suggestions: ['View YouTube', 'Watch Videos', 'Events'],
      scrollTo: '#youtube',
      actionButton: { text: 'View YouTube', href: '#youtube', type: 'link' }
    },
    'price': { response: "Pricing varies by event and table type. Check our booking pages for current rates. Which event are you interested in?", suggestions: ['Groove prices', 'Tempo prices', 'Contact us'] },
    'cost': { response: "Prices depend on the event and what you're booking (tables vs tickets). Visit the booking page for details! Which event?", suggestions: ['Groove', 'Tempo', 'APT'] },
    'when': { response: "Event dates vary! Groove is weekly, Tempo is seasonal. Check our schedule or booking pages for dates. Which event?", suggestions: ['Groove dates', 'Tempo schedule', 'Book now'] },
    'time': { response: "Event times are usually late night! Groove starts around 10 PM. Check the lineup section for set times.", suggestions: ['View lineup', 'Book now'] },
    'location': { response: "We're in Dar es Salaam! Specific venue details are shared when you book. Want to book?", suggestions: ['Yes, book now', 'Contact'] },
    'where': { response: "BYZ events are in Dar es Salaam. Exact locations are provided when you complete your booking!", suggestions: ['Book now', 'Contact'] },
    'contact': { response: "You can reach us via WhatsApp or email. Tap the links below!", suggestions: ['WhatsApp', 'Email', 'Book now'] },
    'facebook': { response: "Follow us on Facebook! Visit our page for updates, event announcements, and more.", suggestions: ['Instagram', 'TikTok', 'Book now'], link: 'https://www.facebook.com/byzinthehood', linkType: 'facebook' },
    'fb': { response: "Our Facebook page - follow us for event updates!", suggestions: ['Instagram', 'TikTok', 'Book now'], link: 'https://www.facebook.com/byzinthehood', linkType: 'facebook' },
    'social': { response: "Find us on Instagram, TikTok, and Facebook!", suggestions: ['Instagram', 'TikTok', 'Facebook'] },
    'instagram': { response: "Follow us on Instagram for the latest updates, behind-the-scenes, and event announcements!", suggestions: ['TikTok', 'Facebook', 'Book now'], link: 'https://www.instagram.com/byzinthehood', linkType: 'instagram' },
    'tiktok': { response: "Check us out on TikTok for event highlights and fun content!", suggestions: ['Instagram', 'Facebook', 'Book now'], link: 'https://www.tiktok.com/@byzinthehood', linkType: 'tiktok' },
    'help': { response: "I'm ByzBot, your support assistant! I can help with booking, event info, schedules, pricing, or anything BYZ-related. What do you need?", suggestions: ['Book tickets', 'Event info', 'View schedule'] }
  };
  
  // Create chat widget HTML
  const chatWidget = document.createElement('div');
  chatWidget.id = 'byzChatWidget';
  chatWidget.innerHTML = `
    <div class="chat-toggle" id="chatToggle" aria-label="Open chat">
      <i class="fa-solid fa-comments"></i>
      <span class="chat-badge" id="chatBadge">1</span>
    </div>
    <div class="chat-backdrop" id="chatBackdrop"></div>
    <div class="chat-window byz-hidden" id="chatWindow" aria-hidden="true">
      <div class="chat-header">
        <div class="chat-header-content">
          <div class="chat-avatar">
            <img src="assets/byz-logo-white.png" alt="BYZ" style="width:100%; height:100%; object-fit:contain; padding:6px;" />
          </div>
          <div>
            <div class="chat-title">ByzBot</div>
            <div class="chat-status">
              <span class="status-dot"></span>
              <span>Online</span>
            </div>
          </div>
        </div>
        <div class="chat-header-actions">
          <button class="chat-expand" id="chatExpand" aria-label="Expand to full screen">
            <i class="fa-solid fa-expand"></i>
          </button>
          <button class="chat-close" id="chatClose" aria-label="Close chat">
            <i class="fa-solid fa-xmark"></i>
          </button>
        </div>
      </div>
      <div class="chat-messages" id="chatMessages">
        <div class="chat-message bot">
          <div class="message-avatar">
            <img src="assets/byz-logo-white.png" alt="BYZ" style="width:100%; height:100%; object-fit:contain; padding:4px;" />
          </div>
          <div class="message-content">
            <div class="message-text">Hi! 👋 I'm ByzBot, your support assistant. How can I help you today?</div>
            <div class="message-time">Just now</div>
          </div>
        </div>
      </div>
      <div class="chat-suggestions" id="chatSuggestions">
        <button class="suggestion-btn">Book a table</button>
        <button class="suggestion-btn">Event info</button>
        <button class="suggestion-btn">Contact</button>
      </div>
      <div class="chat-input-wrapper">
        <button class="keyboard-toggle-btn" id="keyboardToggle" aria-label="Toggle keyboard">
          <i class="fa-solid fa-keyboard"></i>
        </button>
        <input type="text" class="chat-input" id="chatInput" placeholder="Type your message..." autocomplete="off">
        <button class="chat-send" id="chatSend" aria-label="Send message">
          <i class="fa-solid fa-paper-plane"></i>
        </button>
      </div>
      <!-- Custom Mobile Keyboard -->
      <div class="custom-keyboard" id="customKeyboard">
        <div class="keyboard-row">
          <button class="keyboard-key" data-key="q">Q</button>
          <button class="keyboard-key" data-key="w">W</button>
          <button class="keyboard-key" data-key="e">E</button>
          <button class="keyboard-key" data-key="r">R</button>
          <button class="keyboard-key" data-key="t">T</button>
          <button class="keyboard-key" data-key="y">Y</button>
          <button class="keyboard-key" data-key="u">U</button>
          <button class="keyboard-key" data-key="i">I</button>
          <button class="keyboard-key" data-key="o">O</button>
          <button class="keyboard-key" data-key="p">P</button>
        </div>
        <div class="keyboard-row">
          <button class="keyboard-key" data-key="a">A</button>
          <button class="keyboard-key" data-key="s">S</button>
          <button class="keyboard-key" data-key="d">D</button>
          <button class="keyboard-key" data-key="f">F</button>
          <button class="keyboard-key" data-key="g">G</button>
          <button class="keyboard-key" data-key="h">H</button>
          <button class="keyboard-key" data-key="j">J</button>
          <button class="keyboard-key" data-key="k">K</button>
          <button class="keyboard-key" data-key="l">L</button>
        </div>
        <div class="keyboard-row">
          <button class="keyboard-key keyboard-key-special" id="keyboardShift" data-action="shift">
            <i class="fa-solid fa-arrow-up"></i>
          </button>
          <button class="keyboard-key" data-key="z">Z</button>
          <button class="keyboard-key" data-key="x">X</button>
          <button class="keyboard-key" data-key="c">C</button>
          <button class="keyboard-key" data-key="v">V</button>
          <button class="keyboard-key" data-key="b">B</button>
          <button class="keyboard-key" data-key="n">N</button>
          <button class="keyboard-key" data-key="m">M</button>
          <button class="keyboard-key keyboard-key-special" id="keyboardBackspace" data-action="backspace">
            <i class="fa-solid fa-delete-left"></i>
          </button>
        </div>
        <div class="keyboard-row keyboard-row-bottom">
          <button class="keyboard-key keyboard-key-special" id="keyboardNumbers" data-action="numbers">123</button>
          <button class="keyboard-key keyboard-key-space" id="keyboardSpace" data-action="space">Space</button>
          <button class="keyboard-key keyboard-key-special keyboard-key-send" id="keyboardSend" data-action="send">
            <i class="fa-solid fa-paper-plane"></i>
          </button>
          <button class="keyboard-key keyboard-key-special" id="keyboardClose" data-action="close" style="background: color-mix(in srgb, var(--bg-alt) 90%, transparent);">
            <i class="fa-solid fa-chevron-down"></i>
          </button>
        </div>
      </div>
    </div>
  `;
  document.body.appendChild(chatWidget);
  
  // Chat widget styles - COMPLETE REWRITE FOR CONFLICT-FREE IMPLEMENTATION
  const chatStyles = document.createElement('style');
  chatStyles.textContent = `
    /* ========== CHAT WIDGET CONTAINER ========== */
    #byzChatWidget {
      position: fixed !important;
      bottom: 30px !important; /* FORCED POSITION - NO OVERLAP */
      right: 16px !important;
      z-index: 1000 !important;
      font-family: inherit;
    }
    
    @media (min-width: 768px) {
      #byzChatWidget {
        bottom: 30px !important; /* FORCED POSITION - NO OVERLAP */
        right: 30px !important;
      }
    }
    
    /* ========== CHAT TOGGLE BUTTON ========== */
    .chat-toggle {
      width: 56px;
      height: 56px;
      border-radius: 28px;
      background: var(--accent);
      color: var(--bg);
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 8px 24px rgba(0,0,0,.2);
      cursor: pointer;
      transition: all 0.3s var(--ease);
      position: relative;
      border: none;
      z-index: 1000 !important;
      -webkit-tap-highlight-color: transparent;
      touch-action: manipulation;
    }
    
    .chat-toggle:hover {
      transform: scale(1.1);
      box-shadow: 0 12px 32px rgba(0,0,0,.3);
    }
    
    .chat-toggle i {
      font-size: 24px;
    }
    
    .chat-badge {
      position: absolute;
      top: -4px;
      right: -4px;
      width: 20px;
      height: 20px;
      border-radius: 10px;
      background: #ff3b30;
      color: white;
      font-size: 11px;
      font-weight: 900;
      display: flex;
      align-items: center;
      justify-content: center;
      border: 2px solid var(--bg);
      animation: pulse 2s ease-in-out infinite;
    }
    
    /* ========== CHAT WINDOW BASE ========== */
    .chat-window {
      position: fixed;
      display: none;
      visibility: hidden;
      opacity: 0;
      flex-direction: column;
      z-index: 10000;
      background: color-mix(in srgb, var(--bg) 95%, transparent);
      backdrop-filter: blur(40px) saturate(180%);
      touch-action: pan-y;
    }
    
    .chat-window.byz-hidden {
      display: none !important;
      visibility: hidden !important;
      opacity: 0 !important;
    }
    
    .chat-window:not(.byz-hidden) {
      display: flex !important;
      visibility: visible !important;
      opacity: 1 !important;
    }
    
    /* ========== BACKGROUND BLUR WHEN CHATBOT IS OPEN ========== */
    body.chatbot-modal-open::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      backdrop-filter: blur(4px);
      -webkit-backdrop-filter: blur(4px);
      background: rgba(0, 0, 0, 0.2);
      z-index: 998;
      pointer-events: none;
      opacity: 0;
      transition: opacity 0.3s var(--ease);
    }
    
    body.chatbot-modal-open::before {
      opacity: 1;
    }
    
    /* Ensure chatbot sits above blur */
    .chat-window {
      z-index: 999;
    }
    
    /* ========== MOBILE: Half-Screen Layout with Fullscreen Toggle ========== */
    @media (max-width: 767px) {
      /* Backdrop overlay for half-screen mode */
      .chat-backdrop {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background: rgba(0, 0, 0, 0.3);
        backdrop-filter: blur(4px);
        z-index: 9999;
        display: none;
        opacity: 0;
        transition: opacity 0.3s var(--ease);
      }
      
      .chat-backdrop.show {
        display: block;
        opacity: 1;
      }
      
      /* Half-screen mode (default) - smaller chat box positioned lower on screen - MOBILE ONLY */
      .chat-window:not(.byz-hidden):not(.chat-fullscreen) {
        position: fixed !important;
        top: 55vh !important;
        left: 50% !important;
        transform: translateX(-50%) !important;
        width: 90vw !important;
        height: 35vh !important;
        min-height: 300px !important;
        max-width: 100vw !important;
        max-height: 40vh !important;
        border-radius: 28px !important;
        border: 1px solid var(--border) !important;
        margin: 0 !important;
        padding: 0 !important;
        overflow: hidden !important;
        display: flex !important;
        flex-direction: column !important;
        box-shadow: 0 -10px 40px rgba(0,0,0,0.2) !important;
        z-index: 10001 !important;
      }
      
      /* Ensure header is never cut off - it has safe area padding built in */
      .chat-window:not(.byz-hidden):not(.chat-fullscreen) .chat-header {
        position: relative !important;
        margin-top: 0 !important;
      }
      
      /* Fullscreen mode - fills entire screen */
      .chat-window:not(.byz-hidden).chat-fullscreen {
        position: fixed !important;
        top: 0 !important;
        left: 0 !important;
        width: 100vw !important;
        height: 100vh !important;
        border-radius: 0 !important;
        box-shadow: none !important;
        z-index: 10000 !important;
        position: fixed !important;
        top: 0 !important;
        left: 0 !important;
        right: 0 !important;
        bottom: 0 !important;
        width: 100vw !important;
        width: 100% !important;
        height: 100vh !important;
        height: 100% !important;
        height: -webkit-fill-available !important;
        min-width: 100vw !important;
        min-height: 100vh !important;
        max-width: 100vw !important;
        max-height: 100vh !important;
        border-radius: 0 !important;
        border: none !important;
        margin: 0 !important;
        padding: 0 !important;
        padding-top: env(safe-area-inset-top, 0px) !important;
        overflow: hidden !important;
        transform: none !important;
        display: flex !important;
        flex-direction: column !important;
        box-shadow: none !important;
        z-index: 10001 !important;
      }
      
      /* Header: Always visible, accounts for safe area */
      .chat-header {
        position: sticky !important;
        top: 0 !important;
        left: 0 !important;
        right: 0 !important;
        width: 100% !important;
        padding: 12px 16px !important;
        padding-top: calc(12px + env(safe-area-inset-top, 0px)) !important;
        border-bottom: 1px solid color-mix(in srgb, var(--border) 30%, transparent);
        display: flex !important;
        align-items: center !important;
        justify-content: space-between !important;
        background: color-mix(in srgb, var(--bg) 95%, transparent) !important;
        backdrop-filter: blur(40px) saturate(180%) !important;
        z-index: 1000 !important;
        flex-shrink: 0 !important;
        min-height: 60px !important;
        margin: 0 !important;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1) !important;
      }
      
      .chat-header-actions {
        display: flex !important;
        gap: 8px !important;
        align-items: center !important;
      }
      
      .chat-expand {
        width: 30px !important;
        height: 30px !important;
        border-radius: 50% !important;
        border: 2px solid var(--border) !important;
        background-color: var(--bg-elev) !important;
        color: var(--text) !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        cursor: pointer !important;
        transition: all 0.2s var(--ease) !important;
        font-size: 12px !important;
        flex-shrink: 0 !important;
      }
      
      .chat-expand:active {
        transform: scale(0.95) !important;
        background-color: var(--bg-alt) !important;
      }
      
      /* Messages area */
      .chat-messages {
        flex: 1 1 auto !important;
        overflow-y: auto !important;
        overflow-x: hidden !important;
        padding: 16px !important;
        min-height: 0 !important;
        -webkit-overflow-scrolling: touch !important;
      }
      
      /* Input wrapper */
      .chat-input-wrapper {
        position: sticky !important;
        bottom: 0 !important;
        left: 0 !important;
        right: 0 !important;
        width: 100% !important;
        padding: 12px 16px !important;
        padding-bottom: calc(12px + env(safe-area-inset-bottom, 0px)) !important;
        border-top: 1px solid color-mix(in srgb, var(--border) 30%, transparent);
        background: color-mix(in srgb, var(--bg) 95%, transparent) !important;
        backdrop-filter: blur(40px) saturate(180%) !important;
        flex-shrink: 0 !important;
        margin: 0 !important;
        box-shadow: 0 -2px 10px rgba(0,0,0,0.05) !important;
      }
    }
    
    /* Hide expand button and backdrop on desktop */
    @media (min-width: 768px) {
      .chat-expand {
        display: none !important;
      }
      .chat-backdrop {
        display: none !important;
      }
    }
      
      /* Messages: Scrollable area - grows to fill space */
      .chat-messages {
        flex-grow: 1 !important;
        flex-shrink: 1 !important;
        overflow-y: auto !important;
        overflow-x: hidden !important;
        padding: 16px;
        padding-bottom: 20px !important; /* ADD padding at bottom so last message clears keyboard */
        min-height: 0 !important;
        -webkit-overflow-scrolling: touch !important;
        position: relative !important;
        z-index: 1 !important;
      }
      
      /* Input: Sticky at bottom - stays above keyboard */
      .chat-input-wrapper {
        position: sticky !important;
        bottom: 0 !important;
        left: 0 !important;
        right: 0 !important;
        width: 100% !important;
        padding: 12px 16px;
        padding-bottom: calc(12px + env(safe-area-inset-bottom, 0px));
        border-top: 1px solid color-mix(in srgb, var(--border) 30%, transparent);
        background: color-mix(in srgb, var(--bg) 95%, transparent);
        backdrop-filter: blur(40px) saturate(180%);
        z-index: 1000 !important;
        flex-shrink: 0 !important; /* Prevents crushing */
        margin: 0 !important;
        transform: none !important;
        box-shadow: 0 -2px 10px rgba(0,0,0,0.05) !important;
      }
      
      /* Remove custom keyboard adjustments - using system keyboard now */
      
      .chat-suggestions {
        display: none !important;
      }
    }
    
    /* ========== DESKTOP: iPhone-Style Screen on Right Side ========== */
    @media (min-width: 768px) {
      /* Override mobile styles - ensure desktop positioning */
      .chat-window:not(.byz-hidden):not(.chat-fullscreen) {
        position: fixed !important;
        right: 30px !important;
        top: 50% !important;
        left: auto !important;
        bottom: auto !important;
        transform: translateY(-50%) !important;
        width: 380px !important;
        height: 80vh !important;
        max-height: 700px !important;
        min-height: auto !important;
        max-width: 380px !important;
        border-radius: 40px !important;
        border: 10px solid #000 !important;
        box-shadow: 0 10px 40px rgba(0,0,0,0.2) !important;
        margin: 0 !important;
        padding: 0 !important;
        overflow: hidden !important;
        z-index: 10001 !important;
      }
      
      .chat-header {
        position: sticky !important;
        top: 0 !important;
        padding: 12px 16px;
        border-bottom: 1px solid color-mix(in srgb, var(--border) 30%, transparent);
        display: flex;
        align-items: center;
        justify-content: space-between;
        background: color-mix(in srgb, var(--bg) 95%, transparent);
        backdrop-filter: blur(40px) saturate(180%);
        z-index: 100 !important;
        flex-shrink: 0;
        min-height: 60px;
        width: 100%;
      }
      
      .chat-messages {
        flex: 1 1 auto;
        overflow-y: auto;
        overflow-x: hidden;
        padding: 16px;
        min-height: 0;
        -webkit-overflow-scrolling: touch;
      }
      
      .chat-input-wrapper {
        position: sticky !important;
        bottom: 0 !important;
        padding: 12px 16px;
        border-top: 1px solid color-mix(in srgb, var(--border) 30%, transparent);
        background: color-mix(in srgb, var(--bg) 95%, transparent);
        backdrop-filter: blur(40px) saturate(180%);
        flex-shrink: 0;
        width: 100%;
      }
    }
    
    /* ========== CHAT HEADER CONTENT ========== */
    .chat-header-content {
      display: flex;
      align-items: center;
      gap: 12px;
    }
    
    .chat-avatar {
      width: 40px;
      height: 40px;
      border-radius: 20px;
      background: var(--bg-elev);
      border: 1px solid color-mix(in srgb, var(--border) 40%, transparent);
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      flex-shrink: 0;
    }
    
    .chat-title {
      font-weight: 900;
      font-size: 16px;
      letter-spacing: -0.3px;
    }
    
    .chat-status {
      display: flex;
      align-items: center;
      gap: 6px;
      margin-top: 2px;
      font-size: 12px;
      color: var(--sub);
    }
    
    .status-dot {
      width: 8px;
      height: 8px;
      border-radius: 4px;
      background: #34c759;
      animation: pulse 2s ease-in-out infinite;
    }
    
    .chat-close {
      width: 30px !important;
      height: 30px !important;
      border-radius: 50% !important;
      border: 2px solid #ffffff !important;
      background-color: #555555 !important;
      color: #ffffff !important;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.2s var(--ease);
      z-index: 10003 !important;
      font-weight: bold !important;
    }
    
    .chat-close i {
      color: #ffffff !important;
      fill: #ffffff !important;
    }
    
    .chat-close:hover {
      transform: scale(1.1);
      background-color: #666666 !important;
      border-color: #ffffff !important;
    }
    
    /* ========== CHAT MESSAGES ========== */
    .chat-messages {
      display: flex;
      flex-direction: column;
      gap: 12px;
      scrollbar-width: thin;
      scrollbar-color: var(--border) transparent;
      overscroll-behavior: contain;
    }
    
    .chat-messages::-webkit-scrollbar {
      width: 4px;
    }
    
    .chat-messages::-webkit-scrollbar-thumb {
      background: var(--border);
      border-radius: 2px;
    }
    
    .chat-messages::-webkit-scrollbar {
      width: 4px;
    }
    
    .chat-messages::-webkit-scrollbar-thumb {
      background: var(--border);
      border-radius: 2px;
    }
    
    .chat-message {
      display: flex;
      gap: 10px;
      animation: messageSlide 0.3s var(--ease);
    }
    
    @keyframes messageSlide {
      from {
        opacity: 0;
        transform: translateY(10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    .chat-message.bot {
      align-items: flex-start;
    }
    
    .chat-message.user {
      flex-direction: row-reverse;
      align-items: flex-start;
    }
    
    .message-avatar {
      width: 32px;
      height: 32px;
      border-radius: 16px;
      background: color-mix(in srgb, var(--bg-alt) 80%, transparent);
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
    }
    
    .chat-message.bot .message-avatar {
      background: var(--bg-elev);
      border: 1px solid color-mix(in srgb, var(--border) 40%, transparent);
      overflow: hidden;
    }
    
    .message-content {
      flex: 1;
      max-width: 75%;
    }
    
    .message-text {
      padding: 10px 14px;
      border-radius: 18px;
      background: color-mix(in srgb, var(--bg-elev) 95%, transparent);
      border: 1px solid color-mix(in srgb, var(--border) 40%, transparent);
      font-size: 14px;
      line-height: 1.4;
    }
    
    .chat-message.user .message-text {
      background: var(--accent);
      color: var(--bg);
      border-color: transparent;
    }
    
    .message-time {
      font-size: 11px;
      color: var(--sub);
      margin-top: 4px;
      padding: 0 4px;
    }
    
    .chat-suggestions {
      padding: 12px 16px;
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
      border-top: 1px solid color-mix(in srgb, var(--border) 30%, transparent);
      background: color-mix(in srgb, var(--bg) 95%, transparent);
    }
    
    .suggestion-btn {
      padding: 6px 12px;
      border-radius: 16px;
      border: 1px solid color-mix(in srgb, var(--border) 50%, transparent);
      background: color-mix(in srgb, var(--bg-elev) 90%, transparent);
      color: var(--text);
      font-size: 12px;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.2s var(--ease);
    }
    
    .suggestion-btn:hover {
      transform: translateY(-1px);
      background: color-mix(in srgb, var(--bg-elev) 95%, transparent);
      border-color: color-mix(in srgb, var(--border) 70%, transparent);
    }
    
    /* ========== CHAT INPUT ========== */
    .chat-input-wrapper {
      display: flex;
      gap: 8px;
      align-items: center;
    }
    
    .keyboard-toggle-btn {
      background: none;
      border: none;
      padding: 8px;
      cursor: pointer;
      color: var(--accent);
      font-size: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s var(--ease);
      flex-shrink: 0;
      border-radius: 8px;
      width: 36px;
      height: 36px;
    }
    
    .keyboard-toggle-btn:hover {
      background: color-mix(in srgb, var(--accent) 10%, transparent);
      transform: scale(1.1);
    }
    
    .keyboard-toggle-btn:active {
      transform: scale(0.95);
    }
    
    .keyboard-toggle-btn.active {
      background: color-mix(in srgb, var(--accent) 20%, transparent);
      color: var(--accent);
    }
    
    @media (min-width: 768px) {
      .keyboard-toggle-btn {
        display: none;
      }
    }
    
    /* Hide keyboard toggle button on mobile while testing iOS keyboard fix */
    @media (max-width: 767px) {
      .keyboard-toggle-btn {
        display: none !important;
      }
    }
    
    .chat-input {
      flex: 1;
      padding: 10px 14px;
      border-radius: 20px;
      border: 1px solid color-mix(in srgb, var(--border) 50%, transparent);
      background: color-mix(in srgb, var(--bg-elev) 90%, transparent);
      color: var(--text) !important; /* Ensure text is visible on all devices */
      font-size: 16px;
      outline: none;
      transition: all 0.2s var(--ease);
      -webkit-appearance: none;
      appearance: none;
      touch-action: manipulation;
      caret-color: var(--text) !important; /* Show cursor when typing */
      cursor: text !important; /* Always show text cursor */
    }
    
    .chat-input[data-focused="true"] {
      cursor: text;
      caret-color: var(--text);
      color: var(--text) !important;
    }
    
    .chat-input:focus {
      border-color: color-mix(in srgb, var(--accent) 50%, var(--border));
      background: color-mix(in srgb, var(--bg-elev) 95%, transparent);
    }
    
    .chat-send {
      width: 40px;
      height: 40px;
      border-radius: 20px;
      background: var(--accent);
      color: var(--bg);
      border: none;
      display: none;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.2s var(--ease);
      flex-shrink: 0;
    }
    
    .chat-send.visible {
      display: flex;
    }
    
    .chat-send:hover {
      transform: scale(1.1);
      box-shadow: 0 4px 12px rgba(0,0,0,.2);
    }
    
    .chat-send:active {
      transform: scale(0.95);
    }
    
    /* Chat Links Styling */
    .chat-link {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 6px 12px;
      margin-top: 8px;
      border-radius: 12px;
      background: color-mix(in srgb, var(--accent) 15%, transparent);
      border: 1px solid color-mix(in srgb, var(--accent) 30%, transparent);
      color: var(--accent);
      text-decoration: none;
      font-weight: 600;
      font-size: 13px;
      transition: all 0.2s var(--ease);
      cursor: pointer;
    }
    
    .chat-link:hover {
      background: color-mix(in srgb, var(--accent) 25%, transparent);
      border-color: color-mix(in srgb, var(--accent) 50%, transparent);
      transform: translateY(-1px);
    }
    
    .chat-link i {
      font-size: 14px;
    }
    
    .message-text a.chat-link {
      display: inline-block;
      margin-left: 4px;
    }
    
    /* Chat Action Button */
    .chat-action-btn {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 10px 16px;
      margin-top: 12px;
      border-radius: 14px;
      background: var(--accent);
      color: var(--bg);
      text-decoration: none;
      font-weight: 700;
      font-size: 14px;
      transition: all 0.2s var(--ease);
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,.2);
    }
    
    .chat-action-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 16px rgba(0,0,0,.3);
    }
    
    .chat-action-btn i {
      font-size: 12px;
    }
    
    /* Typing indicator animation */
    .typing-dots {
      display: inline-flex;
      gap: 4px;
    }
    
    .typing-dots span {
      width: 6px;
      height: 6px;
      border-radius: 50%;
      background: var(--sub);
      animation: typing 1.4s infinite;
    }
    
    .typing-dots span:nth-child(2) {
      animation-delay: 0.2s;
    }
    
    .typing-dots span:nth-child(3) {
      animation-delay: 0.4s;
    }
    
    @keyframes typing {
      0%, 60%, 100% {
        opacity: 0.3;
        transform: translateY(0);
      }
      30% {
        opacity: 1;
        transform: translateY(-4px);
      }
    }
    
    /* Mobile input font size - Prevents zoom on iOS */
    @media (max-width: 767px) {
      .chat-input {
        font-size: 16px !important;
        /* System keyboard will work naturally */
      }
    }
    
    /* ========== CUSTOM MOBILE KEYBOARD ========== */
    .custom-keyboard {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      width: 100%;
      background: color-mix(in srgb, var(--bg) 98%, transparent);
      backdrop-filter: blur(40px) saturate(180%);
      border-top: 1px solid color-mix(in srgb, var(--border) 30%, transparent);
      padding: 8px 4px;
      padding-bottom: calc(8px + env(safe-area-inset-bottom, 0px));
      display: none;
      flex-direction: column;
      gap: 6px;
      z-index: 10001 !important;
      box-shadow: 0 -4px 20px rgba(0,0,0,0.15);
      transform: translateY(100%);
      transition: transform 0.3s cubic-bezier(0.16, 1, 0.3, 1);
      max-height: 220px;
      overflow-y: auto;
    }
    
    .custom-keyboard.show {
      display: flex !important;
      transform: translateY(0);
    }
    
    @media (max-width: 767px) {
      .chat-window:not(.byz-hidden) {
        padding-bottom: 0 !important;
      }
      
      .chat-input-wrapper {
        position: relative !important;
        bottom: auto !important;
      }
      
      .custom-keyboard.show ~ .chat-input-wrapper {
        margin-bottom: 0;
      }
    }
    
    .keyboard-row {
      display: flex;
      gap: 4px;
      justify-content: center;
      align-items: center;
    }
    
    .keyboard-key {
      flex: 1;
      min-width: 32px;
      height: 44px;
      border-radius: 8px;
      border: 1px solid color-mix(in srgb, var(--border) 40%, transparent);
      background: color-mix(in srgb, var(--bg-elev) 95%, transparent);
      color: var(--text);
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.1s var(--ease);
      display: flex;
      align-items: center;
      justify-content: center;
      touch-action: manipulation;
      -webkit-tap-highlight-color: transparent;
    }
    
    .keyboard-key:active {
      background: color-mix(in srgb, var(--accent) 20%, var(--bg-elev));
      transform: scale(0.95);
    }
    
    .keyboard-key-special {
      flex: 0 0 auto;
      min-width: 48px;
      background: color-mix(in srgb, var(--bg-alt) 90%, transparent);
    }
    
    .keyboard-key-space {
      flex: 3;
      min-width: 120px;
    }
    
    .keyboard-key-send {
      background: var(--accent);
      color: var(--bg);
      border-color: transparent;
    }
    
    .keyboard-key-send:active {
      background: color-mix(in srgb, var(--accent) 90%, transparent);
    }
    
    @media (min-width: 768px) {
      .custom-keyboard {
        display: none !important;
      }
    }
  `;
  document.head.appendChild(chatStyles);
  
  // Chat functionality
  const toggle = document.getElementById('chatToggle');
  const window = document.getElementById('chatWindow');
  const close = document.getElementById('chatClose');
  const expand = document.getElementById('chatExpand');
  const backdrop = document.getElementById('chatBackdrop');
  const messages = document.getElementById('chatMessages');
  const input = document.getElementById('chatInput');
  const send = document.getElementById('chatSend');
  const suggestions = document.getElementById('chatSuggestions');
  const badge = document.getElementById('chatBadge');
  
  let isOpen = false;
  let isFullscreen = false;
  
  // ========== CROSS-PLATFORM KEYBOARD HANDLING: Visual Viewport API (Progressive Enhancement) ==========
  let keyboardAdjustHandler = null;
  
  function setupIOSKeyboardHandling() {
    // Only use Visual Viewport API if available and in fullscreen mode
    if (!window.visualViewport || !isFullscreen) return;
    
    function adjustForKeyboard() {
      const vv = window.visualViewport;
      if (!vv || !isOpen || !isFullscreen) return;
      
      const keyboardHeight = window.innerHeight - vv.height;
      const chatWindow = document.getElementById('chatWindow');
      
      if (chatWindow && keyboardHeight > 50) {
        // Keyboard is open - adjust padding to keep input above keyboard (fullscreen only)
        chatWindow.style.paddingBottom = keyboardHeight + 'px';
        
        // Ensure messages area scrolls properly
        const messagesEl = document.getElementById('chatMessages');
        if (messagesEl) {
          setTimeout(() => {
            messagesEl.scrollTop = messagesEl.scrollHeight;
          }, 100);
        }
      } else {
        // Keyboard is closed - remove padding
        if (chatWindow) {
          chatWindow.style.paddingBottom = '';
        }
      }
    }
    
    // Listen for viewport resize (keyboard open/close)
    keyboardAdjustHandler = adjustForKeyboard;
    window.visualViewport.addEventListener('resize', keyboardAdjustHandler);
    window.visualViewport.addEventListener('scroll', keyboardAdjustHandler);
    
    // Initial adjustment
    adjustForKeyboard();
  }
  
  function cleanupIOSKeyboardHandling() {
    if (!window.visualViewport || !keyboardAdjustHandler) return;
    
    window.visualViewport.removeEventListener('resize', keyboardAdjustHandler);
    window.visualViewport.removeEventListener('scroll', keyboardAdjustHandler);
    
    keyboardAdjustHandler = null;
    
    // Reset padding
    const chatWindow = document.getElementById('chatWindow');
    if (chatWindow) {
      chatWindow.style.paddingBottom = '';
    }
  }
  
  function openChat() {
    window.classList.remove('byz-hidden');
    window.setAttribute('aria-hidden', 'false');
    isOpen = true;
    badge.style.display = 'none';
    
    // Add background blur class
    document.body.classList.add('chatbot-modal-open');
    
    const isMobileDevice = window.innerWidth <= 767;
    
    if (isMobileDevice) {
      // Lock page scrolling on mobile
      document.documentElement.classList.add('chat-open');
      document.body.classList.add('chat-open');
      
      // Show backdrop only in half-screen mode
      if (backdrop && !isFullscreen) {
        backdrop.classList.add('show');
      }
      
      // Initialize keyboard handling only in fullscreen mode
      if (isFullscreen && window.visualViewport) {
        setupIOSKeyboardHandling();
      }
    }
    
    // Hide social dock when chat opens
    const socialDock = document.getElementById('socialDock');
    if (socialDock) {
      socialDock.classList.add('chat-open');
    }
    
    // Scroll messages appropriately
    setTimeout(() => {
      if (messages) {
        if (isFullscreen) {
          messages.scrollTop = 0;
        } else {
          messages.scrollTop = messages.scrollHeight;
        }
      }
    }, 200);
    
    // Focus input on desktop only
    if (!isMobileDevice) {
      setTimeout(() => {
        input.focus();
      }, 200);
    }
  }
  
  function closeChat() {
    window.classList.add('byz-hidden');
    window.setAttribute('aria-hidden', 'true');
    isOpen = false;
    isFullscreen = false;
    window.classList.remove('chat-fullscreen');
    
    // Remove background blur
    document.body.classList.remove('chatbot-modal-open');
    
    // Hide backdrop
    if (backdrop) {
      backdrop.classList.remove('show');
    }
    
    // Unlock page scrolling on mobile when chat closes
    document.documentElement.classList.remove('chat-open');
    document.body.classList.remove('chat-open');
    
    // Reset fullscreen styles
    window.style.position = '';
    window.style.top = '';
    window.style.left = '';
    window.style.width = '';
    window.style.height = '';
    window.style.zIndex = '';
    window.style.borderRadius = '';
    window.style.boxShadow = '';
    document.body.style.overflow = '';
    
    // Remove fullscreen close button if exists
    const fullscreenCloseBtn = window.querySelector('.fullscreen-close-btn');
    if (fullscreenCloseBtn) {
      fullscreenCloseBtn.remove();
    }
    
    // Clean up iOS keyboard handling
    if (window.visualViewport) {
      cleanupIOSKeyboardHandling();
    }
    
    // Show social dock when chat closes
    const socialDock = document.getElementById('socialDock');
    if (socialDock) {
      socialDock.classList.remove('chat-open');
    }
    
    // Update expand icon
    updateExpandIcon();
  }
  
  function toggleFullscreen() {
    const isMobileDevice = window.innerWidth <= 767;
    
    // Force close keyboard immediately
    if (input) {
      input.blur();
      // Remove focus from any element
      if (document.activeElement && document.activeElement.blur) {
        document.activeElement.blur();
      }
    }
    
    // Clean up keyboard handling if switching modes
    if (window.visualViewport && keyboardAdjustHandler) {
      cleanupIOSKeyboardHandling();
    }
    
    isFullscreen = !isFullscreen;
    window.classList.toggle('chat-fullscreen', isFullscreen);
    
    // Maximize to viewport when entering fullscreen
    if (isFullscreen) {
      window.style.position = 'fixed';
      window.style.top = '0';
      window.style.left = '0';
      window.style.width = '100vw';
      window.style.height = '100vh';
      window.style.zIndex = '10000';
      window.style.borderRadius = '0';
      window.style.boxShadow = 'none';
      document.body.style.overflow = 'hidden';
      
      // Hide backdrop in fullscreen
      if (backdrop) {
        backdrop.classList.remove('show');
      }
      
      // Add fullscreen close button if it doesn't exist
      if (!window.querySelector('.fullscreen-close-btn')) {
        const closeBtn = document.createElement('button');
        closeBtn.className = 'fullscreen-close-btn';
        closeBtn.innerHTML = '<i class="fa-solid fa-xmark"></i>';
        closeBtn.setAttribute('aria-label', 'Exit fullscreen');
        closeBtn.style.cssText = `
          position: absolute;
          top: 15px;
          right: 15px;
          width: 40px;
          height: 40px;
          border-radius: 50%;
          background: rgba(0,0,0,0.1);
          border: 1px solid var(--border);
          color: var(--text);
          font-size: 16px;
          cursor: pointer;
          z-index: 10001;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all 0.2s var(--ease);
        `;
        closeBtn.addEventListener('click', (e) => {
          e.stopPropagation();
          toggleFullscreen();
        });
        closeBtn.addEventListener('mouseenter', () => {
          closeBtn.style.background = 'rgba(0,0,0,0.2)';
          closeBtn.style.transform = 'scale(1.1)';
        });
        closeBtn.addEventListener('mouseleave', () => {
          closeBtn.style.background = 'rgba(0,0,0,0.1)';
          closeBtn.style.transform = 'scale(1)';
        });
        window.appendChild(closeBtn);
      }
    } else {
      // Exit fullscreen - restore original styles
      window.style.position = '';
      window.style.top = '';
      window.style.left = '';
      window.style.width = '';
      window.style.height = '';
      window.style.zIndex = '';
      window.style.borderRadius = '';
      window.style.boxShadow = '';
      document.body.style.overflow = '';
      
      // Remove fullscreen close button
      const fullscreenCloseBtn = window.querySelector('.fullscreen-close-btn');
      if (fullscreenCloseBtn) {
        fullscreenCloseBtn.remove();
      }
      
      // Show backdrop in half-screen mode (mobile only)
      if (backdrop && isMobileDevice) {
        backdrop.classList.add('show');
      }
    }
    
    // Update expand icon
    updateExpandIcon();
    
    // Setup keyboard handling for fullscreen mode
    if (isFullscreen && window.visualViewport) {
      setTimeout(() => {
        setupIOSKeyboardHandling();
      }, 200);
    }
    
    // Scroll messages appropriately
    if (messages) {
      setTimeout(() => {
        if (isFullscreen) {
          messages.scrollTop = 0;
        } else {
          messages.scrollTop = messages.scrollHeight;
        }
      }, 150);
    }
  }
  
  function updateExpandIcon() {
    if (!expand) return;
    const icon = expand.querySelector('i');
    if (icon) {
      icon.className = isFullscreen ? 'fa-solid fa-compress' : 'fa-solid fa-expand';
    }
    expand.setAttribute('aria-label', isFullscreen ? 'Exit full screen' : 'Expand to full screen');
  }
  
  toggle.addEventListener('click', (e) => {
    e.preventDefault();
    e.stopPropagation();
    if (isOpen) closeChat();
    else openChat();
  });
  
  close.addEventListener('click', closeChat);
  
  // Fullscreen toggle (mobile only)
  if (expand) {
    expand.addEventListener('click', (e) => {
      e.stopPropagation();
      toggleFullscreen();
    });
  }
  
  // Close chat when clicking backdrop (mobile only)
  if (backdrop) {
    backdrop.addEventListener('click', () => {
      if (isOpen && !isFullscreen) {
        closeChat();
      }
    });
  }
  
  // Initialize expand icon
  updateExpandIcon();
  
  // Update send button visibility based on input content
  function updateSendButton() {
    if (input.value.trim().length > 0) {
      send.classList.add('visible');
    } else {
      send.classList.remove('visible');
    }
  }
  
  input.addEventListener('input', updateSendButton);
  input.addEventListener('keyup', updateSendButton);
  
  // ========== CUSTOM MOBILE KEYBOARD IMPLEMENTATION (Mobile Only) ==========
  const customKeyboard = document.getElementById('customKeyboard');
  const keyboardToggle = document.getElementById('keyboardToggle');
  let isShiftPressed = false;
  let isNumbersMode = false;
  
  // On desktop: Use system keyboard normally (no readonly, no custom keyboard)
  // On mobile: Use custom keyboard to prevent header push issues
  
  // Function to check if mobile
  function isMobile() {
    return window.innerWidth <= 767;
  }
  
  // Initialize input - allow system keyboard on all devices
  function initializeInput() {
    // Remove readonly to allow system keyboard on all devices
    input.removeAttribute('readonly');
    input.removeAttribute('data-focused');
    
    // Hide custom keyboard (not using it anymore)
    if (customKeyboard) {
      customKeyboard.classList.remove('show');
    }
    if (keyboardToggle) {
      keyboardToggle.classList.remove('active');
    }
  }
  
  // Initialize on load
  initializeInput();
  
  // Re-initialize on resize
  window.addEventListener('resize', function() {
    initializeInput();
  });
  
  // Toggle custom keyboard with button (Mobile Only)
  if (keyboardToggle && customKeyboard) {
    keyboardToggle.addEventListener('click', function(e) {
      e.preventDefault();
      e.stopPropagation();
      e.stopImmediatePropagation();
      
      // Only work on mobile
      if (!isMobile()) {
        return;
      }
      
      const isVisible = customKeyboard.classList.contains('show');
      
      // Custom keyboard toggle disabled - using system keyboard now
      // This code is kept but won't interfere with system keyboard
      if (isVisible) {
        // Hide keyboard
        customKeyboard.classList.remove('show');
        keyboardToggle.classList.remove('active');
        // Don't set readonly - allow system keyboard
        input.removeAttribute('data-focused');
        
        // Reset messages height
        const messages = document.getElementById('chatMessages');
        if (messages) {
          messages.style.height = '';
          messages.style.maxHeight = '';
        }
      } else {
        // Show keyboard
        customKeyboard.classList.add('show');
        keyboardToggle.classList.add('active');
        // Don't set readonly - allow system keyboard
        input.setAttribute('data-focused', 'true');
        
        // Force display
        customKeyboard.style.display = 'flex';
        
        // Adjust messages height to accommodate keyboard
        setTimeout(() => {
          const header = document.querySelector('.chat-header');
          const messages = document.getElementById('chatMessages');
          const inputWrapper = document.querySelector('.chat-input-wrapper');
          if (header && messages && inputWrapper) {
            const headerHeight = header.offsetHeight;
            const inputHeight = inputWrapper.offsetHeight;
            const keyboardHeight = customKeyboard.offsetHeight || 220;
            const availableHeight = window.innerHeight - headerHeight - inputHeight - keyboardHeight;
            messages.style.height = availableHeight + 'px';
            messages.style.maxHeight = availableHeight + 'px';
            
            // Scroll to latest message
            setTimeout(() => {
              messages.scrollTop = messages.scrollHeight;
            }, 150);
          }
        }, 100);
      }
    });
  }
  
  // Allow system keyboard to work naturally on all devices
  // Scroll messages to bottom when input is focused
  input.addEventListener('focus', function() {
    setTimeout(() => {
      const messagesEl = document.getElementById('chatMessages');
      if (messagesEl) {
        messagesEl.scrollTop = messagesEl.scrollHeight;
      }
    }, 300);
  });
  
  // Clean up when closing chat (keyboard handling cleanup is in closeChat function)
  
  // Keyboard key handlers
  if (customKeyboard) {
    // Custom keyboard handlers disabled - using system keyboard now
    // These handlers are kept for potential future use but won't interfere
    
    // Shift key
    const shiftKey = document.getElementById('keyboardShift');
    if (shiftKey) {
      shiftKey.addEventListener('click', function() {
        isShiftPressed = !isShiftPressed;
        this.classList.toggle('active', isShiftPressed);
        
        // Update all letter keys
        customKeyboard.querySelectorAll('.keyboard-key[data-key]').forEach(key => {
          key.textContent = isShiftPressed ? key.dataset.key.toUpperCase() : key.dataset.key;
        });
      });
    }
    
    // Send key
    const sendKey = document.getElementById('keyboardSend');
    if (sendKey) {
      sendKey.addEventListener('click', function() {
        if (input.value.trim()) {
          sendMessage();
        }
      });
    }
    
    // Numbers mode (placeholder - can be expanded)
    const numbersKey = document.getElementById('keyboardNumbers');
    if (numbersKey) {
      numbersKey.addEventListener('click', function() {
        // Toggle numbers mode (can be expanded to show number keys)
        isNumbersMode = !isNumbersMode;
        this.classList.toggle('active', isNumbersMode);
      });
    }
    
    // Custom keyboard close handlers disabled - using system keyboard now
  }
  
  // Removed blur handler - input should retain focus after send (iMessage-style)
  
  // Main response function - uses AI with fallback
  async function findResponse(text) {
    const lower = text.toLowerCase().trim();
    
    // Quick responses for greetings (instant, no API call)
    if (lower === 'hi' || lower === 'hello' || lower === 'hey') {
      return {
        response: "Hey! 👋 Welcome to BYZ. I'm ByzBot, your AI assistant. How can I help you today?",
        suggestions: ['Book tickets', 'Event info', 'Contact', 'View schedule']
      };
    }
    
    // Special handling for schedule requests (instant action)
    if (lower.includes('schedule') && lower.includes('tempo')) {
      const scheduleBtn = document.getElementById('tempoScheduleBtn');
      if (scheduleBtn) {
        setTimeout(() => scheduleBtn.click(), 1000);
        return {
          response: "Opening the Tempo schedule for you! You'll see all upcoming dates marked in red.",
          suggestions: ['Book Tempo', 'More info']
        };
      }
    }
    
    // Use AI for all other queries
    try {
      const aiText = await getAIResponse(text);
      const parsed = parseAIResponse(aiText, text);
      
      // Update conversation history
      conversationHistory.push({ role: 'user', content: text });
      conversationHistory.push({ role: 'assistant', content: aiText });
      
      // Keep history manageable (last 10 messages)
      if (conversationHistory.length > 10) {
        conversationHistory = conversationHistory.slice(-10);
      }
      
      return parsed;
    } catch (error) {
      console.error('Error getting AI response:', error);
      // Fallback to keyword matching
      return getFallbackResponse(text);
    }
  }
  
  function addMessage(text, isUser = false) {
    const message = document.createElement('div');
    message.className = `chat-message ${isUser ? 'user' : 'bot'}`;
    
    const time = new Date().toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit' });
    
    // Process text for links and icons
    let processedText = text;
    
    // Add clickable links for social media
    if (text.includes('facebook.com') || (text.includes('Facebook') && !text.includes('chat-link'))) {
      processedText = text.replace(/https:\/\/www\.facebook\.com\/byzinthehood/g, 
        '<a href="https://www.facebook.com/byzinthehood" target="_blank" class="chat-link"><i class="fa-brands fa-facebook"></i> Facebook</a>');
    }
    if (text.includes('Instagram') && !text.includes('chat-link')) {
      processedText = processedText.replace(/Instagram @byzinthehood/g, 
        '<a href="https://www.instagram.com/byzinthehood" target="_blank" class="chat-link"><i class="fa-brands fa-instagram"></i> Instagram</a>');
    }
    if (text.includes('TikTok') && !text.includes('chat-link')) {
      processedText = processedText.replace(/TikTok @byzinthehood/g, 
        '<a href="https://www.tiktok.com/@byzinthehood" target="_blank" class="chat-link"><i class="fa-brands fa-tiktok"></i> TikTok</a>');
    }
    if (text.includes('WhatsApp') && !text.includes('chat-link')) {
      processedText = processedText.replace(/\+255 768 464 367/g, 
        '<a href="https://wa.me/255768464367" target="_blank" class="chat-link"><i class="fa-brands fa-whatsapp"></i> WhatsApp</a>');
    }
    if ((text.includes('email') || text.includes('byzentertainment@gmail.com')) && !text.includes('chat-link')) {
      processedText = processedText.replace(/byzentertainment@gmail\.com/g, 
        '<a href="mailto:byzentertainment@gmail.com" class="chat-link"><i class="fa-solid fa-envelope"></i> Email</a>');
    }
    
    message.innerHTML = `
      <div class="message-avatar">
        ${isUser ? '<i class="fa-solid fa-user"></i>' : '<img src="assets/byz-logo-white.png" alt="BYZ" style="width:100%; height:100%; object-fit:contain; padding:4px;" />'}
      </div>
      <div class="message-content">
        <div class="message-text">${processedText}</div>
        <div class="message-time">${time}</div>
      </div>
    `;
    
    messages.appendChild(message);
    
    // On mobile, when keyboard opens, ensure first message and header are visible
    if (window.innerWidth <= 640) {
      // If input is focused (keyboard open), scroll to show first message
      if (document.activeElement === input) {
        // Small delay to let keyboard animation complete
        setTimeout(() => {
          messages.scrollTop = 0; // Scroll to top to show first message
        }, 100);
      } else {
        // Normal behavior: scroll to bottom for new messages
        messages.scrollTop = messages.scrollHeight;
      }
    } else {
      // Desktop: always scroll to bottom for new messages
      messages.scrollTop = messages.scrollHeight;
    }
  }
  
  function updateSuggestions(suggestionsList) {
    suggestions.innerHTML = suggestionsList.map(s => 
      `<button class="suggestion-btn">${s}</button>`
    ).join('');
    
    suggestions.querySelectorAll('.suggestion-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        input.value = btn.textContent;
        sendMessage();
      });
    });
  }
  
  async function sendMessage() {
    const text = input.value.trim();
    if (!text) return;
    
    addMessage(text, true);
    input.value = '';
    updateSendButton();
    
    // IMPORTANT: Do NOT blur input - keep keyboard open (iMessage-style)
    // Input will retain focus automatically
    
    // Show typing indicator
    const typingIndicator = document.createElement('div');
    typingIndicator.className = 'chat-message bot';
    typingIndicator.id = 'typingIndicator';
    typingIndicator.innerHTML = `
      <div class="message-avatar">
        <img src="assets/byz-logo-white.png" alt="BYZ" style="width:100%; height:100%; object-fit:contain; padding:4px;" />
      </div>
      <div class="message-content">
        <div class="message-text" style="padding: 10px 14px;">
          <span class="typing-dots">
            <span>.</span><span>.</span><span>.</span>
          </span>
        </div>
      </div>
    `;
    messages.appendChild(typingIndicator);
    
    // Scroll to bottom to show latest messages
    setTimeout(() => {
      messages.scrollTop = messages.scrollHeight;
    }, 100);
    
    try {
      // Get AI response
      const response = await findResponse(text);
      let responseText = response.response || response;
      let actionButtonHtml = '';
      
      // Handle both string and object responses
      if (typeof response === 'string') {
        responseText = response;
      } else if (response.response) {
        responseText = response.response;
      }
      
      // Add clickable links if provided
      if (response.link && response.linkType) {
        const icons = {
          'facebook': 'fa-brands fa-facebook',
          'instagram': 'fa-brands fa-instagram',
          'tiktok': 'fa-brands fa-tiktok',
          'whatsapp': 'fa-brands fa-whatsapp',
          'email': 'fa-solid fa-envelope'
        };
        const labels = {
          'facebook': 'Facebook',
          'instagram': 'Instagram',
          'tiktok': 'TikTok',
          'whatsapp': 'WhatsApp',
          'email': 'Email'
        };
        const linkUrl = response.linkType === 'whatsapp' ? 'https://wa.me/255768464367' : 
                       response.linkType === 'email' ? 'mailto:byzentertainment@gmail.com' : 
                       response.link;
        
        responseText += ` <a href="${linkUrl}" target="_blank" class="chat-link"><i class="${icons[response.linkType]}"></i> ${labels[response.linkType]}</a>`;
      }
      
      // Add action button if provided (e.g., "Request Invite")
      if (response.actionButton) {
        const btnIcons = {
          'link': 'fa-solid fa-arrow-right',
          'whatsapp': 'fa-brands fa-whatsapp',
          'email': 'fa-solid fa-envelope'
        };
        const btnIcon = btnIcons[response.actionButton.type] || 'fa-solid fa-arrow-right';
        actionButtonHtml = `<a href="${response.actionButton.href}" class="chat-action-btn"><i class="${btnIcon}"></i> ${response.actionButton.text}</a>`;
      }
      
      // Remove typing indicator
      typingIndicator.remove();
      
      // Add AI response
      addMessage(responseText + actionButtonHtml, false);
      updateSuggestions(response.suggestions || ['Book tickets', 'Event info', 'Contact']);
    } catch (error) {
      // Remove typing indicator
      typingIndicator.remove();
      
      // Show error message
      addMessage("Sorry, I'm having trouble connecting right now. Please try again or contact us directly!", false);
      updateSuggestions(['Contact', 'Book tickets', 'Event info']);
    }
  }
  
  send.addEventListener('click', sendMessage);
  input.addEventListener('keypress', (e) => {
    if (e.key === 'Enter') sendMessage();
  });
  
  // Duplicate handler removed - using the one above with visualViewport API
  
  // Initialize send button state
  updateSendButton();
  
  // Initial suggestions
  updateSuggestions(faqDatabase.hi.suggestions);
  
  // Hide badge after first interaction
  toggle.addEventListener('click', () => {
    badge.style.display = 'none';
  }, { once: true });
})();

/* =========================================================
   SOCIAL SHARING FUNCTION
========================================================= */
function shareEvent(title, description, url) {
  const shareData = {
    title: `${title} - BYZ Entertainment`,
    text: description,
    url: url || window.location.href
  };
  
  if (navigator.share) {
    navigator.share(shareData).catch(() => {
      // Fallback: copy to clipboard
      navigator.clipboard.writeText(url || window.location.href).then(() => {
        if (typeof showToast !== 'undefined') {
          showToast('Link copied to clipboard!');
        } else {
          alert('Link copied to clipboard!');
        }
      });
    });
  } else {
    // Fallback: copy to clipboard
    navigator.clipboard.writeText(url || window.location.href).then(() => {
      if (typeof showToast !== 'undefined') {
        showToast('Link copied to clipboard!');
      } else {
        alert('Link copied to clipboard!');
      }
    });
  }
}

/* =========================================================
   QR CODE GENERATION FUNCTION
   PRESERVED: User can generate QR codes for event sharing
   INTEGRATED: Uses same API pattern as backend (api.qrserver.com)
========================================================= */
function generateQRCode(url) {
  const targetUrl = url || window.location.href;
  
  // Generate QR code using same API as backend
  const qrSize = 420;
  const qrApiUrl = `https://api.qrserver.com/v1/create-qr-code/?size=${qrSize}x${qrSize}&data=${encodeURIComponent(targetUrl)}`;
  
  // Open QR code in new window/tab for user to save or share
  const qrWindow = window.open(qrApiUrl, '_blank', 'width=500,height=500');
  
  if (!qrWindow) {
    // Popup blocked - fallback: show QR code in modal or copy URL
    if (typeof showToast !== 'undefined') {
      showToast(`QR code URL: ${qrApiUrl}`);
    } else {
      // Create temporary modal to display QR
      const modal = document.createElement('div');
      modal.style.cssText = `
        position: fixed; inset: 0; z-index: 10000;
        background: rgba(0,0,0,0.8); display: grid; place-items: center;
        padding: 20px;
      `;
      modal.innerHTML = `
        <div style="background: white; padding: 24px; border-radius: 20px; text-align: center; max-width: 500px;">
          <h3 style="margin-bottom: 16px;">QR Code</h3>
          <img src="${qrApiUrl}" alt="QR Code" style="max-width: 100%; height: auto; border: 1px solid #ddd; border-radius: 8px;">
          <p style="margin-top: 16px; font-size: 12px; color: #666;">Right-click image to save</p>
          <button onclick="this.closest('div').parentElement.remove(); document.body.style.overflow='';" 
                  style="margin-top: 16px; padding: 10px 20px; border: none; background: #000; color: white; border-radius: 8px; cursor: pointer;">
            Close
          </button>
        </div>
      `;
      document.body.style.overflow = 'hidden';
      document.body.appendChild(modal);
      modal.addEventListener('click', (e) => {
        if (e.target === modal) {
          modal.remove();
          document.body.style.overflow = '';
        }
      });
    }
  }
}

</script>
</body>
</html>
